00:01:32 [INF] [ATARASHIBEASTX #17 ] Application is shutting down...
00:01:35 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
00:01:35 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
00:01:35 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
00:01:35 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
00:01:36 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
00:01:36 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An error occurred while seeding the database
System.ArgumentException: An item with the same key has already been added. Key: 0
   at System.Collections.Generic.Dictionary`2.TryInsert(TKey key, TValue value, InsertionBehavior behavior)
   at System.Collections.Generic.Dictionary`2.Add(TKey key, TValue value)
   at System.Linq.Enumerable.ToDictionary[TSource,TKey](List`1 source, Func`2 keySelector, IEqualityComparer`1 comparer)
   at System.Linq.Enumerable.ToDictionary[TSource,TKey](IEnumerable`1 source, Func`2 keySelector, IEqualityComparer`1 comparer)
   at System.Linq.Enumerable.ToDictionary[TSource,TKey](IEnumerable`1 source, Func`2 keySelector)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 89
00:09:10 [INF] [ATARASHIBEASTX #19 ] Application is shutting down...
00:09:17 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
00:09:17 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
00:09:17 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
00:09:17 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
00:09:20 [WRN] [ATARASHIBEASTX #13 .NET TP Worker] Failed to determine the https port for redirect.
00:09:21 [ERR] [ATARASHIBEASTX #13 .NET TP Worker] An error occurred while seeding the database
System.ArgumentException: An item with the same key has already been added. Key: 0
   at System.Collections.Generic.Dictionary`2.TryInsert(TKey key, TValue value, InsertionBehavior behavior)
   at System.Collections.Generic.Dictionary`2.Add(TKey key, TValue value)
   at System.Linq.Enumerable.ToDictionary[TSource,TKey](IEnumerable`1 source, Func`2 keySelector, IEqualityComparer`1 comparer)
   at System.Linq.Enumerable.ToDictionary[TSource,TKey](IEnumerable`1 source, Func`2 keySelector)
   at MyBGList.Controllers.SeedController.Put() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 89
00:13:41 [INF] [ATARASHIBEASTX #19 ] Application is shutting down...
00:17:19 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
00:17:19 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
00:17:19 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
00:17:19 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
00:17:21 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
00:17:22 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
00:17:22 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
00:17:22 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[ActualEndTime], [b].[EndDateTime], [b].[StartDateTime]
FROM [Batch] AS [b]
00:17:22 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name], [s].[Quantity]
FROM [Stock] AS [s]
00:17:22 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] Order with ID 1 not found while seeding OrderBakingGood
00:17:22 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] Order with ID 1 not found while seeding OrderBakingGood
00:17:22 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] Order with ID 1 not found while seeding OrderBakingGood
00:17:22 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] Order with ID 2 not found while seeding OrderBakingGood
00:17:22 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] Order with ID 2 not found while seeding OrderBakingGood
00:17:22 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] Order with ID 2 not found while seeding OrderBakingGood
00:17:22 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] ON
00:17:22 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 255), @p12='?' (DbType = DateTime2), @p13='?' (Size = 255), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (Size = 50), @p17='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
00:17:22 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] OFF
00:17:22 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Order] AS [o]
00:17:22 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BakingGood] AS [b]
00:17:22 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Batch] AS [b]
00:17:22 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Stock] AS [s]
00:17:22 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Packet] AS [p]
00:17:22 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OrderBakingGood] AS [o]
00:17:22 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BakingGoodBatch] AS [b]
00:17:22 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BatchStock] AS [b]
00:17:33 [INF] [ATARASHIBEASTX #15 ] Application is shutting down...
00:17:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
00:17:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
00:17:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
00:17:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
00:17:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
00:17:40 [INF] [ATARASHIBEASTX #1 ] Reverting migration '20240402204427_InitialCreate'.
00:17:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BakingGoodBatch];
00:17:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BatchStock];
00:17:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [OrderBakingGood];
00:17:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Packet];
00:17:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Batch];
00:17:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Stock];
00:17:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BakingGood];
00:17:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Order];
00:17:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [__EFMigrationsHistory]
WHERE [MigrationId] = N'20240402204427_InitialCreate';
00:17:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
00:17:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
00:17:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
00:17:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
00:17:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
00:17:48 [INF] [ATARASHIBEASTX #1 ] Applying migration '20240402204427_InitialCreate'.
00:17:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGood] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [DateProduced] datetime2 NOT NULL,
    CONSTRAINT [PK_BakingGood] PRIMARY KEY ([Id])
);
00:17:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Batch] (
    [Id] int NOT NULL IDENTITY,
    [StartDateTime] datetime2 NOT NULL,
    [EndDateTime] datetime2 NOT NULL,
    [ActualEndTime] datetime2 NOT NULL,
    CONSTRAINT [PK_Batch] PRIMARY KEY ([Id])
);
00:17:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Order] (
    [Id] int NOT NULL IDENTITY,
    [DeliveryPlace] nvarchar(255) NOT NULL,
    [DeliveryDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Order] PRIMARY KEY ([Id])
);
00:17:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Stock] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_Stock] PRIMARY KEY ([Id])
);
00:17:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGoodBatch] (
    [BakingGoodId] int NOT NULL,
    [BatchId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BakingGoodBatch] PRIMARY KEY ([BatchId], [BakingGoodId]),
    CONSTRAINT [FK_BakingGoodBatch_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BakingGoodBatch_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE
);
00:17:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OrderBakingGood] (
    [OrderId] int NOT NULL,
    [BakingGoodId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_OrderBakingGood] PRIMARY KEY ([OrderId], [BakingGoodId]),
    CONSTRAINT [FK_OrderBakingGood_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_OrderBakingGood_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
00:17:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Packet] (
    [Id] int NOT NULL IDENTITY,
    [TrackId] nvarchar(9) NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Packet] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Packet_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
00:17:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BatchStock] (
    [BatchId] int NOT NULL,
    [StockId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BatchStock] PRIMARY KEY ([BatchId], [StockId]),
    CONSTRAINT [FK_BatchStock_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BatchStock_Stock_StockId] FOREIGN KEY ([StockId]) REFERENCES [Stock] ([Id]) ON DELETE CASCADE
);
00:17:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BakingGoodBatch_BakingGoodId] ON [BakingGoodBatch] ([BakingGoodId]);
00:17:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BatchStock_StockId] ON [BatchStock] ([StockId]);
00:17:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OrderBakingGood_BakingGoodId] ON [OrderBakingGood] ([BakingGoodId]);
00:17:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Packet_OrderId] ON [Packet] ([OrderId]);
00:17:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240402204427_InitialCreate', N'8.0.2');
00:18:12 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
00:18:12 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
00:18:12 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
00:18:12 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
00:18:18 [WRN] [ATARASHIBEASTX #10 .NET TP Worker] Failed to determine the https port for redirect.
00:18:19 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (25ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 255), @p12='?' (DbType = DateTime2), @p13='?' (Size = 255), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (Size = 50), @p17='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
00:18:19 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
00:18:19 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
00:18:19 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[ActualEndTime], [b].[EndDateTime], [b].[StartDateTime]
FROM [Batch] AS [b]
00:18:19 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name], [s].[Quantity]
FROM [Stock] AS [s]
00:18:19 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The instance of entity type 'Order' cannot be tracked because another instance with the same key value for {'Id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at MyBGList.Controllers.SeedController.Put() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 118
00:20:00 [INF] [ATARASHIBEASTX #16 ] Application is shutting down...
00:20:04 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
00:20:04 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
00:20:04 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
00:20:04 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
00:20:07 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
00:20:08 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
00:20:08 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (13ms) [Parameters=[@p0='2024-03-27T04:00:00.0000000', @p1='Cake' (Nullable = false) (Size = 50), @p2='2024-03-28T05:00:00.0000000', @p3='Cookie' (Nullable = false) (Size = 50), @p4='2024-03-28T09:45:00.0000000', @p5='2024-03-28T10:00:00.0000000', @p6='2024-03-28T08:00:00.0000000', @p7='2024-03-29T08:45:00.0000000', @p8='2024-03-29T09:00:00.0000000', @p9='2024-03-29T07:00:00.0000000', @p10='2024-03-28T03:00:00.0000000', @p11='Location1' (Nullable = false) (Size = 255), @p12='2024-03-29T02:00:00.0000000', @p13='Location2' (Nullable = false) (Size = 255), @p14='Flour' (Nullable = false) (Size = 50), @p15='100', @p16='Sugar' (Nullable = false) (Size = 50), @p17='200'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
00:20:08 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
00:20:08 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
00:20:08 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[ActualEndTime], [b].[EndDateTime], [b].[StartDateTime]
FROM [Batch] AS [b]
00:20:08 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name], [s].[Quantity]
FROM [Stock] AS [s]
00:20:08 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The instance of entity type 'OrderBakingGood' cannot be tracked because another instance with the key value '{OrderId: 1, BakingGoodId: 1}' is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at MyBGList.Controllers.SeedController.Put() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 127
00:21:57 [INF] [ATARASHIBEASTX #18 ] Application is shutting down...
00:22:00 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
00:22:00 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
00:22:00 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
00:22:00 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
00:22:02 [WRN] [ATARASHIBEASTX #11 .NET TP Worker] Failed to determine the https port for redirect.
00:22:02 [WRN] [ATARASHIBEASTX #11 .NET TP Worker] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
00:22:02 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (16ms) [Parameters=[@p0='2024-03-27T04:00:00.0000000', @p1='Cake' (Nullable = false) (Size = 50), @p2='2024-03-28T05:00:00.0000000', @p3='Cookie' (Nullable = false) (Size = 50), @p4='2024-03-28T09:45:00.0000000', @p5='2024-03-28T10:00:00.0000000', @p6='2024-03-28T08:00:00.0000000', @p7='2024-03-29T08:45:00.0000000', @p8='2024-03-29T09:00:00.0000000', @p9='2024-03-29T07:00:00.0000000', @p10='2024-03-28T03:00:00.0000000', @p11='Location1' (Nullable = false) (Size = 255), @p12='2024-03-29T02:00:00.0000000', @p13='Location2' (Nullable = false) (Size = 255), @p14='Flour' (Nullable = false) (Size = 50), @p15='100', @p16='Sugar' (Nullable = false) (Size = 50), @p17='200'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
00:22:02 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
00:22:02 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
00:22:02 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[ActualEndTime], [b].[EndDateTime], [b].[StartDateTime]
FROM [Batch] AS [b]
00:22:02 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name], [s].[Quantity]
FROM [Stock] AS [s]
00:22:03 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The instance of entity type 'OrderBakingGood' cannot be tracked because another instance with the key value '{OrderId: 1, BakingGoodId: 1}' is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at MyBGList.Controllers.SeedController.Put() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 127
00:22:47 [INF] [ATARASHIBEASTX #16 ] Application is shutting down...
00:22:50 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
00:22:50 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
00:22:50 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
00:22:50 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
00:22:51 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
00:22:51 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
00:22:51 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (15ms) [Parameters=[@p0='2024-03-27T04:00:00.0000000', @p1='Cake' (Nullable = false) (Size = 50), @p2='2024-03-28T05:00:00.0000000', @p3='Cookie' (Nullable = false) (Size = 50), @p4='2024-03-28T09:45:00.0000000', @p5='2024-03-28T10:00:00.0000000', @p6='2024-03-28T08:00:00.0000000', @p7='2024-03-29T08:45:00.0000000', @p8='2024-03-29T09:00:00.0000000', @p9='2024-03-29T07:00:00.0000000', @p10='2024-03-28T03:00:00.0000000', @p11='Location1' (Nullable = false) (Size = 255), @p12='2024-03-29T02:00:00.0000000', @p13='Location2' (Nullable = false) (Size = 255), @p14='Flour' (Nullable = false) (Size = 50), @p15='100', @p16='Sugar' (Nullable = false) (Size = 50), @p17='200'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
00:22:52 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
00:22:52 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
00:22:52 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[ActualEndTime], [b].[EndDateTime], [b].[StartDateTime]
FROM [Batch] AS [b]
00:22:52 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name], [s].[Quantity]
FROM [Stock] AS [s]
00:22:52 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The instance of entity type 'OrderBakingGood' cannot be tracked because another instance with the key value '{OrderId: 1, BakingGoodId: 1}' is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at MyBGList.Controllers.SeedController.Put() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 128
00:31:13 [INF] [ATARASHIBEASTX #21 ] Application is shutting down...
00:31:17 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
00:31:17 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
00:31:17 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
00:31:17 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
00:31:22 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
00:31:22 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
00:31:22 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (16ms) [Parameters=[@p0='2024-03-27T04:00:00.0000000', @p1='Cake' (Nullable = false) (Size = 50), @p2='2024-03-28T05:00:00.0000000', @p3='Cookie' (Nullable = false) (Size = 50), @p4='2024-03-28T09:45:00.0000000', @p5='2024-03-28T10:00:00.0000000', @p6='2024-03-28T08:00:00.0000000', @p7='2024-03-29T08:45:00.0000000', @p8='2024-03-29T09:00:00.0000000', @p9='2024-03-29T07:00:00.0000000', @p10='2024-03-28T03:00:00.0000000', @p11='Location1' (Nullable = false) (Size = 255), @p12='2024-03-29T02:00:00.0000000', @p13='Location2' (Nullable = false) (Size = 255), @p14='Flour' (Nullable = false) (Size = 50), @p15='100', @p16='Sugar' (Nullable = false) (Size = 50), @p17='200'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
00:31:22 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
00:31:22 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
00:31:22 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[ActualEndTime], [b].[EndDateTime], [b].[StartDateTime]
FROM [Batch] AS [b]
00:31:22 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name], [s].[Quantity]
FROM [Stock] AS [s]
00:31:22 [ERR] [ATARASHIBEASTX #12 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The instance of entity type 'BakingGoodBatch' cannot be tracked because another instance with the key value '{BatchId: 1, BakingGoodId: 1}' is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at MyBGList.Controllers.SeedController.Put() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 139
00:32:06 [INF] [ATARASHIBEASTX #15 ] Application is shutting down...
00:32:08 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
00:32:08 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
00:32:08 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
00:32:08 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
00:32:09 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
00:32:09 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
00:32:10 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (16ms) [Parameters=[@p0='2024-03-27T04:00:00.0000000', @p1='Cake' (Nullable = false) (Size = 50), @p2='2024-03-28T05:00:00.0000000', @p3='Cookie' (Nullable = false) (Size = 50), @p4='2024-03-28T09:45:00.0000000', @p5='2024-03-28T10:00:00.0000000', @p6='2024-03-28T08:00:00.0000000', @p7='2024-03-29T08:45:00.0000000', @p8='2024-03-29T09:00:00.0000000', @p9='2024-03-29T07:00:00.0000000', @p10='2024-03-28T03:00:00.0000000', @p11='Location1' (Nullable = false) (Size = 255), @p12='2024-03-29T02:00:00.0000000', @p13='Location2' (Nullable = false) (Size = 255), @p14='Flour' (Nullable = false) (Size = 50), @p15='100', @p16='Sugar' (Nullable = false) (Size = 50), @p17='200'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
00:32:10 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
00:32:10 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
00:32:10 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[ActualEndTime], [b].[EndDateTime], [b].[StartDateTime]
FROM [Batch] AS [b]
00:32:10 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name], [s].[Quantity]
FROM [Stock] AS [s]
00:32:10 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] ON
00:32:10 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] Failed executing DbCommand (6ms) [Parameters=[@p0='1', @p1='2024-03-27T04:00:00.0000000', @p2='Cake' (Nullable = false) (Size = 50), @p3='2', @p4='2024-03-28T05:00:00.0000000', @p5='Cookie' (Nullable = false) (Size = 50), @p6='1', @p7='2024-03-28T09:45:00.0000000', @p8='2024-03-28T10:00:00.0000000', @p9='2024-03-28T08:00:00.0000000', @p10='2', @p11='2024-03-29T08:45:00.0000000', @p12='2024-03-29T09:00:00.0000000', @p13='2024-03-29T07:00:00.0000000', @p14='1', @p15='2024-03-28T03:00:00.0000000', @p16='Location1' (Nullable = false) (Size = 255), @p17='2', @p18='2024-03-29T02:00:00.0000000', @p19='Location2' (Nullable = false) (Size = 255), @p20='1', @p21='Flour' (Nullable = false) (Size = 50), @p22='100', @p23='2', @p24='Sugar' (Nullable = false) (Size = 50), @p25='200'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BakingGood] ([Id], [DateProduced], [Name])
VALUES (@p0, @p1, @p2),
(@p3, @p4, @p5);
INSERT INTO [Batch] ([Id], [ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (@p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13);
INSERT INTO [Order] ([Id], [DeliveryDate], [DeliveryPlace])
VALUES (@p14, @p15, @p16),
(@p17, @p18, @p19);
INSERT INTO [Stock] ([Id], [Name], [Quantity])
VALUES (@p20, @p21, @p22),
(@p23, @p24, @p25);
00:32:10 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'BakingGood' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Batch' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Order' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Stock' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e94baa0e-fe79-4e43-8a84-015c596f4cdb
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'BakingGood' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Batch' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Order' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Stock' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e94baa0e-fe79-4e43-8a84-015c596f4cdb
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
00:32:10 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] An error occurred while seeding the database
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'BakingGood' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Batch' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Order' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Stock' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e94baa0e-fe79-4e43-8a84-015c596f4cdb
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Put() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 155
00:34:33 [INF] [ATARASHIBEASTX #18 ] Application is shutting down...
00:34:36 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
00:34:36 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
00:34:36 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
00:34:36 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
00:34:37 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
00:34:37 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
00:34:37 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (13ms) [Parameters=[@p0='2024-03-27T04:00:00.0000000', @p1='Cake' (Nullable = false) (Size = 50), @p2='2024-03-28T05:00:00.0000000', @p3='Cookie' (Nullable = false) (Size = 50), @p4='2024-03-28T09:45:00.0000000', @p5='2024-03-28T10:00:00.0000000', @p6='2024-03-28T08:00:00.0000000', @p7='2024-03-29T08:45:00.0000000', @p8='2024-03-29T09:00:00.0000000', @p9='2024-03-29T07:00:00.0000000', @p10='2024-03-28T03:00:00.0000000', @p11='Location1' (Nullable = false) (Size = 255), @p12='2024-03-29T02:00:00.0000000', @p13='Location2' (Nullable = false) (Size = 255), @p14='Flour' (Nullable = false) (Size = 50), @p15='100', @p16='Sugar' (Nullable = false) (Size = 50), @p17='200'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
00:34:37 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
00:34:37 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
00:34:37 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[ActualEndTime], [b].[EndDateTime], [b].[StartDateTime]
FROM [Batch] AS [b]
00:34:37 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name], [s].[Quantity]
FROM [Stock] AS [s]
00:34:37 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [BakingGood] ON
00:34:37 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Batch] ON
00:34:37 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] ON
00:34:37 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Stock] ON
00:34:37 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] Failed executing DbCommand (3ms) [Parameters=[@p0='1', @p1='2024-03-27T04:00:00.0000000', @p2='Cake' (Nullable = false) (Size = 50), @p3='2', @p4='2024-03-28T05:00:00.0000000', @p5='Cookie' (Nullable = false) (Size = 50), @p6='1', @p7='2024-03-28T09:45:00.0000000', @p8='2024-03-28T10:00:00.0000000', @p9='2024-03-28T08:00:00.0000000', @p10='2', @p11='2024-03-29T08:45:00.0000000', @p12='2024-03-29T09:00:00.0000000', @p13='2024-03-29T07:00:00.0000000', @p14='1', @p15='2024-03-28T03:00:00.0000000', @p16='Location1' (Nullable = false) (Size = 255), @p17='2', @p18='2024-03-29T02:00:00.0000000', @p19='Location2' (Nullable = false) (Size = 255), @p20='1', @p21='Flour' (Nullable = false) (Size = 50), @p22='100', @p23='2', @p24='Sugar' (Nullable = false) (Size = 50), @p25='200'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BakingGood] ([Id], [DateProduced], [Name])
VALUES (@p0, @p1, @p2),
(@p3, @p4, @p5);
INSERT INTO [Batch] ([Id], [ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (@p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13);
INSERT INTO [Order] ([Id], [DeliveryDate], [DeliveryPlace])
VALUES (@p14, @p15, @p16),
(@p17, @p18, @p19);
INSERT INTO [Stock] ([Id], [Name], [Quantity])
VALUES (@p20, @p21, @p22),
(@p23, @p24, @p25);
00:34:37 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'BakingGood' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Batch' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Order' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Stock' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9775a632-cdd9-4639-979c-e68aa0abc79f
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'BakingGood' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Batch' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Order' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Stock' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9775a632-cdd9-4639-979c-e68aa0abc79f
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
00:34:37 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] An error occurred while seeding the database
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'BakingGood' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Batch' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Order' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Stock' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9775a632-cdd9-4639-979c-e68aa0abc79f
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Put() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 159
00:35:41 [INF] [ATARASHIBEASTX #16 ] Application is shutting down...
00:35:45 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
00:35:45 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
00:35:45 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
00:35:45 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
00:35:47 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
00:35:47 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
00:35:47 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (13ms) [Parameters=[@p0='2024-03-27T04:00:00.0000000', @p1='Cake' (Nullable = false) (Size = 50), @p2='2024-03-28T05:00:00.0000000', @p3='Cookie' (Nullable = false) (Size = 50), @p4='2024-03-28T09:45:00.0000000', @p5='2024-03-28T10:00:00.0000000', @p6='2024-03-28T08:00:00.0000000', @p7='2024-03-29T08:45:00.0000000', @p8='2024-03-29T09:00:00.0000000', @p9='2024-03-29T07:00:00.0000000', @p10='2024-03-28T03:00:00.0000000', @p11='Location1' (Nullable = false) (Size = 255), @p12='2024-03-29T02:00:00.0000000', @p13='Location2' (Nullable = false) (Size = 255), @p14='Flour' (Nullable = false) (Size = 50), @p15='100', @p16='Sugar' (Nullable = false) (Size = 50), @p17='200'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
00:35:47 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
00:35:47 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
00:35:47 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[ActualEndTime], [b].[EndDateTime], [b].[StartDateTime]
FROM [Batch] AS [b]
00:35:47 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name], [s].[Quantity]
FROM [Stock] AS [s]
00:35:47 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [BakingGood] ON
00:35:47 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Batch] ON
00:35:47 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] An error occurred while seeding the database
Microsoft.Data.SqlClient.SqlException (0x80131904): IDENTITY_INSERT is already ON for table 'MyBGList.dbo.BakingGood'. Cannot perform SET operation for table 'Batch'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean isAsync, Int32 timeout, Boolean asyncWrite)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQuery(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRaw(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRaw(DatabaseFacade databaseFacade, String sql, Object[] parameters)
   at MyBGList.Controllers.SeedController.Put() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 156
ClientConnectionId:13fb7ca4-2d13-4449-89c0-2710d963f0dc
Error Number:8107,State:1,Class:16
00:41:02 [INF] [ATARASHIBEASTX #3 ] Application is shutting down...
00:41:06 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
00:41:07 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
00:41:07 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
00:41:07 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
00:41:08 [INF] [ATARASHIBEASTX #12 ] Application is shutting down...
00:41:15 [WRN] [ATARASHIBEASTX #1 ] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
00:41:15 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
00:41:15 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
00:41:15 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
00:41:15 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
00:41:15 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
00:41:15 [INF] [ATARASHIBEASTX #1 ] Reverting migration '20240402204427_InitialCreate'.
00:41:15 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BakingGoodBatch];
00:41:15 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BatchStock];
00:41:15 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [OrderBakingGood];
00:41:15 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Packet];
00:41:15 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Batch];
00:41:15 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Stock];
00:41:15 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BakingGood];
00:41:15 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Order];
00:41:15 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [__EFMigrationsHistory]
WHERE [MigrationId] = N'20240402204427_InitialCreate';
00:41:26 [WRN] [ATARASHIBEASTX #1 ] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
00:41:26 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
00:41:26 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
00:41:26 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
00:41:26 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
00:41:26 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
00:41:26 [INF] [ATARASHIBEASTX #1 ] Applying migration '20240402204427_InitialCreate'.
00:41:26 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGood] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [DateProduced] datetime2 NOT NULL,
    CONSTRAINT [PK_BakingGood] PRIMARY KEY ([Id])
);
00:41:26 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Batch] (
    [Id] int NOT NULL IDENTITY,
    [StartDateTime] datetime2 NOT NULL,
    [EndDateTime] datetime2 NOT NULL,
    [ActualEndTime] datetime2 NOT NULL,
    CONSTRAINT [PK_Batch] PRIMARY KEY ([Id])
);
00:41:26 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Order] (
    [Id] int NOT NULL IDENTITY,
    [DeliveryPlace] nvarchar(255) NOT NULL,
    [DeliveryDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Order] PRIMARY KEY ([Id])
);
00:41:26 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Stock] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_Stock] PRIMARY KEY ([Id])
);
00:41:26 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGoodBatch] (
    [BakingGoodId] int NOT NULL,
    [BatchId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BakingGoodBatch] PRIMARY KEY ([BatchId], [BakingGoodId]),
    CONSTRAINT [FK_BakingGoodBatch_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BakingGoodBatch_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE
);
00:41:26 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OrderBakingGood] (
    [OrderId] int NOT NULL,
    [BakingGoodId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_OrderBakingGood] PRIMARY KEY ([OrderId], [BakingGoodId]),
    CONSTRAINT [FK_OrderBakingGood_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_OrderBakingGood_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
00:41:26 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Packet] (
    [Id] int NOT NULL IDENTITY,
    [TrackId] nvarchar(9) NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Packet] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Packet_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
00:41:26 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BatchStock] (
    [BatchId] int NOT NULL,
    [StockId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BatchStock] PRIMARY KEY ([BatchId], [StockId]),
    CONSTRAINT [FK_BatchStock_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BatchStock_Stock_StockId] FOREIGN KEY ([StockId]) REFERENCES [Stock] ([Id]) ON DELETE CASCADE
);
00:41:26 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BakingGoodBatch_BakingGoodId] ON [BakingGoodBatch] ([BakingGoodId]);
00:41:26 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BatchStock_StockId] ON [BatchStock] ([StockId]);
00:41:26 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OrderBakingGood_BakingGoodId] ON [OrderBakingGood] ([BakingGoodId]);
00:41:26 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Packet_OrderId] ON [Packet] ([OrderId]);
00:41:26 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240402204427_InitialCreate', N'8.0.2');
00:41:30 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
00:41:30 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
00:41:30 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
00:41:30 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
00:41:32 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
00:41:33 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
00:41:33 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An error occurred while seeding the database
System.ArgumentException: An item with the same key has already been added. Key: 0
   at System.Collections.Generic.Dictionary`2.TryInsert(TKey key, TValue value, InsertionBehavior behavior)
   at System.Collections.Generic.Dictionary`2.Add(TKey key, TValue value)
   at System.Linq.Enumerable.ToDictionary[TSource,TKey](IEnumerable`1 source, Func`2 keySelector, IEqualityComparer`1 comparer)
   at System.Linq.Enumerable.ToDictionary[TSource,TKey](IEnumerable`1 source, Func`2 keySelector)
   at MyBGList.Controllers.SeedController.Put() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 90
00:42:14 [INF] [ATARASHIBEASTX #14 ] Application is shutting down...
00:42:18 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
00:42:18 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
00:42:18 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
00:42:18 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
00:42:19 [WRN] [ATARASHIBEASTX #11 .NET TP Worker] Failed to determine the https port for redirect.
00:42:20 [WRN] [ATARASHIBEASTX #11 .NET TP Worker] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
00:42:20 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] An error occurred while seeding the database
System.ArgumentException: An item with the same key has already been added. Key: 0
   at System.Collections.Generic.Dictionary`2.TryInsert(TKey key, TValue value, InsertionBehavior behavior)
   at System.Collections.Generic.Dictionary`2.Add(TKey key, TValue value)
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector)
   at MyBGList.Controllers.SeedController.Put() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 90
00:45:53 [INF] [ATARASHIBEASTX #16 ] Application is shutting down...
00:45:56 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
00:45:56 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
00:45:56 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
00:45:56 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
00:45:57 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
00:45:57 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
00:45:58 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (22ms) [Parameters=[@p0='2024-03-27T04:00:00.0000000', @p1='Cake' (Nullable = false) (Size = 50), @p2='2024-03-28T05:00:00.0000000', @p3='Cookie' (Nullable = false) (Size = 50), @p4='2024-03-28T09:45:00.0000000', @p5='2024-03-28T10:00:00.0000000', @p6='2024-03-28T08:00:00.0000000', @p7='2024-03-29T08:45:00.0000000', @p8='2024-03-29T09:00:00.0000000', @p9='2024-03-29T07:00:00.0000000', @p10='2024-03-28T03:00:00.0000000', @p11='Location1' (Nullable = false) (Size = 255), @p12='2024-03-29T02:00:00.0000000', @p13='Location2' (Nullable = false) (Size = 255), @p14='Flour' (Nullable = false) (Size = 50), @p15='100', @p16='Sugar' (Nullable = false) (Size = 50), @p17='200'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
00:45:58 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
00:45:58 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
00:45:58 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[ActualEndTime], [b].[EndDateTime], [b].[StartDateTime]
FROM [Batch] AS [b]
00:45:58 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name], [s].[Quantity]
FROM [Stock] AS [s]
00:45:58 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [BakingGood] ON
00:45:58 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Batch] ON
00:45:58 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An error occurred while seeding the database
Microsoft.Data.SqlClient.SqlException (0x80131904): IDENTITY_INSERT is already ON for table 'MyBGList.dbo.BakingGood'. Cannot perform SET operation for table 'Batch'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean isAsync, Int32 timeout, Boolean asyncWrite)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQuery(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRaw(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRaw(DatabaseFacade databaseFacade, String sql, Object[] parameters)
   at MyBGList.Controllers.SeedController.Put() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 156
ClientConnectionId:b2cc40dc-971e-4ef9-a137-9bcd2308b909
Error Number:8107,State:1,Class:16
00:47:51 [INF] [ATARASHIBEASTX #16 ] Application is shutting down...
09:35:42 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
09:35:42 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
09:35:42 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
09:35:42 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojansDumplingsWhite\BAD3\MyBGList_Chap7
09:35:45 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
09:35:57 [WRN] [ATARASHIBEASTX #11 .NET TP Worker] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
09:35:57 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (50ms) [Parameters=[@p0='2024-03-27T04:00:00.0000000', @p1='Cake' (Nullable = false) (Size = 50), @p2='2024-03-28T05:00:00.0000000', @p3='Cookie' (Nullable = false) (Size = 50), @p4='2024-03-28T09:45:00.0000000', @p5='2024-03-28T10:00:00.0000000', @p6='2024-03-28T08:00:00.0000000', @p7='2024-03-29T08:45:00.0000000', @p8='2024-03-29T09:00:00.0000000', @p9='2024-03-29T07:00:00.0000000', @p10='2024-03-28T03:00:00.0000000', @p11='Location1' (Nullable = false) (Size = 255), @p12='2024-03-29T02:00:00.0000000', @p13='Location2' (Nullable = false) (Size = 255), @p14='Flour' (Nullable = false) (Size = 50), @p15='100', @p16='Sugar' (Nullable = false) (Size = 50), @p17='200'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
09:35:57 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
09:35:57 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
09:35:57 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[ActualEndTime], [b].[EndDateTime], [b].[StartDateTime]
FROM [Batch] AS [b]
09:35:57 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name], [s].[Quantity]
FROM [Stock] AS [s]
09:35:57 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The instance of entity type 'OrderBakingGood' cannot be tracked because another instance with the key value '{OrderId: 1, BakingGoodId: 1}' is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at MyBGList.Controllers.SeedController.Put() in D:\4_semester_git\TrojansDumplingsWhite\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 141
09:35:59 [INF] [ATARASHIBEASTX #16 ] Application is shutting down...
09:36:36 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
09:36:36 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
09:36:36 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
09:36:36 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojansDumplingsWhite\BAD3\MyBGList_Chap7
09:36:44 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
09:36:44 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
09:36:44 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (38ms) [Parameters=[@p0='2024-03-27T04:00:00.0000000', @p1='Cake' (Nullable = false) (Size = 50), @p2='2024-03-28T05:00:00.0000000', @p3='Cookie' (Nullable = false) (Size = 50), @p4='2024-03-28T09:45:00.0000000', @p5='2024-03-28T10:00:00.0000000', @p6='2024-03-28T08:00:00.0000000', @p7='2024-03-29T08:45:00.0000000', @p8='2024-03-29T09:00:00.0000000', @p9='2024-03-29T07:00:00.0000000', @p10='2024-03-28T03:00:00.0000000', @p11='Location1' (Nullable = false) (Size = 255), @p12='2024-03-29T02:00:00.0000000', @p13='Location2' (Nullable = false) (Size = 255), @p14='Flour' (Nullable = false) (Size = 50), @p15='100', @p16='Sugar' (Nullable = false) (Size = 50), @p17='200'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
09:36:45 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
09:36:45 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
09:36:45 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[ActualEndTime], [b].[EndDateTime], [b].[StartDateTime]
FROM [Batch] AS [b]
09:36:45 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name], [s].[Quantity]
FROM [Stock] AS [s]
09:36:45 [ERR] [ATARASHIBEASTX #12 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The instance of entity type 'OrderBakingGood' cannot be tracked because another instance with the key value '{OrderId: 1, BakingGoodId: 1}' is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at MyBGList.Controllers.SeedController.Put() in D:\4_semester_git\TrojansDumplingsWhite\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 141
09:39:24 [INF] [ATARASHIBEASTX #20 ] Application is shutting down...
09:39:27 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
09:39:27 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
09:39:27 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
09:39:27 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojansDumplingsWhite\BAD3\MyBGList_Chap7
09:39:29 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
09:39:30 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
09:39:30 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (13ms) [Parameters=[@p0='2024-03-27T04:00:00.0000000', @p1='Cake' (Nullable = false) (Size = 50), @p2='2024-03-28T05:00:00.0000000', @p3='Cookie' (Nullable = false) (Size = 50), @p4='2024-03-28T09:45:00.0000000', @p5='2024-03-28T10:00:00.0000000', @p6='2024-03-28T08:00:00.0000000', @p7='2024-03-29T08:45:00.0000000', @p8='2024-03-29T09:00:00.0000000', @p9='2024-03-29T07:00:00.0000000', @p10='2024-03-28T03:00:00.0000000', @p11='Location1' (Nullable = false) (Size = 255), @p12='2024-03-29T02:00:00.0000000', @p13='Location2' (Nullable = false) (Size = 255), @p14='Flour' (Nullable = false) (Size = 50), @p15='100', @p16='Sugar' (Nullable = false) (Size = 50), @p17='200'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
09:39:30 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
09:39:30 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
09:39:30 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[ActualEndTime], [b].[EndDateTime], [b].[StartDateTime]
FROM [Batch] AS [b]
09:39:30 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name], [s].[Quantity]
FROM [Stock] AS [s]
09:39:30 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [BakingGood] ON
09:39:30 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Batch] ON
09:39:30 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An error occurred while seeding the database
Microsoft.Data.SqlClient.SqlException (0x80131904): IDENTITY_INSERT is already ON for table 'MyBGList.dbo.BakingGood'. Cannot perform SET operation for table 'Batch'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean isAsync, Int32 timeout, Boolean asyncWrite)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQuery(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRaw(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRaw(DatabaseFacade databaseFacade, String sql, Object[] parameters)
   at MyBGList.Controllers.SeedController.Put() in D:\4_semester_git\TrojansDumplingsWhite\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 159
ClientConnectionId:c4fa10ea-0063-4b26-aff0-ef4ba48226dd
Error Number:8107,State:1,Class:16
09:46:49 [INF] [ATARASHIBEASTX #21 ] Application is shutting down...
09:46:56 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
09:46:56 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
09:46:56 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
09:46:56 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojansDumplingsWhite\BAD3\MyBGList_Chap7
09:46:56 [WRN] [ATARASHIBEASTX #12 .NET TP Worker] Failed to determine the https port for redirect.
09:46:56 [WRN] [ATARASHIBEASTX #12 .NET TP Worker] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
09:46:56 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (39ms) [Parameters=[@p0='2024-03-27T04:00:00.0000000', @p1='Cake' (Nullable = false) (Size = 50), @p2='2024-03-28T05:00:00.0000000', @p3='Cookie' (Nullable = false) (Size = 50), @p4='2024-03-28T09:45:00.0000000', @p5='2024-03-28T10:00:00.0000000', @p6='2024-03-28T08:00:00.0000000', @p7='2024-03-29T08:45:00.0000000', @p8='2024-03-29T09:00:00.0000000', @p9='2024-03-29T07:00:00.0000000', @p10='2024-03-28T03:00:00.0000000', @p11='Location1' (Nullable = false) (Size = 255), @p12='2024-03-29T02:00:00.0000000', @p13='Location2' (Nullable = false) (Size = 255), @p14='Flour' (Nullable = false) (Size = 50), @p15='100', @p16='Sugar' (Nullable = false) (Size = 50), @p17='200'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
09:46:57 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
09:46:57 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
09:46:57 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[ActualEndTime], [b].[EndDateTime], [b].[StartDateTime]
FROM [Batch] AS [b]
09:46:57 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name], [s].[Quantity]
FROM [Stock] AS [s]
09:46:57 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] ON
09:46:57 [ERR] [ATARASHIBEASTX #12 .NET TP Worker] Failed executing DbCommand (3ms) [Parameters=[@p0='1', @p1='2024-03-28T03:00:00.0000000', @p2='Location1' (Nullable = false) (Size = 255), @p3='2', @p4='2024-03-29T02:00:00.0000000', @p5='Location2' (Nullable = false) (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Order] ([Id], [DeliveryDate], [DeliveryPlace])
VALUES (@p0, @p1, @p2),
(@p3, @p4, @p5);
09:46:57 [ERR] [ATARASHIBEASTX #12 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Order' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:af87ab19-1d2d-4529-accd-5076f52e060a
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Order' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:af87ab19-1d2d-4529-accd-5076f52e060a
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
09:46:57 [ERR] [ATARASHIBEASTX #12 .NET TP Worker] An error occurred while seeding the database
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Order' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:af87ab19-1d2d-4529-accd-5076f52e060a
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Put() in D:\4_semester_git\TrojansDumplingsWhite\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 117
09:49:33 [INF] [ATARASHIBEASTX #20 ] Application is shutting down...
09:49:37 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
09:49:37 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
09:49:37 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
09:49:37 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojansDumplingsWhite\BAD3\MyBGList_Chap7
09:49:40 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
09:49:41 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
09:49:41 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (12ms) [Parameters=[@p0='2024-03-27T04:00:00.0000000', @p1='Cake' (Nullable = false) (Size = 50), @p2='2024-03-28T05:00:00.0000000', @p3='Cookie' (Nullable = false) (Size = 50), @p4='2024-03-28T09:45:00.0000000', @p5='2024-03-28T10:00:00.0000000', @p6='2024-03-28T08:00:00.0000000', @p7='2024-03-29T08:45:00.0000000', @p8='2024-03-29T09:00:00.0000000', @p9='2024-03-29T07:00:00.0000000', @p10='2024-03-28T03:00:00.0000000', @p11='Location1' (Nullable = false) (Size = 255), @p12='2024-03-29T02:00:00.0000000', @p13='Location2' (Nullable = false) (Size = 255), @p14='Flour' (Nullable = false) (Size = 50), @p15='100', @p16='Sugar' (Nullable = false) (Size = 50), @p17='200'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
09:49:41 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
09:49:41 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
09:49:41 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[ActualEndTime], [b].[EndDateTime], [b].[StartDateTime]
FROM [Batch] AS [b]
09:49:41 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name], [s].[Quantity]
FROM [Stock] AS [s]
09:49:41 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] ON
09:49:41 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
09:49:41 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] Failed executing DbCommand (3ms) [Parameters=[@p0='1', @p1='2024-03-28T03:00:00.0000000', @p2='Location1' (Nullable = false) (Size = 255), @p3='2', @p4='2024-03-29T02:00:00.0000000', @p5='Location2' (Nullable = false) (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Order] ([Id], [DeliveryDate], [DeliveryPlace])
VALUES (@p0, @p1, @p2),
(@p3, @p4, @p5);
09:49:41 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Order'. Cannot insert duplicate key in object 'dbo.Order'. The duplicate key value is (1).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d5d8deaa-3bf7-439d-b891-07e2c898d2bd
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Order'. Cannot insert duplicate key in object 'dbo.Order'. The duplicate key value is (1).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d5d8deaa-3bf7-439d-b891-07e2c898d2bd
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
09:49:41 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An error occurred while seeding the database
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Order'. Cannot insert duplicate key in object 'dbo.Order'. The duplicate key value is (1).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d5d8deaa-3bf7-439d-b891-07e2c898d2bd
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Put() in D:\4_semester_git\TrojansDumplingsWhite\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 117
09:50:31 [INF] [ATARASHIBEASTX #3 ] Application is shutting down...
09:51:20 [WRN] [ATARASHIBEASTX #1 ] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
09:51:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
09:51:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
09:51:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
09:51:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
09:51:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
09:51:20 [INF] [ATARASHIBEASTX #1 ] No migrations were applied. The database is already up to date.
09:51:26 [WRN] [ATARASHIBEASTX #1 ] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
09:51:26 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
09:51:26 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
09:51:26 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
09:51:26 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
09:51:26 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
09:51:26 [INF] [ATARASHIBEASTX #1 ] Applying migration '20240402115507_InitialCreate'.
09:51:26 [ERR] [ATARASHIBEASTX #1 ] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGood] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [DateProduced] datetime2 NOT NULL,
    CONSTRAINT [PK_BakingGood] PRIMARY KEY ([Id])
);
09:51:45 [WRN] [ATARASHIBEASTX #1 ] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
09:51:45 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
09:51:45 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
09:51:45 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
09:51:45 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
09:51:45 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
09:51:45 [INF] [ATARASHIBEASTX #1 ] No migrations were applied. The database is already up to date.
09:52:01 [WRN] [ATARASHIBEASTX #1 ] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
09:52:16 [WRN] [ATARASHIBEASTX #1 ] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
09:52:16 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
09:52:16 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
09:52:16 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
09:52:16 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
09:52:16 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
09:52:16 [INF] [ATARASHIBEASTX #1 ] Applying migration '20240403075201_InitialCreate'.
09:52:16 [ERR] [ATARASHIBEASTX #1 ] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGood] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [DateProduced] datetime2 NOT NULL,
    CONSTRAINT [PK_BakingGood] PRIMARY KEY ([Id])
);
09:53:11 [WRN] [ATARASHIBEASTX #1 ] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
09:53:12 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
09:53:12 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
09:53:12 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
09:53:12 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
09:53:12 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
09:53:12 [INF] [ATARASHIBEASTX #1 ] Applying migration '20240403075201_InitialCreate'.
09:53:12 [ERR] [ATARASHIBEASTX #1 ] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGood] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [DateProduced] datetime2 NOT NULL,
    CONSTRAINT [PK_BakingGood] PRIMARY KEY ([Id])
);
09:54:02 [WRN] [ATARASHIBEASTX #1 ] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
09:54:02 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (234ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [MyBGList];
09:54:02 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [MyBGList] SET READ_COMMITTED_SNAPSHOT ON;
END;
09:54:03 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
09:54:03 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
09:54:03 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
09:54:03 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
09:54:03 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
09:54:03 [INF] [ATARASHIBEASTX #1 ] Applying migration '20240403075201_InitialCreate'.
09:54:03 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGood] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [DateProduced] datetime2 NOT NULL,
    CONSTRAINT [PK_BakingGood] PRIMARY KEY ([Id])
);
09:54:03 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Batch] (
    [Id] int NOT NULL IDENTITY,
    [StartDateTime] datetime2 NOT NULL,
    [EndDateTime] datetime2 NOT NULL,
    [ActualEndTime] datetime2 NOT NULL,
    CONSTRAINT [PK_Batch] PRIMARY KEY ([Id])
);
09:54:03 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Order] (
    [Id] int NOT NULL IDENTITY,
    [DeliveryPlace] nvarchar(255) NOT NULL,
    [DeliveryDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Order] PRIMARY KEY ([Id])
);
09:54:03 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Stock] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_Stock] PRIMARY KEY ([Id])
);
09:54:03 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGoodBatch] (
    [BakingGoodId] int NOT NULL,
    [BatchId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BakingGoodBatch] PRIMARY KEY ([BatchId], [BakingGoodId]),
    CONSTRAINT [FK_BakingGoodBatch_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BakingGoodBatch_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE
);
09:54:03 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OrderBakingGood] (
    [OrderId] int NOT NULL,
    [BakingGoodId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_OrderBakingGood] PRIMARY KEY ([OrderId], [BakingGoodId]),
    CONSTRAINT [FK_OrderBakingGood_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_OrderBakingGood_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
09:54:03 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Packet] (
    [Id] int NOT NULL IDENTITY,
    [TrackId] nvarchar(9) NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Packet] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Packet_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
09:54:03 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BatchStock] (
    [BatchId] int NOT NULL,
    [StockId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BatchStock] PRIMARY KEY ([BatchId], [StockId]),
    CONSTRAINT [FK_BatchStock_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BatchStock_Stock_StockId] FOREIGN KEY ([StockId]) REFERENCES [Stock] ([Id]) ON DELETE CASCADE
);
09:54:03 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BakingGoodBatch_BakingGoodId] ON [BakingGoodBatch] ([BakingGoodId]);
09:54:03 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BatchStock_StockId] ON [BatchStock] ([StockId]);
09:54:03 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OrderBakingGood_BakingGoodId] ON [OrderBakingGood] ([BakingGoodId]);
09:54:03 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Packet_OrderId] ON [Packet] ([OrderId]);
09:54:03 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240403075201_InitialCreate', N'8.0.2');
09:54:29 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
09:54:29 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
09:54:29 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
09:54:29 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojansDumplingsWhite\BAD3\MyBGList_Chap7
09:54:31 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
09:54:31 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
09:54:32 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (20ms) [Parameters=[@p0='2024-03-27T04:00:00.0000000', @p1='Cake' (Nullable = false) (Size = 50), @p2='2024-03-28T05:00:00.0000000', @p3='Cookie' (Nullable = false) (Size = 50), @p4='2024-03-28T09:45:00.0000000', @p5='2024-03-28T10:00:00.0000000', @p6='2024-03-28T08:00:00.0000000', @p7='2024-03-29T08:45:00.0000000', @p8='2024-03-29T09:00:00.0000000', @p9='2024-03-29T07:00:00.0000000', @p10='2024-03-28T03:00:00.0000000', @p11='Location1' (Nullable = false) (Size = 255), @p12='2024-03-29T02:00:00.0000000', @p13='Location2' (Nullable = false) (Size = 255), @p14='Flour' (Nullable = false) (Size = 50), @p15='100', @p16='Sugar' (Nullable = false) (Size = 50), @p17='200'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
09:54:32 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
09:54:32 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
09:54:32 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[ActualEndTime], [b].[EndDateTime], [b].[StartDateTime]
FROM [Batch] AS [b]
09:54:32 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name], [s].[Quantity]
FROM [Stock] AS [s]
09:54:32 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] ON
09:54:32 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
09:54:32 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] Failed executing DbCommand (3ms) [Parameters=[@p0='1', @p1='2024-03-28T03:00:00.0000000', @p2='Location1' (Nullable = false) (Size = 255), @p3='2', @p4='2024-03-29T02:00:00.0000000', @p5='Location2' (Nullable = false) (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Order] ([Id], [DeliveryDate], [DeliveryPlace])
VALUES (@p0, @p1, @p2),
(@p3, @p4, @p5);
09:54:32 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Order'. Cannot insert duplicate key in object 'dbo.Order'. The duplicate key value is (1).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:301a0480-8719-4665-a673-056686f99405
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Order'. Cannot insert duplicate key in object 'dbo.Order'. The duplicate key value is (1).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:301a0480-8719-4665-a673-056686f99405
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
09:54:32 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An error occurred while seeding the database
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Order'. Cannot insert duplicate key in object 'dbo.Order'. The duplicate key value is (1).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:301a0480-8719-4665-a673-056686f99405
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Put() in D:\4_semester_git\TrojansDumplingsWhite\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 117
10:05:23 [INF] [ATARASHIBEASTX #18 ] Application is shutting down...
10:05:26 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
10:05:26 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
10:05:26 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
10:05:26 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojansDumplingsWhite\BAD3\MyBGList_Chap7
10:05:28 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
10:05:28 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
10:05:29 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (13ms) [Parameters=[@p0='2024-03-27T04:00:00.0000000', @p1='Cake' (Nullable = false) (Size = 50), @p2='2024-03-28T05:00:00.0000000', @p3='Cookie' (Nullable = false) (Size = 50), @p4='2024-03-28T09:45:00.0000000', @p5='2024-03-28T10:00:00.0000000', @p6='2024-03-28T08:00:00.0000000', @p7='2024-03-29T08:45:00.0000000', @p8='2024-03-29T09:00:00.0000000', @p9='2024-03-29T07:00:00.0000000', @p10='2024-03-28T03:00:00.0000000', @p11='Location1' (Nullable = false) (Size = 255), @p12='2024-03-29T02:00:00.0000000', @p13='Location2' (Nullable = false) (Size = 255), @p14='Flour' (Nullable = false) (Size = 50), @p15='100', @p16='Sugar' (Nullable = false) (Size = 50), @p17='200'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
10:05:29 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
10:05:29 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
10:05:29 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[ActualEndTime], [b].[EndDateTime], [b].[StartDateTime]
FROM [Batch] AS [b]
10:05:29 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name], [s].[Quantity]
FROM [Stock] AS [s]
10:05:29 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] ON
10:05:29 [WRN] [ATARASHIBEASTX #11 .NET TP Worker] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
10:05:29 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] Failed executing DbCommand (3ms) [Parameters=[@p0='1', @p1='2024-03-28T03:00:00.0000000', @p2='Location1' (Nullable = false) (Size = 255), @p3='2', @p4='2024-03-29T02:00:00.0000000', @p5='Location2' (Nullable = false) (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Order] ([Id], [DeliveryDate], [DeliveryPlace])
VALUES (@p0, @p1, @p2),
(@p3, @p4, @p5);
10:05:29 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Order'. Cannot insert duplicate key in object 'dbo.Order'. The duplicate key value is (1).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:bee120d8-78c6-48a4-addc-27cc9cbf6784
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Order'. Cannot insert duplicate key in object 'dbo.Order'. The duplicate key value is (1).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:bee120d8-78c6-48a4-addc-27cc9cbf6784
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
10:05:29 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] An error occurred while seeding the database
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Order'. Cannot insert duplicate key in object 'dbo.Order'. The duplicate key value is (1).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:bee120d8-78c6-48a4-addc-27cc9cbf6784
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Put() in D:\4_semester_git\TrojansDumplingsWhite\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 117
10:14:29 [INF] [ATARASHIBEASTX #19 ] Application is shutting down...
10:14:33 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
10:14:33 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
10:14:33 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
10:14:33 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojansDumplingsWhite\BAD3\MyBGList_Chap7
10:14:34 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
10:14:34 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
10:14:35 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (14ms) [Parameters=[@p0='2024-03-27T04:00:00.0000000', @p1='Cake' (Nullable = false) (Size = 50), @p2='2024-03-28T05:00:00.0000000', @p3='Cookie' (Nullable = false) (Size = 50), @p4='2024-03-28T09:45:00.0000000', @p5='2024-03-28T10:00:00.0000000', @p6='2024-03-28T08:00:00.0000000', @p7='2024-03-29T08:45:00.0000000', @p8='2024-03-29T09:00:00.0000000', @p9='2024-03-29T07:00:00.0000000', @p10='2024-03-28T03:00:00.0000000', @p11='Location1' (Nullable = false) (Size = 255), @p12='2024-03-29T02:00:00.0000000', @p13='Location2' (Nullable = false) (Size = 255), @p14='Flour' (Nullable = false) (Size = 50), @p15='100', @p16='Sugar' (Nullable = false) (Size = 50), @p17='200'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
10:14:35 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
10:14:35 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
10:14:35 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[ActualEndTime], [b].[EndDateTime], [b].[StartDateTime]
FROM [Batch] AS [b]
10:14:35 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name], [s].[Quantity]
FROM [Stock] AS [s]
10:14:35 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] ON
10:14:35 [WRN] [ATARASHIBEASTX #11 .NET TP Worker] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
10:14:35 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (3ms) [Parameters=[@p2='1', @p0='2024-03-28T03:00:00.0000000', @p1='Location1' (Nullable = false) (Size = 255), @p5='2', @p3='2024-03-29T02:00:00.0000000', @p4='Location2' (Nullable = false) (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [DeliveryDate] = @p0, [DeliveryPlace] = @p1
OUTPUT 1
WHERE [Id] = @p2;
UPDATE [Order] SET [DeliveryDate] = @p3, [DeliveryPlace] = @p4
OUTPUT 1
WHERE [Id] = @p5;
10:14:35 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] OFF
10:14:35 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT BakingGood ON
10:14:35 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT BakingGood OFF
10:14:35 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Batch] ON
10:14:35 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Batch] ON
10:14:35 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Stock] ON
10:14:35 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] An error occurred while seeding the database
Microsoft.Data.SqlClient.SqlException (0x80131904): IDENTITY_INSERT is already ON for table 'MyBGList.dbo.Batch'. Cannot perform SET operation for table 'Stock'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean isAsync, Int32 timeout, Boolean asyncWrite)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQuery(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRaw(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRaw(DatabaseFacade databaseFacade, String sql, Object[] parameters)
   at MyBGList.Controllers.SeedController.Put() in D:\4_semester_git\TrojansDumplingsWhite\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 174
ClientConnectionId:9b98d7bb-167d-4e97-a5c2-9547f1dd269f
Error Number:8107,State:1,Class:16
10:30:08 [INF] [ATARASHIBEASTX #20 ] Application is shutting down...
10:30:31 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
10:30:31 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
10:30:31 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
10:30:31 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojansDumplingsWhite\BAD3\MyBGList_Chap7
10:30:32 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
10:30:33 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
10:30:33 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (15ms) [Parameters=[@p0='2024-03-27T04:00:00.0000000', @p1='Cake' (Nullable = false) (Size = 50), @p2='2024-03-28T05:00:00.0000000', @p3='Cookie' (Nullable = false) (Size = 50), @p4='2024-03-28T09:45:00.0000000', @p5='2024-03-28T10:00:00.0000000', @p6='2024-03-28T08:00:00.0000000', @p7='2024-03-29T08:45:00.0000000', @p8='2024-03-29T09:00:00.0000000', @p9='2024-03-29T07:00:00.0000000', @p10='2024-03-28T03:00:00.0000000', @p11='Location1' (Nullable = false) (Size = 255), @p12='2024-03-29T02:00:00.0000000', @p13='Location2' (Nullable = false) (Size = 255), @p14='Flour' (Nullable = false) (Size = 50), @p15='100', @p16='Sugar' (Nullable = false) (Size = 50), @p17='200'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
10:30:33 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
10:30:33 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
10:30:33 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[ActualEndTime], [b].[EndDateTime], [b].[StartDateTime]
FROM [Batch] AS [b]
10:30:33 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name], [s].[Quantity]
FROM [Stock] AS [s]
10:30:33 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] ON
10:30:33 [WRN] [ATARASHIBEASTX #11 .NET TP Worker] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
10:30:33 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[@p2='1', @p0='2024-03-28T03:00:00.0000000', @p1='Location1' (Nullable = false) (Size = 255), @p5='2', @p3='2024-03-29T02:00:00.0000000', @p4='Location2' (Nullable = false) (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [DeliveryDate] = @p0, [DeliveryPlace] = @p1
OUTPUT 1
WHERE [Id] = @p2;
UPDATE [Order] SET [DeliveryDate] = @p3, [DeliveryPlace] = @p4
OUTPUT 1
WHERE [Id] = @p5;
10:30:33 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] OFF
10:30:33 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT BakingGood ON
10:30:33 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT BakingGood OFF
10:30:33 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Batch] ON
10:30:33 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Batch] ON
10:30:33 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Stock] ON
10:30:33 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] An error occurred while seeding the database
Microsoft.Data.SqlClient.SqlException (0x80131904): IDENTITY_INSERT is already ON for table 'MyBGList.dbo.Batch'. Cannot perform SET operation for table 'Stock'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean isAsync, Int32 timeout, Boolean asyncWrite)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQuery(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRaw(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRaw(DatabaseFacade databaseFacade, String sql, Object[] parameters)
   at MyBGList.Controllers.SeedController.Put() in D:\4_semester_git\TrojansDumplingsWhite\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 176
ClientConnectionId:2b831486-c6a6-4bb1-932b-54ba830b0ecc
Error Number:8107,State:1,Class:16
10:32:53 [INF] [ATARASHIBEASTX #19 ] Application is shutting down...
10:32:56 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
10:32:57 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
10:32:57 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
10:32:57 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojansDumplingsWhite\BAD3\MyBGList_Chap7
10:32:58 [WRN] [ATARASHIBEASTX #11 .NET TP Worker] Failed to determine the https port for redirect.
10:32:58 [WRN] [ATARASHIBEASTX #11 .NET TP Worker] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
10:32:58 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (14ms) [Parameters=[@p0='2024-03-27T04:00:00.0000000', @p1='Cake' (Nullable = false) (Size = 50), @p2='2024-03-28T05:00:00.0000000', @p3='Cookie' (Nullable = false) (Size = 50), @p4='2024-03-28T09:45:00.0000000', @p5='2024-03-28T10:00:00.0000000', @p6='2024-03-28T08:00:00.0000000', @p7='2024-03-29T08:45:00.0000000', @p8='2024-03-29T09:00:00.0000000', @p9='2024-03-29T07:00:00.0000000', @p10='2024-03-28T03:00:00.0000000', @p11='Location1' (Nullable = false) (Size = 255), @p12='2024-03-29T02:00:00.0000000', @p13='Location2' (Nullable = false) (Size = 255), @p14='Flour' (Nullable = false) (Size = 50), @p15='100', @p16='Sugar' (Nullable = false) (Size = 50), @p17='200'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
10:32:58 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
10:32:58 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
10:32:58 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[ActualEndTime], [b].[EndDateTime], [b].[StartDateTime]
FROM [Batch] AS [b]
10:32:58 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name], [s].[Quantity]
FROM [Stock] AS [s]
10:32:58 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] ON
10:32:58 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
10:32:58 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[@p2='1', @p0='2024-03-28T03:00:00.0000000', @p1='Location1' (Nullable = false) (Size = 255), @p5='2', @p3='2024-03-29T02:00:00.0000000', @p4='Location2' (Nullable = false) (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [DeliveryDate] = @p0, [DeliveryPlace] = @p1
OUTPUT 1
WHERE [Id] = @p2;
UPDATE [Order] SET [DeliveryDate] = @p3, [DeliveryPlace] = @p4
OUTPUT 1
WHERE [Id] = @p5;
10:32:58 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] OFF
10:32:58 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT BakingGood ON
10:32:58 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT BakingGood OFF
10:32:58 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Batch] ON
10:32:58 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Batch] OFF
10:32:58 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Stock] ON
10:32:58 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Stock] OFF
10:32:58 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Order] AS [o]
10:32:58 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BakingGood] AS [b]
10:32:58 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Batch] AS [b]
10:32:58 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Stock] AS [s]
10:32:58 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Packet] AS [p]
10:32:58 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OrderBakingGood] AS [o]
10:32:58 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BakingGoodBatch] AS [b]
10:32:58 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BatchStock] AS [b]
10:34:54 [INF] [ATARASHIBEASTX #18 ] Application is shutting down...
10:34:57 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
10:34:57 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
10:34:57 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
10:34:57 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojansDumplingsWhite\BAD3\MyBGList_Chap7
10:34:59 [INF] [ATARASHIBEASTX #12 ] Application is shutting down...
10:35:03 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
10:35:03 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
10:35:03 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
10:35:03 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojansDumplingsWhite\BAD3\MyBGList_Chap7
10:35:07 [WRN] [ATARASHIBEASTX #13 .NET TP Worker] Failed to determine the https port for redirect.
10:35:07 [WRN] [ATARASHIBEASTX #13 .NET TP Worker] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
10:35:07 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (13ms) [Parameters=[@p0='2024-03-27T04:00:00.0000000', @p1='Cake' (Nullable = false) (Size = 50), @p2='2024-03-28T05:00:00.0000000', @p3='Cookie' (Nullable = false) (Size = 50), @p4='2024-03-28T09:45:00.0000000', @p5='2024-03-28T10:00:00.0000000', @p6='2024-03-28T08:00:00.0000000', @p7='2024-03-29T08:45:00.0000000', @p8='2024-03-29T09:00:00.0000000', @p9='2024-03-29T07:00:00.0000000', @p10='2024-03-28T03:00:00.0000000', @p11='Location1' (Nullable = false) (Size = 255), @p12='2024-03-29T02:00:00.0000000', @p13='Location2' (Nullable = false) (Size = 255), @p14='Flour' (Nullable = false) (Size = 50), @p15='100', @p16='Sugar' (Nullable = false) (Size = 50), @p17='200'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
10:35:08 [INF] [ATARASHIBEASTX #13 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
10:35:08 [INF] [ATARASHIBEASTX #13 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
10:35:08 [INF] [ATARASHIBEASTX #13 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[ActualEndTime], [b].[EndDateTime], [b].[StartDateTime]
FROM [Batch] AS [b]
10:35:08 [INF] [ATARASHIBEASTX #13 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name], [s].[Quantity]
FROM [Stock] AS [s]
10:35:08 [INF] [ATARASHIBEASTX #13 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] ON
10:35:08 [WRN] [ATARASHIBEASTX #13 .NET TP Worker] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
10:35:08 [INF] [ATARASHIBEASTX #13 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[@p2='1', @p0='2024-03-28T03:00:00.0000000', @p1='Location1' (Nullable = false) (Size = 255), @p5='2', @p3='2024-03-29T02:00:00.0000000', @p4='Location2' (Nullable = false) (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [DeliveryDate] = @p0, [DeliveryPlace] = @p1
OUTPUT 1
WHERE [Id] = @p2;
UPDATE [Order] SET [DeliveryDate] = @p3, [DeliveryPlace] = @p4
OUTPUT 1
WHERE [Id] = @p5;
10:35:08 [INF] [ATARASHIBEASTX #13 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] OFF
10:35:08 [INF] [ATARASHIBEASTX #13 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT BakingGood ON
10:35:08 [INF] [ATARASHIBEASTX #13 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT BakingGood OFF
10:35:08 [INF] [ATARASHIBEASTX #13 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Batch] ON
10:35:08 [INF] [ATARASHIBEASTX #13 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Batch] OFF
10:35:08 [INF] [ATARASHIBEASTX #13 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Stock] ON
10:35:08 [INF] [ATARASHIBEASTX #13 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Stock] OFF
10:35:08 [INF] [ATARASHIBEASTX #13 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Order] AS [o]
10:35:08 [INF] [ATARASHIBEASTX #13 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BakingGood] AS [b]
10:35:08 [INF] [ATARASHIBEASTX #13 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Batch] AS [b]
10:35:08 [INF] [ATARASHIBEASTX #13 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Stock] AS [s]
10:35:08 [INF] [ATARASHIBEASTX #13 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Packet] AS [p]
10:35:08 [INF] [ATARASHIBEASTX #13 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OrderBakingGood] AS [o]
10:35:08 [INF] [ATARASHIBEASTX #13 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BakingGoodBatch] AS [b]
10:35:08 [INF] [ATARASHIBEASTX #13 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BatchStock] AS [b]
10:36:11 [INF] [ATARASHIBEASTX #18 ] Application is shutting down...
10:36:15 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
10:36:15 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
10:36:15 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
10:36:15 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojansDumplingsWhite\BAD3\MyBGList_Chap7
10:36:15 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
10:36:16 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
10:36:16 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (14ms) [Parameters=[@p0='2024-03-27T04:00:00.0000000', @p1='Cake' (Nullable = false) (Size = 50), @p2='2024-03-28T05:00:00.0000000', @p3='Cookie' (Nullable = false) (Size = 50), @p4='2024-03-28T09:45:00.0000000', @p5='2024-03-28T10:00:00.0000000', @p6='2024-03-28T08:00:00.0000000', @p7='2024-03-29T08:45:00.0000000', @p8='2024-03-29T09:00:00.0000000', @p9='2024-03-29T07:00:00.0000000', @p10='2024-03-28T03:00:00.0000000', @p11='Location1' (Nullable = false) (Size = 255), @p12='2024-03-29T02:00:00.0000000', @p13='Location2' (Nullable = false) (Size = 255), @p14='Flour' (Nullable = false) (Size = 50), @p15='100', @p16='Sugar' (Nullable = false) (Size = 50), @p17='200'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
10:36:16 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
10:36:16 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
10:36:16 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[ActualEndTime], [b].[EndDateTime], [b].[StartDateTime]
FROM [Batch] AS [b]
10:36:16 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name], [s].[Quantity]
FROM [Stock] AS [s]
10:36:16 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] ON
10:36:16 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
10:36:16 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] Failed executing DbCommand (3ms) [Parameters=[@p0='1', @p1='2024-03-28T03:00:00.0000000', @p2='Location1' (Nullable = false) (Size = 255), @p3='2', @p4='2024-03-29T02:00:00.0000000', @p5='Location2' (Nullable = false) (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Order] ([Id], [DeliveryDate], [DeliveryPlace])
VALUES (@p0, @p1, @p2),
(@p3, @p4, @p5);
10:36:16 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Order'. Cannot insert duplicate key in object 'dbo.Order'. The duplicate key value is (1).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:0d6e17f5-5cb6-4bf0-837e-dd13a01bb39b
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Order'. Cannot insert duplicate key in object 'dbo.Order'. The duplicate key value is (1).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:0d6e17f5-5cb6-4bf0-837e-dd13a01bb39b
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
10:36:16 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An error occurred while seeding the database
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Order'. Cannot insert duplicate key in object 'dbo.Order'. The duplicate key value is (1).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:0d6e17f5-5cb6-4bf0-837e-dd13a01bb39b
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Put() in D:\4_semester_git\TrojansDumplingsWhite\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 117
10:36:55 [INF] [ATARASHIBEASTX #16 ] Application is shutting down...
10:36:59 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
10:36:59 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
10:36:59 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
10:36:59 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojansDumplingsWhite\BAD3\MyBGList_Chap7
10:36:59 [WRN] [ATARASHIBEASTX #12 .NET TP Worker] Failed to determine the https port for redirect.
10:36:59 [WRN] [ATARASHIBEASTX #12 .NET TP Worker] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
10:37:00 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (13ms) [Parameters=[@p0='2024-03-27T04:00:00.0000000', @p1='Cake' (Nullable = false) (Size = 50), @p2='2024-03-28T05:00:00.0000000', @p3='Cookie' (Nullable = false) (Size = 50), @p4='2024-03-28T09:45:00.0000000', @p5='2024-03-28T10:00:00.0000000', @p6='2024-03-28T08:00:00.0000000', @p7='2024-03-29T08:45:00.0000000', @p8='2024-03-29T09:00:00.0000000', @p9='2024-03-29T07:00:00.0000000', @p10='2024-03-28T03:00:00.0000000', @p11='Location1' (Nullable = false) (Size = 255), @p12='2024-03-29T02:00:00.0000000', @p13='Location2' (Nullable = false) (Size = 255), @p14='Flour' (Nullable = false) (Size = 50), @p15='100', @p16='Sugar' (Nullable = false) (Size = 50), @p17='200'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
10:37:00 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
10:37:00 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
10:37:00 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[ActualEndTime], [b].[EndDateTime], [b].[StartDateTime]
FROM [Batch] AS [b]
10:37:00 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name], [s].[Quantity]
FROM [Stock] AS [s]
10:37:00 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] ON
10:37:00 [WRN] [ATARASHIBEASTX #12 .NET TP Worker] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
10:37:00 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[@p2='1', @p0='2024-03-28T03:00:00.0000000', @p1='Location1' (Nullable = false) (Size = 255), @p5='2', @p3='2024-03-29T02:00:00.0000000', @p4='Location2' (Nullable = false) (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [DeliveryDate] = @p0, [DeliveryPlace] = @p1
OUTPUT 1
WHERE [Id] = @p2;
UPDATE [Order] SET [DeliveryDate] = @p3, [DeliveryPlace] = @p4
OUTPUT 1
WHERE [Id] = @p5;
10:37:00 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] OFF
10:37:00 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT BakingGood ON
10:37:00 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT BakingGood OFF
10:37:00 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Batch] ON
10:37:00 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Batch] OFF
10:37:00 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Stock] ON
10:37:00 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Stock] OFF
10:37:00 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Order] AS [o]
10:37:00 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BakingGood] AS [b]
10:37:00 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Batch] AS [b]
10:37:00 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Stock] AS [s]
10:37:00 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Packet] AS [p]
10:37:00 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OrderBakingGood] AS [o]
10:37:00 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BakingGoodBatch] AS [b]
10:37:00 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BatchStock] AS [b]
10:37:11 [INF] [ATARASHIBEASTX #15 ] Application is shutting down...
10:37:23 [WRN] [ATARASHIBEASTX #1 ] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
10:37:23 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
10:37:23 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
10:37:23 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
10:37:23 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
10:37:23 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
10:37:23 [INF] [ATARASHIBEASTX #1 ] Reverting migration '20240403075201_InitialCreate'.
10:37:23 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BakingGoodBatch];
10:37:23 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BatchStock];
10:37:23 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [OrderBakingGood];
10:37:23 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Packet];
10:37:23 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Batch];
10:37:23 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Stock];
10:37:23 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BakingGood];
10:37:23 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Order];
10:37:23 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [__EFMigrationsHistory]
WHERE [MigrationId] = N'20240403075201_InitialCreate';
10:37:28 [WRN] [ATARASHIBEASTX #1 ] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
10:37:29 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
10:37:29 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
10:37:29 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
10:37:29 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
10:37:29 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
10:37:29 [INF] [ATARASHIBEASTX #1 ] Applying migration '20240403075201_InitialCreate'.
10:37:29 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGood] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [DateProduced] datetime2 NOT NULL,
    CONSTRAINT [PK_BakingGood] PRIMARY KEY ([Id])
);
10:37:29 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Batch] (
    [Id] int NOT NULL IDENTITY,
    [StartDateTime] datetime2 NOT NULL,
    [EndDateTime] datetime2 NOT NULL,
    [ActualEndTime] datetime2 NOT NULL,
    CONSTRAINT [PK_Batch] PRIMARY KEY ([Id])
);
10:37:29 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Order] (
    [Id] int NOT NULL IDENTITY,
    [DeliveryPlace] nvarchar(255) NOT NULL,
    [DeliveryDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Order] PRIMARY KEY ([Id])
);
10:37:29 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Stock] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_Stock] PRIMARY KEY ([Id])
);
10:37:29 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGoodBatch] (
    [BakingGoodId] int NOT NULL,
    [BatchId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BakingGoodBatch] PRIMARY KEY ([BatchId], [BakingGoodId]),
    CONSTRAINT [FK_BakingGoodBatch_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BakingGoodBatch_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE
);
10:37:29 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OrderBakingGood] (
    [OrderId] int NOT NULL,
    [BakingGoodId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_OrderBakingGood] PRIMARY KEY ([OrderId], [BakingGoodId]),
    CONSTRAINT [FK_OrderBakingGood_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_OrderBakingGood_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
10:37:29 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Packet] (
    [Id] int NOT NULL IDENTITY,
    [TrackId] nvarchar(9) NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Packet] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Packet_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
10:37:29 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BatchStock] (
    [BatchId] int NOT NULL,
    [StockId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BatchStock] PRIMARY KEY ([BatchId], [StockId]),
    CONSTRAINT [FK_BatchStock_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BatchStock_Stock_StockId] FOREIGN KEY ([StockId]) REFERENCES [Stock] ([Id]) ON DELETE CASCADE
);
10:37:29 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BakingGoodBatch_BakingGoodId] ON [BakingGoodBatch] ([BakingGoodId]);
10:37:29 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BatchStock_StockId] ON [BatchStock] ([StockId]);
10:37:29 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OrderBakingGood_BakingGoodId] ON [OrderBakingGood] ([BakingGoodId]);
10:37:29 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Packet_OrderId] ON [Packet] ([OrderId]);
10:37:29 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240403075201_InitialCreate', N'8.0.2');
