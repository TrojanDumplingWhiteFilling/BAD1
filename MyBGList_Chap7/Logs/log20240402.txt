10:51:02 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (1,670ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [MyBGList];
10:51:03 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (445ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [MyBGList] SET READ_COMMITTED_SNAPSHOT ON;
END;
10:51:03 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
10:51:03 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
10:51:03 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
10:51:03 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
10:51:03 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
10:51:03 [INF] [LAPTOP-UDEU41DE #1 ] Applying migration '20240402084558_InitialCreate'.
10:51:03 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGood] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [DateProduced] datetime2 NOT NULL,
    CONSTRAINT [PK_BakingGood] PRIMARY KEY ([Id])
);
10:51:03 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Batch] (
    [Id] int NOT NULL IDENTITY,
    [StartDateTime] datetime2 NOT NULL,
    [EndDateTime] datetime2 NOT NULL,
    [ActualEndTime] datetime2 NOT NULL,
    CONSTRAINT [PK_Batch] PRIMARY KEY ([Id])
);
10:51:03 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Order] (
    [Id] int NOT NULL IDENTITY,
    [DeliveryPlace] nvarchar(255) NOT NULL,
    [DeliveryDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Order] PRIMARY KEY ([Id])
);
10:51:03 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Stock] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_Stock] PRIMARY KEY ([Id])
);
10:51:03 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGoodBatch] (
    [BakingGoodId] int NOT NULL,
    [BatchId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BakingGoodBatch] PRIMARY KEY ([BatchId], [BakingGoodId]),
    CONSTRAINT [FK_BakingGoodBatch_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BakingGoodBatch_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE
);
10:51:03 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OrderBakingGood] (
    [OrderId] int NOT NULL,
    [BakingGoodId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_OrderBakingGood] PRIMARY KEY ([OrderId], [BakingGoodId]),
    CONSTRAINT [FK_OrderBakingGood_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_OrderBakingGood_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
10:51:03 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Packet] (
    [Id] int NOT NULL IDENTITY,
    [TrackId] nvarchar(9) NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Packet] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Packet_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
10:51:03 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BatchStock] (
    [BatchId] int NOT NULL,
    [StockId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BatchStock] PRIMARY KEY ([BatchId], [StockId]),
    CONSTRAINT [FK_BatchStock_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BatchStock_Stock_StockId] FOREIGN KEY ([StockId]) REFERENCES [Stock] ([Id]) ON DELETE CASCADE
);
10:51:03 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BakingGoodBatch_BakingGoodId] ON [BakingGoodBatch] ([BakingGoodId]);
10:51:03 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BatchStock_StockId] ON [BatchStock] ([StockId]);
10:51:03 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OrderBakingGood_BakingGoodId] ON [OrderBakingGood] ([BakingGoodId]);
10:51:03 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Packet_OrderId] ON [Packet] ([OrderId]);
10:51:03 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240402084558_InitialCreate', N'8.0.2');
10:52:44 [INF] [LAPTOP-UDEU41DE #1 ] Now listening on: http://localhost:5113
10:52:45 [INF] [LAPTOP-UDEU41DE #1 ] Application started. Press Ctrl+C to shut down.
10:52:45 [INF] [LAPTOP-UDEU41DE #1 ] Hosting environment: Development
10:52:45 [INF] [LAPTOP-UDEU41DE #1 ] Content root path: C:\4_semester_git\Turn ins\BAD3\MyBGList_Chap7
10:53:21 [WRN] [LAPTOP-UDEU41DE #10 .NET TP Worker] Failed to determine the https port for redirect.
10:54:01 [INF] [LAPTOP-UDEU41DE #13 .NET TP Worker] Executed DbCommand (92ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 255), @p12='?' (DbType = DateTime2), @p13='?' (Size = 255), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (Size = 50), @p17='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
10:54:01 [INF] [LAPTOP-UDEU41DE #13 .NET TP Worker] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
10:54:01 [ERR] [LAPTOP-UDEU41DE #13 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The instance of entity type 'Order' cannot be tracked because another instance with the same key value for {'Id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at MyBGList.Controllers.SeedController.Post() in C:\4_semester_git\Turn ins\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 114
11:25:34 [INF] [LAPTOP-UDEU41DE #11 .NET TP Worker] Executed DbCommand (156ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 255), @p12='?' (DbType = DateTime2), @p13='?' (Size = 255), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (Size = 50), @p17='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
11:25:34 [INF] [LAPTOP-UDEU41DE #11 .NET TP Worker] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
11:25:35 [ERR] [LAPTOP-UDEU41DE #11 .NET TP Worker] Failed executing DbCommand (28ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (DbType = Int32), @p4='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Order] ([Id], [DeliveryDate], [DeliveryPlace])
VALUES (@p0, @p1, @p2);
INSERT INTO [Packet] ([OrderId], [TrackId])
OUTPUT INSERTED.[Id]
VALUES (@p3, @p4);
11:25:35 [ERR] [LAPTOP-UDEU41DE #11 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Order' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:3ec84a4b-2933-4cda-a38a-cb313dc87fba
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Order' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:3ec84a4b-2933-4cda-a38a-cb313dc87fba
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
11:25:35 [ERR] [LAPTOP-UDEU41DE #11 .NET TP Worker] An error occurred while seeding the database
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Order' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:3ec84a4b-2933-4cda-a38a-cb313dc87fba
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in C:\4_semester_git\Turn ins\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 115
11:41:37 [INF] [LAPTOP-UDEU41DE #17 .NET TP Worker] Executed DbCommand (39ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 255), @p12='?' (DbType = DateTime2), @p13='?' (Size = 255), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (Size = 50), @p17='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
11:41:37 [INF] [LAPTOP-UDEU41DE #17 .NET TP Worker] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
11:41:38 [ERR] [LAPTOP-UDEU41DE #17 .NET TP Worker] Failed executing DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (DbType = Int32), @p4='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Order] ([Id], [DeliveryDate], [DeliveryPlace])
VALUES (@p0, @p1, @p2);
INSERT INTO [Packet] ([OrderId], [TrackId])
OUTPUT INSERTED.[Id]
VALUES (@p3, @p4);
11:41:38 [ERR] [LAPTOP-UDEU41DE #17 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Order' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:c97b8a9b-8407-4f0d-aacd-526b8bb05846
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Order' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:c97b8a9b-8407-4f0d-aacd-526b8bb05846
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
11:41:38 [ERR] [LAPTOP-UDEU41DE #17 .NET TP Worker] An error occurred while seeding the database
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Order' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:c97b8a9b-8407-4f0d-aacd-526b8bb05846
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in C:\4_semester_git\Turn ins\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 115
11:44:18 [INF] [LAPTOP-UDEU41DE #8 .NET TP Worker] Get method started.
11:44:19 [INF] [LAPTOP-UDEU41DE #17 .NET TP Worker] Executed DbCommand (9ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[TrackId]
FROM [Packet] AS [p]
WHERE [p].[OrderId] = @__orderId_0
11:52:08 [INF] [LAPTOP-UDEU41DE #10 .NET TP Worker] Get method started.
11:52:08 [INF] [LAPTOP-UDEU41DE #10 .NET TP Worker] Executed DbCommand (9ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[DeliveryPlace], [o].[DeliveryDate]
FROM [Order] AS [o]
WHERE [o].[Id] = @__orderId_0
12:27:11 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (732ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [MyBGList];
12:27:12 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (404ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [MyBGList] SET READ_COMMITTED_SNAPSHOT ON;
END;
12:27:12 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
12:27:12 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
12:27:12 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
12:27:12 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
12:27:12 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
12:27:12 [INF] [LAPTOP-UDEU41DE #1 ] Applying migration '20240402102619_InitialCreate'.
12:27:12 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGood] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [DateProduced] datetime2 NOT NULL,
    CONSTRAINT [PK_BakingGood] PRIMARY KEY ([Id])
);
12:27:12 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Batch] (
    [Id] int NOT NULL IDENTITY,
    [StartDateTime] datetime2 NOT NULL,
    [EndDateTime] datetime2 NOT NULL,
    [ActualEndTime] datetime2 NOT NULL,
    CONSTRAINT [PK_Batch] PRIMARY KEY ([Id])
);
12:27:12 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Order] (
    [Id] int NOT NULL IDENTITY,
    [DeliveryPlace] nvarchar(255) NOT NULL,
    [DeliveryDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Order] PRIMARY KEY ([Id])
);
12:27:12 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Stock] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_Stock] PRIMARY KEY ([Id])
);
12:27:12 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGoodBatch] (
    [BakingGoodId] int NOT NULL,
    [BatchId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BakingGoodBatch] PRIMARY KEY ([BatchId], [BakingGoodId]),
    CONSTRAINT [FK_BakingGoodBatch_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BakingGoodBatch_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE
);
12:27:12 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OrderBakingGood] (
    [OrderId] int NOT NULL,
    [BakingGoodId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_OrderBakingGood] PRIMARY KEY ([OrderId], [BakingGoodId]),
    CONSTRAINT [FK_OrderBakingGood_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_OrderBakingGood_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
12:27:12 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Packet] (
    [Id] int NOT NULL IDENTITY,
    [TrackId] nvarchar(9) NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Packet] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Packet_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
12:27:12 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BatchStock] (
    [BatchId] int NOT NULL,
    [StockId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BatchStock] PRIMARY KEY ([BatchId], [StockId]),
    CONSTRAINT [FK_BatchStock_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BatchStock_Stock_StockId] FOREIGN KEY ([StockId]) REFERENCES [Stock] ([Id]) ON DELETE CASCADE
);
12:27:12 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BakingGoodBatch_BakingGoodId] ON [BakingGoodBatch] ([BakingGoodId]);
12:27:12 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BatchStock_StockId] ON [BatchStock] ([StockId]);
12:27:12 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OrderBakingGood_BakingGoodId] ON [OrderBakingGood] ([BakingGoodId]);
12:27:12 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Packet_OrderId] ON [Packet] ([OrderId]);
12:27:12 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240402102619_InitialCreate', N'8.0.2');
12:29:46 [INF] [LAPTOP-UDEU41DE #1 ] Now listening on: http://localhost:5113
12:29:46 [INF] [LAPTOP-UDEU41DE #1 ] Application started. Press Ctrl+C to shut down.
12:29:46 [INF] [LAPTOP-UDEU41DE #1 ] Hosting environment: Development
12:29:46 [INF] [LAPTOP-UDEU41DE #1 ] Content root path: C:\4_semester_git\Turn ins\BAD3\MyBGList_Chap7
12:29:59 [INF] [LAPTOP-UDEU41DE #12 ] Application is shutting down...
12:30:10 [INF] [LAPTOP-UDEU41DE #1 ] Now listening on: http://localhost:5113
12:30:10 [INF] [LAPTOP-UDEU41DE #1 ] Application started. Press Ctrl+C to shut down.
12:30:10 [INF] [LAPTOP-UDEU41DE #1 ] Hosting environment: Development
12:30:10 [INF] [LAPTOP-UDEU41DE #1 ] Content root path: C:\4_semester_git\Turn ins\BAD3\MyBGList_Chap7
12:30:55 [WRN] [LAPTOP-UDEU41DE #10 .NET TP Worker] Failed to determine the https port for redirect.
12:30:57 [INF] [LAPTOP-UDEU41DE #10 .NET TP Worker] Executed DbCommand (27ms) [Parameters=[@__record_PacketOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_PacketOrderId_0
12:30:57 [INF] [LAPTOP-UDEU41DE #10 .NET TP Worker] Executed DbCommand (5ms) [Parameters=[@__record_OrderBakingGoodOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_OrderBakingGoodOrderId_0
12:30:57 [INF] [LAPTOP-UDEU41DE #10 .NET TP Worker] Executed DbCommand (4ms) [Parameters=[@__record_OrderBakingGoodBakingGoodId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
WHERE [b].[Id] = @__record_OrderBakingGoodBakingGoodId_0
12:30:57 [INF] [LAPTOP-UDEU41DE #10 .NET TP Worker] Executed DbCommand (3ms) [Parameters=[@__record_PacketOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_PacketOrderId_0
12:30:57 [INF] [LAPTOP-UDEU41DE #10 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[@__record_OrderBakingGoodOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_OrderBakingGoodOrderId_0
12:30:57 [INF] [LAPTOP-UDEU41DE #10 .NET TP Worker] Executed DbCommand (3ms) [Parameters=[@__record_OrderBakingGoodBakingGoodId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
WHERE [b].[Id] = @__record_OrderBakingGoodBakingGoodId_0
12:30:57 [INF] [LAPTOP-UDEU41DE #10 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[@__record_PacketOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_PacketOrderId_0
12:30:57 [INF] [LAPTOP-UDEU41DE #10 .NET TP Worker] Executed DbCommand (3ms) [Parameters=[@__record_OrderBakingGoodOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_OrderBakingGoodOrderId_0
12:30:57 [INF] [LAPTOP-UDEU41DE #10 .NET TP Worker] Executed DbCommand (3ms) [Parameters=[@__record_OrderBakingGoodBakingGoodId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
WHERE [b].[Id] = @__record_OrderBakingGoodBakingGoodId_0
12:30:57 [INF] [LAPTOP-UDEU41DE #10 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[@__record_PacketOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_PacketOrderId_0
12:30:57 [INF] [LAPTOP-UDEU41DE #10 .NET TP Worker] Executed DbCommand (3ms) [Parameters=[@__record_OrderBakingGoodOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_OrderBakingGoodOrderId_0
12:30:57 [INF] [LAPTOP-UDEU41DE #10 .NET TP Worker] Executed DbCommand (3ms) [Parameters=[@__record_OrderBakingGoodBakingGoodId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
WHERE [b].[Id] = @__record_OrderBakingGoodBakingGoodId_0
12:30:57 [INF] [LAPTOP-UDEU41DE #10 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[@__record_PacketOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_PacketOrderId_0
12:30:57 [INF] [LAPTOP-UDEU41DE #10 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[@__record_OrderBakingGoodOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_OrderBakingGoodOrderId_0
12:30:57 [INF] [LAPTOP-UDEU41DE #10 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[@__record_OrderBakingGoodBakingGoodId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
WHERE [b].[Id] = @__record_OrderBakingGoodBakingGoodId_0
12:30:57 [INF] [LAPTOP-UDEU41DE #10 .NET TP Worker] Executed DbCommand (3ms) [Parameters=[@__record_PacketOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_PacketOrderId_0
12:30:57 [INF] [LAPTOP-UDEU41DE #10 .NET TP Worker] Executed DbCommand (4ms) [Parameters=[@__record_OrderBakingGoodOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_OrderBakingGoodOrderId_0
12:30:57 [INF] [LAPTOP-UDEU41DE #10 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[@__record_OrderBakingGoodBakingGoodId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
WHERE [b].[Id] = @__record_OrderBakingGoodBakingGoodId_0
12:30:57 [ERR] [LAPTOP-UDEU41DE #10 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
12:30:57 [ERR] [LAPTOP-UDEU41DE #10 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in C:\4_semester_git\Turn ins\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 159
12:37:43 [INF] [LAPTOP-UDEU41DE #12 ] Application is shutting down...
12:38:42 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
12:38:42 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
12:38:42 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
12:38:42 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
12:38:42 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
12:38:42 [INF] [LAPTOP-UDEU41DE #1 ] No migrations were applied. The database is already up to date.
12:39:47 [INF] [LAPTOP-UDEU41DE #1 ] Now listening on: http://localhost:5113
12:39:47 [INF] [LAPTOP-UDEU41DE #1 ] Application started. Press Ctrl+C to shut down.
12:39:47 [INF] [LAPTOP-UDEU41DE #1 ] Hosting environment: Development
12:39:47 [INF] [LAPTOP-UDEU41DE #1 ] Content root path: C:\4_semester_git\Turn ins\BAD3\MyBGList_Chap7
12:40:23 [WRN] [LAPTOP-UDEU41DE #12 .NET TP Worker] Failed to determine the https port for redirect.
12:40:25 [INF] [LAPTOP-UDEU41DE #12 .NET TP Worker] Executed DbCommand (24ms) [Parameters=[@__record_PacketOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_PacketOrderId_0
12:40:25 [INF] [LAPTOP-UDEU41DE #12 .NET TP Worker] Executed DbCommand (4ms) [Parameters=[@__record_OrderBakingGoodOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_OrderBakingGoodOrderId_0
12:40:25 [INF] [LAPTOP-UDEU41DE #12 .NET TP Worker] Executed DbCommand (5ms) [Parameters=[@__record_OrderBakingGoodBakingGoodId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
WHERE [b].[Id] = @__record_OrderBakingGoodBakingGoodId_0
12:40:25 [INF] [LAPTOP-UDEU41DE #12 .NET TP Worker] Executed DbCommand (3ms) [Parameters=[@__record_PacketOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_PacketOrderId_0
12:40:25 [INF] [LAPTOP-UDEU41DE #12 .NET TP Worker] Executed DbCommand (3ms) [Parameters=[@__record_OrderBakingGoodOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_OrderBakingGoodOrderId_0
12:40:25 [INF] [LAPTOP-UDEU41DE #12 .NET TP Worker] Executed DbCommand (3ms) [Parameters=[@__record_OrderBakingGoodBakingGoodId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
WHERE [b].[Id] = @__record_OrderBakingGoodBakingGoodId_0
12:40:25 [INF] [LAPTOP-UDEU41DE #12 .NET TP Worker] Executed DbCommand (3ms) [Parameters=[@__record_PacketOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_PacketOrderId_0
12:40:25 [INF] [LAPTOP-UDEU41DE #12 .NET TP Worker] Executed DbCommand (10ms) [Parameters=[@__record_OrderBakingGoodOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_OrderBakingGoodOrderId_0
12:40:25 [INF] [LAPTOP-UDEU41DE #12 .NET TP Worker] Executed DbCommand (4ms) [Parameters=[@__record_OrderBakingGoodBakingGoodId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
WHERE [b].[Id] = @__record_OrderBakingGoodBakingGoodId_0
12:40:25 [INF] [LAPTOP-UDEU41DE #12 .NET TP Worker] Executed DbCommand (3ms) [Parameters=[@__record_PacketOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_PacketOrderId_0
12:40:25 [INF] [LAPTOP-UDEU41DE #12 .NET TP Worker] Executed DbCommand (3ms) [Parameters=[@__record_OrderBakingGoodOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_OrderBakingGoodOrderId_0
12:40:25 [INF] [LAPTOP-UDEU41DE #12 .NET TP Worker] Executed DbCommand (3ms) [Parameters=[@__record_OrderBakingGoodBakingGoodId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
WHERE [b].[Id] = @__record_OrderBakingGoodBakingGoodId_0
12:40:25 [INF] [LAPTOP-UDEU41DE #12 .NET TP Worker] Executed DbCommand (4ms) [Parameters=[@__record_PacketOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_PacketOrderId_0
12:40:25 [INF] [LAPTOP-UDEU41DE #12 .NET TP Worker] Executed DbCommand (3ms) [Parameters=[@__record_OrderBakingGoodOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_OrderBakingGoodOrderId_0
12:40:25 [INF] [LAPTOP-UDEU41DE #12 .NET TP Worker] Executed DbCommand (3ms) [Parameters=[@__record_OrderBakingGoodBakingGoodId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
WHERE [b].[Id] = @__record_OrderBakingGoodBakingGoodId_0
12:40:25 [INF] [LAPTOP-UDEU41DE #12 .NET TP Worker] Executed DbCommand (3ms) [Parameters=[@__record_PacketOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_PacketOrderId_0
12:40:25 [INF] [LAPTOP-UDEU41DE #12 .NET TP Worker] Executed DbCommand (3ms) [Parameters=[@__record_OrderBakingGoodOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_OrderBakingGoodOrderId_0
12:40:25 [INF] [LAPTOP-UDEU41DE #12 .NET TP Worker] Executed DbCommand (3ms) [Parameters=[@__record_OrderBakingGoodBakingGoodId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
WHERE [b].[Id] = @__record_OrderBakingGoodBakingGoodId_0
12:40:25 [ERR] [LAPTOP-UDEU41DE #12 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
12:40:25 [ERR] [LAPTOP-UDEU41DE #12 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in C:\4_semester_git\Turn ins\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 159
12:43:14 [INF] [LAPTOP-UDEU41DE #14 .NET TP Worker] Get method started.
12:43:14 [INF] [LAPTOP-UDEU41DE #13 .NET TP Worker] Executed DbCommand (20ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[DeliveryPlace], [o].[DeliveryDate]
FROM [Order] AS [o]
WHERE [o].[Id] = @__orderId_0
13:05:50 [INF] [LAPTOP-UDEU41DE #16 ] Application is shutting down...
13:06:06 [INF] [LAPTOP-UDEU41DE #1 ] Now listening on: http://localhost:5113
13:06:06 [INF] [LAPTOP-UDEU41DE #1 ] Application started. Press Ctrl+C to shut down.
13:06:06 [INF] [LAPTOP-UDEU41DE #1 ] Hosting environment: Development
13:06:06 [INF] [LAPTOP-UDEU41DE #1 ] Content root path: C:\4_semester_git\Turn ins\BAD3\MyBGList_Chap7
13:06:20 [WRN] [LAPTOP-UDEU41DE #8 .NET TP Worker] Failed to determine the https port for redirect.
13:06:21 [ERR] [LAPTOP-UDEU41DE #8 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The instance of entity type 'OrderBakingGood' cannot be tracked because another instance with the same key value for {'OrderId', 'BakingGoodId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at MyBGList.Controllers.SeedController.Post() in C:\4_semester_git\Turn ins\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 122
13:16:29 [INF] [LAPTOP-UDEU41DE #10 ] Application is shutting down...
13:16:40 [INF] [LAPTOP-UDEU41DE #1 ] Now listening on: http://localhost:5113
13:16:40 [INF] [LAPTOP-UDEU41DE #1 ] Application started. Press Ctrl+C to shut down.
13:16:40 [INF] [LAPTOP-UDEU41DE #1 ] Hosting environment: Development
13:16:40 [INF] [LAPTOP-UDEU41DE #1 ] Content root path: C:\4_semester_git\Turn ins\BAD3\MyBGList_Chap7
13:16:43 [WRN] [LAPTOP-UDEU41DE #11 .NET TP Worker] Failed to determine the https port for redirect.
13:16:44 [ERR] [LAPTOP-UDEU41DE #11 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
13:16:44 [ERR] [LAPTOP-UDEU41DE #11 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in C:\4_semester_git\Turn ins\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 159
13:20:44 [INF] [LAPTOP-UDEU41DE #16 ] Application is shutting down...
13:20:55 [INF] [LAPTOP-UDEU41DE #1 ] Now listening on: http://localhost:5113
13:20:55 [INF] [LAPTOP-UDEU41DE #1 ] Application started. Press Ctrl+C to shut down.
13:20:55 [INF] [LAPTOP-UDEU41DE #1 ] Hosting environment: Development
13:20:55 [INF] [LAPTOP-UDEU41DE #1 ] Content root path: C:\4_semester_git\Turn ins\BAD3\MyBGList_Chap7
13:21:04 [WRN] [LAPTOP-UDEU41DE #10 .NET TP Worker] Failed to determine the https port for redirect.
13:21:05 [ERR] [LAPTOP-UDEU41DE #10 .NET TP Worker] An error occurred while seeding the database
System.NullReferenceException: Object reference not set to an instance of an object.
   at MyBGList.Controllers.SeedController.Post() in C:\4_semester_git\Turn ins\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 125
13:22:25 [INF] [LAPTOP-UDEU41DE #14 ] Application is shutting down...
13:22:33 [INF] [LAPTOP-UDEU41DE #1 ] Now listening on: http://localhost:5113
13:22:33 [INF] [LAPTOP-UDEU41DE #1 ] Application started. Press Ctrl+C to shut down.
13:22:33 [INF] [LAPTOP-UDEU41DE #1 ] Hosting environment: Development
13:22:33 [INF] [LAPTOP-UDEU41DE #1 ] Content root path: C:\4_semester_git\Turn ins\BAD3\MyBGList_Chap7
13:22:44 [WRN] [LAPTOP-UDEU41DE #13 .NET TP Worker] Failed to determine the https port for redirect.
13:22:46 [ERR] [LAPTOP-UDEU41DE #13 .NET TP Worker] An error occurred while seeding the database
System.NullReferenceException: Object reference not set to an instance of an object.
   at MyBGList.Controllers.SeedController.Post() in C:\4_semester_git\Turn ins\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 125
13:29:27 [INF] [LAPTOP-UDEU41DE #12 ] Application is shutting down...
13:29:34 [INF] [LAPTOP-UDEU41DE #1 ] Now listening on: http://localhost:5113
13:29:34 [INF] [LAPTOP-UDEU41DE #1 ] Application started. Press Ctrl+C to shut down.
13:29:34 [INF] [LAPTOP-UDEU41DE #1 ] Hosting environment: Development
13:29:34 [INF] [LAPTOP-UDEU41DE #1 ] Content root path: C:\4_semester_git\Turn ins\BAD3\MyBGList_Chap7
13:29:40 [WRN] [LAPTOP-UDEU41DE #11 .NET TP Worker] Failed to determine the https port for redirect.
13:29:41 [INF] [LAPTOP-UDEU41DE #11 .NET TP Worker] Executed DbCommand (34ms) [Parameters=[@__record_PacketOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_PacketOrderId_0
13:29:41 [INF] [LAPTOP-UDEU41DE #11 .NET TP Worker] Executed DbCommand (7ms) [Parameters=[@__record_OrderBakingGoodOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_OrderBakingGoodOrderId_0
13:29:41 [INF] [LAPTOP-UDEU41DE #11 .NET TP Worker] Executed DbCommand (4ms) [Parameters=[@__record_OrderBakingGoodBakingGoodId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
WHERE [b].[Id] = @__record_OrderBakingGoodBakingGoodId_0
13:29:41 [INF] [LAPTOP-UDEU41DE #11 .NET TP Worker] Executed DbCommand (3ms) [Parameters=[@__record_PacketOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_PacketOrderId_0
13:29:41 [INF] [LAPTOP-UDEU41DE #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[@__record_OrderBakingGoodOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_OrderBakingGoodOrderId_0
13:29:41 [INF] [LAPTOP-UDEU41DE #11 .NET TP Worker] Executed DbCommand (3ms) [Parameters=[@__record_OrderBakingGoodBakingGoodId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
WHERE [b].[Id] = @__record_OrderBakingGoodBakingGoodId_0
13:29:41 [INF] [LAPTOP-UDEU41DE #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[@__record_PacketOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_PacketOrderId_0
13:29:41 [INF] [LAPTOP-UDEU41DE #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[@__record_OrderBakingGoodOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_OrderBakingGoodOrderId_0
13:29:41 [INF] [LAPTOP-UDEU41DE #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[@__record_OrderBakingGoodBakingGoodId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
WHERE [b].[Id] = @__record_OrderBakingGoodBakingGoodId_0
13:29:41 [INF] [LAPTOP-UDEU41DE #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[@__record_PacketOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_PacketOrderId_0
13:29:41 [INF] [LAPTOP-UDEU41DE #11 .NET TP Worker] Executed DbCommand (3ms) [Parameters=[@__record_OrderBakingGoodOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_OrderBakingGoodOrderId_0
13:29:41 [INF] [LAPTOP-UDEU41DE #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[@__record_OrderBakingGoodBakingGoodId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
WHERE [b].[Id] = @__record_OrderBakingGoodBakingGoodId_0
13:29:41 [INF] [LAPTOP-UDEU41DE #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[@__record_PacketOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_PacketOrderId_0
13:29:41 [INF] [LAPTOP-UDEU41DE #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[@__record_OrderBakingGoodOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_OrderBakingGoodOrderId_0
13:29:41 [INF] [LAPTOP-UDEU41DE #11 .NET TP Worker] Executed DbCommand (3ms) [Parameters=[@__record_OrderBakingGoodBakingGoodId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
WHERE [b].[Id] = @__record_OrderBakingGoodBakingGoodId_0
13:29:41 [INF] [LAPTOP-UDEU41DE #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[@__record_PacketOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_PacketOrderId_0
13:29:41 [INF] [LAPTOP-UDEU41DE #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[@__record_OrderBakingGoodOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_OrderBakingGoodOrderId_0
13:29:41 [INF] [LAPTOP-UDEU41DE #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[@__record_OrderBakingGoodBakingGoodId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
WHERE [b].[Id] = @__record_OrderBakingGoodBakingGoodId_0
13:29:41 [ERR] [LAPTOP-UDEU41DE #11 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
13:29:41 [ERR] [LAPTOP-UDEU41DE #11 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in C:\4_semester_git\Turn ins\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 161
13:30:22 [INF] [LAPTOP-UDEU41DE #17 ] Application is shutting down...
13:31:51 [INF] [LAPTOP-UDEU41DE #1 ] Now listening on: http://localhost:5113
13:31:52 [INF] [LAPTOP-UDEU41DE #1 ] Application started. Press Ctrl+C to shut down.
13:31:52 [INF] [LAPTOP-UDEU41DE #1 ] Hosting environment: Development
13:31:52 [INF] [LAPTOP-UDEU41DE #1 ] Content root path: C:\4_semester_git\Turn ins\BAD3\MyBGList_Chap7
13:31:59 [WRN] [LAPTOP-UDEU41DE #8 .NET TP Worker] Failed to determine the https port for redirect.
13:32:00 [INF] [LAPTOP-UDEU41DE #8 .NET TP Worker] Executed DbCommand (124ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 255), @p12='?' (DbType = DateTime2), @p13='?' (Size = 255), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (Size = 50), @p17='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
13:32:01 [ERR] [LAPTOP-UDEU41DE #8 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The instance of entity type 'OrderBakingGood' cannot be tracked because another instance with the same key value for {'OrderId', 'BakingGoodId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at MyBGList.Controllers.SeedController.Post() in C:\4_semester_git\Turn ins\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 125
13:42:37 [INF] [LAPTOP-UDEU41DE #17 ] Application is shutting down...
13:42:49 [INF] [LAPTOP-UDEU41DE #1 ] Now listening on: http://localhost:5113
13:42:49 [INF] [LAPTOP-UDEU41DE #1 ] Application started. Press Ctrl+C to shut down.
13:42:49 [INF] [LAPTOP-UDEU41DE #1 ] Hosting environment: Development
13:42:49 [INF] [LAPTOP-UDEU41DE #1 ] Content root path: C:\4_semester_git\Turn ins\BAD3\MyBGList_Chap7
13:42:54 [WRN] [LAPTOP-UDEU41DE #10 .NET TP Worker] Failed to determine the https port for redirect.
13:42:55 [WRN] [LAPTOP-UDEU41DE #10 .NET TP Worker] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
13:42:56 [INF] [LAPTOP-UDEU41DE #10 .NET TP Worker] Executed DbCommand (34ms) [Parameters=[@p0='2024-03-27T04:00:00.0000000', @p1='Cake' (Nullable = false) (Size = 50), @p2='2024-03-28T05:00:00.0000000', @p3='Cookie' (Nullable = false) (Size = 50), @p4='2024-03-28T09:45:00.0000000', @p5='2024-03-28T10:00:00.0000000', @p6='2024-03-28T08:00:00.0000000', @p7='2024-03-29T08:45:00.0000000', @p8='2024-03-29T09:00:00.0000000', @p9='2024-03-29T07:00:00.0000000', @p10='2024-03-28T03:00:00.0000000', @p11='Location1' (Nullable = false) (Size = 255), @p12='2024-03-29T02:00:00.0000000', @p13='Location2' (Nullable = false) (Size = 255), @p14='Flour' (Nullable = false) (Size = 50), @p15='100', @p16='Sugar' (Nullable = false) (Size = 50), @p17='200'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
13:42:56 [ERR] [LAPTOP-UDEU41DE #10 .NET TP Worker] An error occurred while seeding the database
System.ArgumentNullException: Value cannot be null. (Parameter 'entity')
   at Microsoft.EntityFrameworkCore.Utilities.Check.NotNull[T](T value, String parameterName)
   at Microsoft.EntityFrameworkCore.DbContext.Entry[TEntity](TEntity entity)
   at MyBGList.Controllers.SeedController.Post() in C:\4_semester_git\Turn ins\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 128
13:47:26 [INF] [LAPTOP-UDEU41DE #19 ] Application is shutting down...
13:47:38 [INF] [LAPTOP-UDEU41DE #1 ] Now listening on: http://localhost:5113
13:47:38 [INF] [LAPTOP-UDEU41DE #1 ] Application started. Press Ctrl+C to shut down.
13:47:38 [INF] [LAPTOP-UDEU41DE #1 ] Hosting environment: Development
13:47:38 [INF] [LAPTOP-UDEU41DE #1 ] Content root path: C:\4_semester_git\Turn ins\BAD3\MyBGList_Chap7
13:47:46 [WRN] [LAPTOP-UDEU41DE #12 .NET TP Worker] Failed to determine the https port for redirect.
13:47:47 [WRN] [LAPTOP-UDEU41DE #12 .NET TP Worker] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
13:47:47 [INF] [LAPTOP-UDEU41DE #12 .NET TP Worker] Executed DbCommand (31ms) [Parameters=[@p0='2024-03-27T04:00:00.0000000', @p1='Cake' (Nullable = false) (Size = 50), @p2='2024-03-28T05:00:00.0000000', @p3='Cookie' (Nullable = false) (Size = 50), @p4='2024-03-28T09:45:00.0000000', @p5='2024-03-28T10:00:00.0000000', @p6='2024-03-28T08:00:00.0000000', @p7='2024-03-29T08:45:00.0000000', @p8='2024-03-29T09:00:00.0000000', @p9='2024-03-29T07:00:00.0000000', @p10='2024-03-28T03:00:00.0000000', @p11='Location1' (Nullable = false) (Size = 255), @p12='2024-03-29T02:00:00.0000000', @p13='Location2' (Nullable = false) (Size = 255), @p14='Flour' (Nullable = false) (Size = 50), @p15='100', @p16='Sugar' (Nullable = false) (Size = 50), @p17='200'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
13:47:47 [ERR] [LAPTOP-UDEU41DE #12 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
13:47:47 [ERR] [LAPTOP-UDEU41DE #12 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in C:\4_semester_git\Turn ins\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 163
13:54:03 [INF] [LAPTOP-UDEU41DE #3 ] Application is shutting down...
13:55:06 [WRN] [LAPTOP-UDEU41DE #1 ] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
13:55:37 [WRN] [LAPTOP-UDEU41DE #1 ] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
13:56:16 [WRN] [LAPTOP-UDEU41DE #1 ] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
13:56:19 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (2,423ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [MyBGList];
13:56:19 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (350ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [MyBGList] SET READ_COMMITTED_SNAPSHOT ON;
END;
13:56:19 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
13:56:19 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
13:56:19 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
13:56:19 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
13:56:19 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
13:56:19 [INF] [LAPTOP-UDEU41DE #1 ] Applying migration '20240402115507_InitialCreate'.
13:56:19 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGood] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [DateProduced] datetime2 NOT NULL,
    CONSTRAINT [PK_BakingGood] PRIMARY KEY ([Id])
);
13:56:19 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Batch] (
    [Id] int NOT NULL IDENTITY,
    [StartDateTime] datetime2 NOT NULL,
    [EndDateTime] datetime2 NOT NULL,
    [ActualEndTime] datetime2 NOT NULL,
    CONSTRAINT [PK_Batch] PRIMARY KEY ([Id])
);
13:56:19 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Order] (
    [Id] int NOT NULL IDENTITY,
    [DeliveryPlace] nvarchar(255) NOT NULL,
    [DeliveryDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Order] PRIMARY KEY ([Id])
);
13:56:19 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Stock] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_Stock] PRIMARY KEY ([Id])
);
13:56:19 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGoodBatch] (
    [BakingGoodId] int NOT NULL,
    [BatchId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BakingGoodBatch] PRIMARY KEY ([BatchId], [BakingGoodId]),
    CONSTRAINT [FK_BakingGoodBatch_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BakingGoodBatch_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE
);
13:56:19 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OrderBakingGood] (
    [OrderId] int NOT NULL,
    [BakingGoodId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_OrderBakingGood] PRIMARY KEY ([OrderId], [BakingGoodId]),
    CONSTRAINT [FK_OrderBakingGood_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_OrderBakingGood_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
13:56:19 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Packet] (
    [Id] int NOT NULL IDENTITY,
    [TrackId] nvarchar(9) NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Packet] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Packet_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
13:56:19 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BatchStock] (
    [BatchId] int NOT NULL,
    [StockId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BatchStock] PRIMARY KEY ([BatchId], [StockId]),
    CONSTRAINT [FK_BatchStock_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BatchStock_Stock_StockId] FOREIGN KEY ([StockId]) REFERENCES [Stock] ([Id]) ON DELETE CASCADE
);
13:56:19 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BakingGoodBatch_BakingGoodId] ON [BakingGoodBatch] ([BakingGoodId]);
13:56:19 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BatchStock_StockId] ON [BatchStock] ([StockId]);
13:56:19 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OrderBakingGood_BakingGoodId] ON [OrderBakingGood] ([BakingGoodId]);
13:56:19 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Packet_OrderId] ON [Packet] ([OrderId]);
13:56:19 [INF] [LAPTOP-UDEU41DE #1 ] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240402115507_InitialCreate', N'8.0.2');
13:56:28 [INF] [LAPTOP-UDEU41DE #1 ] Now listening on: http://localhost:5113
13:56:28 [INF] [LAPTOP-UDEU41DE #1 ] Application started. Press Ctrl+C to shut down.
13:56:28 [INF] [LAPTOP-UDEU41DE #1 ] Hosting environment: Development
13:56:28 [INF] [LAPTOP-UDEU41DE #1 ] Content root path: C:\4_semester_git\Turn ins\BAD3\MyBGList_Chap7
13:56:59 [WRN] [LAPTOP-UDEU41DE #8 .NET TP Worker] Failed to determine the https port for redirect.
13:57:00 [WRN] [LAPTOP-UDEU41DE #8 .NET TP Worker] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
13:57:01 [INF] [LAPTOP-UDEU41DE #8 .NET TP Worker] Executed DbCommand (51ms) [Parameters=[@p0='2024-03-27T04:00:00.0000000', @p1='Cake' (Nullable = false) (Size = 50), @p2='2024-03-28T05:00:00.0000000', @p3='Cookie' (Nullable = false) (Size = 50), @p4='2024-03-28T09:45:00.0000000', @p5='2024-03-28T10:00:00.0000000', @p6='2024-03-28T08:00:00.0000000', @p7='2024-03-29T08:45:00.0000000', @p8='2024-03-29T09:00:00.0000000', @p9='2024-03-29T07:00:00.0000000', @p10='2024-03-28T03:00:00.0000000', @p11='Location1' (Nullable = false) (Size = 255), @p12='2024-03-29T02:00:00.0000000', @p13='Location2' (Nullable = false) (Size = 255), @p14='Flour' (Nullable = false) (Size = 50), @p15='100', @p16='Sugar' (Nullable = false) (Size = 50), @p17='200'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
13:57:01 [ERR] [LAPTOP-UDEU41DE #8 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The instance of entity type 'OrderBakingGood' cannot be tracked because another instance with the key value '{OrderId: 1, BakingGoodId: 1}' is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at MyBGList.Controllers.SeedController.Post() in C:\4_semester_git\Turn ins\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 126
13:59:12 [INF] [LAPTOP-UDEU41DE #10 .NET TP Worker] Executed DbCommand (6ms) [Parameters=[@p0='2024-03-27T04:00:00.0000000', @p1='Cake' (Nullable = false) (Size = 50), @p2='2024-03-28T05:00:00.0000000', @p3='Cookie' (Nullable = false) (Size = 50), @p4='2024-03-28T09:45:00.0000000', @p5='2024-03-28T10:00:00.0000000', @p6='2024-03-28T08:00:00.0000000', @p7='2024-03-29T08:45:00.0000000', @p8='2024-03-29T09:00:00.0000000', @p9='2024-03-29T07:00:00.0000000', @p10='2024-03-28T03:00:00.0000000', @p11='Location1' (Nullable = false) (Size = 255), @p12='2024-03-29T02:00:00.0000000', @p13='Location2' (Nullable = false) (Size = 255), @p14='Flour' (Nullable = false) (Size = 50), @p15='100', @p16='Sugar' (Nullable = false) (Size = 50), @p17='200'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
13:59:12 [ERR] [LAPTOP-UDEU41DE #10 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
13:59:12 [ERR] [LAPTOP-UDEU41DE #10 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in C:\4_semester_git\Turn ins\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 163
15:31:50 [INF] [LAPTOP-UDEU41DE #11 ] Application is shutting down...
