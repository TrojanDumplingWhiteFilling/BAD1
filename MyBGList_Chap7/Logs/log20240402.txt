21:24:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (235ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [MyBGList];
21:24:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [MyBGList] SET READ_COMMITTED_SNAPSHOT ON;
END;
21:24:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
21:24:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
21:24:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
21:24:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
21:24:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
21:24:20 [INF] [ATARASHIBEASTX #1 ] Applying migration '20240402192348_InitialCreate'.
21:24:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGood] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [DateProduced] datetime2 NOT NULL,
    CONSTRAINT [PK_BakingGood] PRIMARY KEY ([Id])
);
21:24:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Batch] (
    [Id] int NOT NULL IDENTITY,
    [StartDateTime] datetime2 NOT NULL,
    [EndDateTime] datetime2 NOT NULL,
    [ActualEndTime] datetime2 NOT NULL,
    CONSTRAINT [PK_Batch] PRIMARY KEY ([Id])
);
21:24:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Order] (
    [Id] int NOT NULL IDENTITY,
    [DeliveryPlace] nvarchar(255) NOT NULL,
    [DeliveryDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Order] PRIMARY KEY ([Id])
);
21:24:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Stock] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_Stock] PRIMARY KEY ([Id])
);
21:24:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGoodBatch] (
    [BakingGoodId] int NOT NULL,
    [BatchId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BakingGoodBatch] PRIMARY KEY ([BatchId], [BakingGoodId]),
    CONSTRAINT [FK_BakingGoodBatch_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BakingGoodBatch_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE
);
21:24:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OrderBakingGood] (
    [OrderId] int NOT NULL,
    [BakingGoodId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_OrderBakingGood] PRIMARY KEY ([OrderId], [BakingGoodId]),
    CONSTRAINT [FK_OrderBakingGood_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_OrderBakingGood_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
21:24:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Packet] (
    [Id] int NOT NULL IDENTITY,
    [TrackId] nvarchar(9) NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Packet] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Packet_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
21:24:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BatchStock] (
    [BatchId] int NOT NULL,
    [StockId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BatchStock] PRIMARY KEY ([BatchId], [StockId]),
    CONSTRAINT [FK_BatchStock_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BatchStock_Stock_StockId] FOREIGN KEY ([StockId]) REFERENCES [Stock] ([Id]) ON DELETE CASCADE
);
21:24:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BakingGoodBatch_BakingGoodId] ON [BakingGoodBatch] ([BakingGoodId]);
21:24:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BatchStock_StockId] ON [BatchStock] ([StockId]);
21:24:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OrderBakingGood_BakingGoodId] ON [OrderBakingGood] ([BakingGoodId]);
21:24:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Packet_OrderId] ON [Packet] ([OrderId]);
21:24:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240402192348_InitialCreate', N'8.0.2');
21:34:05 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
21:34:05 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
21:34:05 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
21:34:05 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
21:34:05 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
21:34:05 [INF] [ATARASHIBEASTX #1 ] No migrations were applied. The database is already up to date.
21:34:27 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
21:34:27 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
21:34:27 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
21:34:27 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
21:34:36 [WRN] [ATARASHIBEASTX #11 .NET TP Worker] Failed to determine the https port for redirect.
21:34:44 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 255), @p12='?' (DbType = DateTime2), @p13='?' (Size = 255), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (Size = 50), @p17='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
21:34:45 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
21:34:45 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (DbType = Int32), @p4='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Order] ([Id], [DeliveryDate], [DeliveryPlace])
VALUES (@p0, @p1, @p2);
INSERT INTO [Packet] ([OrderId], [TrackId])
OUTPUT INSERTED.[Id]
VALUES (@p3, @p4);
21:34:45 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Order' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e5216c6a-f49d-41e5-86f3-9cce82ff5c95
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Order' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e5216c6a-f49d-41e5-86f3-9cce82ff5c95
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
21:34:45 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] An error occurred while seeding the database
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Order' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e5216c6a-f49d-41e5-86f3-9cce82ff5c95
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 115
21:45:52 [INF] [ATARASHIBEASTX #20 ] Application is shutting down...
21:45:58 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
21:45:58 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
21:45:58 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
21:45:58 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
21:46:04 [WRN] [ATARASHIBEASTX #12 .NET TP Worker] Failed to determine the https port for redirect.
21:46:05 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 255), @p12='?' (DbType = DateTime2), @p13='?' (Size = 255), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (Size = 50), @p17='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
21:46:05 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (3ms) [Parameters=[@__record_PacketOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_PacketOrderId_0
21:46:05 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (DbType = Int32), @p4='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Order] ([Id], [DeliveryDate], [DeliveryPlace])
VALUES (@p0, @p1, @p2);
INSERT INTO [Packet] ([OrderId], [TrackId])
OUTPUT INSERTED.[Id]
VALUES (@p3, @p4);
21:46:05 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Order' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1d5770f8-6973-4ed6-93ee-9f59a398cada
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Order' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1d5770f8-6973-4ed6-93ee-9f59a398cada
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
21:46:05 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An error occurred while seeding the database
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Order' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1d5770f8-6973-4ed6-93ee-9f59a398cada
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 115
21:48:34 [INF] [ATARASHIBEASTX #19 ] Application is shutting down...
21:48:37 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
21:48:37 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
21:48:37 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
21:48:37 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
21:48:40 [WRN] [ATARASHIBEASTX #10 .NET TP Worker] Failed to determine the https port for redirect.
21:48:41 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 255), @p12='?' (DbType = DateTime2), @p13='?' (Size = 255), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (Size = 50), @p17='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
21:48:41 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[@__record_PacketOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_PacketOrderId_0
21:48:41 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (DbType = Int32), @p4='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Order] ([Id], [DeliveryDate], [DeliveryPlace])
VALUES (@p0, @p1, @p2);
INSERT INTO [Packet] ([OrderId], [TrackId])
OUTPUT INSERTED.[Id]
VALUES (@p3, @p4);
21:48:41 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Order' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7fcdee5b-252f-4704-82aa-2ce1c48b29f5
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Order' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7fcdee5b-252f-4704-82aa-2ce1c48b29f5
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
21:48:41 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An error occurred while seeding the database
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Order' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7fcdee5b-252f-4704-82aa-2ce1c48b29f5
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 115
21:51:30 [INF] [ATARASHIBEASTX #16 ] Application is shutting down...
21:52:34 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
21:52:34 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
21:52:34 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
21:52:34 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
21:52:44 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
21:52:44 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 255), @p12='?' (DbType = DateTime2), @p13='?' (Size = 255), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (Size = 50), @p17='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
21:52:44 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Order] AS [o]
21:52:44 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Packet] AS [p]
21:52:44 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BakingGood] AS [b]
21:52:44 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Batch] AS [b]
21:52:44 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Stock] AS [s]
21:52:44 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OrderBakingGood] AS [o]
21:52:44 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BakingGoodBatch] AS [b]
21:52:44 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BatchStock] AS [b]
21:53:26 [INF] [ATARASHIBEASTX #16 ] Application is shutting down...
21:53:29 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
21:53:29 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
21:53:29 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
21:53:29 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
21:53:30 [WRN] [ATARASHIBEASTX #11 .NET TP Worker] Failed to determine the https port for redirect.
21:53:31 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 255), @p12='?' (DbType = DateTime2), @p13='?' (Size = 255), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (Size = 50), @p17='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
21:53:31 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
21:53:31 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 161
21:54:20 [INF] [ATARASHIBEASTX #15 ] Application is shutting down...
21:54:51 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
21:54:51 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
21:54:51 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
21:54:51 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
21:54:53 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
21:54:53 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 255), @p12='?' (DbType = DateTime2), @p13='?' (Size = 255), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (Size = 50), @p17='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
21:54:53 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
21:54:53 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 162
21:55:22 [INF] [ATARASHIBEASTX #16 ] Application is shutting down...
21:56:45 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (173ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [MyBGList];
21:56:45 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [MyBGList] SET READ_COMMITTED_SNAPSHOT ON;
END;
21:56:45 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
21:56:45 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
21:56:45 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
21:56:45 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
21:56:45 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
21:56:45 [INF] [ATARASHIBEASTX #1 ] Applying migration '20240402195609_InitialCreate'.
21:56:45 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGood] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [DateProduced] datetime2 NOT NULL,
    CONSTRAINT [PK_BakingGood] PRIMARY KEY ([Id])
);
21:56:45 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Batch] (
    [Id] int NOT NULL IDENTITY,
    [StartDateTime] datetime2 NOT NULL,
    [EndDateTime] datetime2 NOT NULL,
    [ActualEndTime] datetime2 NOT NULL,
    CONSTRAINT [PK_Batch] PRIMARY KEY ([Id])
);
21:56:45 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Order] (
    [Id] int NOT NULL IDENTITY,
    [DeliveryPlace] nvarchar(255) NOT NULL,
    [DeliveryDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Order] PRIMARY KEY ([Id])
);
21:56:45 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Stock] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_Stock] PRIMARY KEY ([Id])
);
21:56:45 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGoodBatch] (
    [BakingGoodId] int NOT NULL,
    [BatchId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BakingGoodBatch] PRIMARY KEY ([BatchId], [BakingGoodId]),
    CONSTRAINT [FK_BakingGoodBatch_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BakingGoodBatch_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE
);
21:56:45 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OrderBakingGood] (
    [OrderId] int NOT NULL,
    [BakingGoodId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_OrderBakingGood] PRIMARY KEY ([OrderId], [BakingGoodId]),
    CONSTRAINT [FK_OrderBakingGood_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_OrderBakingGood_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
21:56:45 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Packet] (
    [Id] int NOT NULL IDENTITY,
    [TrackId] nvarchar(9) NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Packet] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Packet_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
21:56:45 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BatchStock] (
    [BatchId] int NOT NULL,
    [StockId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BatchStock] PRIMARY KEY ([BatchId], [StockId]),
    CONSTRAINT [FK_BatchStock_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BatchStock_Stock_StockId] FOREIGN KEY ([StockId]) REFERENCES [Stock] ([Id]) ON DELETE CASCADE
);
21:56:45 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BakingGoodBatch_BakingGoodId] ON [BakingGoodBatch] ([BakingGoodId]);
21:56:45 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BatchStock_StockId] ON [BatchStock] ([StockId]);
21:56:45 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OrderBakingGood_BakingGoodId] ON [OrderBakingGood] ([BakingGoodId]);
21:56:45 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Packet_OrderId] ON [Packet] ([OrderId]);
21:56:45 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240402195609_InitialCreate', N'8.0.2');
21:56:52 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
21:56:52 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
21:56:52 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
21:56:52 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
21:56:55 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
21:56:55 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 255), @p12='?' (DbType = DateTime2), @p13='?' (Size = 255), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (Size = 50), @p17='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
21:56:56 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
21:56:56 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 162
21:59:21 [INF] [ATARASHIBEASTX #21 ] Application is shutting down...
21:59:24 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
21:59:24 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
21:59:24 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
21:59:24 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
21:59:25 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
21:59:26 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 255), @p12='?' (DbType = DateTime2), @p13='?' (Size = 255), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (Size = 50), @p17='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
21:59:26 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (3ms) [Parameters=[@__record_OrderBakingGoodOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
WHERE [o].[Id] = @__record_OrderBakingGoodOrderId_0
21:59:26 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[@__record_OrderBakingGoodBakingGoodId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
WHERE [b].[Id] = @__record_OrderBakingGoodBakingGoodId_0
21:59:26 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (Size = 9), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BakingGood] ([Id], [DateProduced], [Name])
VALUES (@p0, @p1, @p2);
INSERT INTO [Order] ([Id], [DeliveryDate], [DeliveryPlace])
VALUES (@p3, @p4, @p5);
INSERT INTO [Packet] ([OrderId], [TrackId])
OUTPUT INSERTED.[Id]
VALUES (@p6, @p7);
INSERT INTO [OrderBakingGood] ([BakingGoodId], [OrderId], [Quantity])
VALUES (@p8, @p9, @p10);
21:59:26 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'BakingGood' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Order' when IDENTITY_INSERT is set to OFF.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Packet_Order_OrderId". The conflict occurred in database "MyBGList", table "dbo.Order", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5eecec0c-8515-4396-a2ab-ecb2d7c92e98
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'BakingGood' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Order' when IDENTITY_INSERT is set to OFF.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Packet_Order_OrderId". The conflict occurred in database "MyBGList", table "dbo.Order", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5eecec0c-8515-4396-a2ab-ecb2d7c92e98
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
21:59:26 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] An error occurred while seeding the database
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'BakingGood' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Order' when IDENTITY_INSERT is set to OFF.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Packet_Order_OrderId". The conflict occurred in database "MyBGList", table "dbo.Order", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5eecec0c-8515-4396-a2ab-ecb2d7c92e98
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 162
22:08:56 [INF] [ATARASHIBEASTX #19 ] Application is shutting down...
22:09:57 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
22:09:57 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
22:09:57 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
22:09:57 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
22:10:03 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
22:10:04 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
22:10:04 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 137
22:14:44 [INF] [ATARASHIBEASTX #16 ] Application is shutting down...
22:15:22 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
22:15:22 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
22:15:22 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
22:15:22 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
22:15:22 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
22:15:22 [INF] [ATARASHIBEASTX #1 ] Reverting migration '20240402195609_InitialCreate'.
22:15:22 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BakingGoodBatch];
22:15:22 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BatchStock];
22:15:22 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [OrderBakingGood];
22:15:22 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Packet];
22:15:22 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Batch];
22:15:22 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Stock];
22:15:22 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BakingGood];
22:15:22 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Order];
22:15:22 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [__EFMigrationsHistory]
WHERE [MigrationId] = N'20240402195609_InitialCreate';
22:15:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
22:15:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
22:15:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
22:15:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
22:15:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
22:15:43 [INF] [ATARASHIBEASTX #1 ] Applying migration '20240402201537_InitialCreate'.
22:15:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGood] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [DateProduced] datetime2 NOT NULL,
    CONSTRAINT [PK_BakingGood] PRIMARY KEY ([Id])
);
22:15:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Batch] (
    [Id] int NOT NULL IDENTITY,
    [StartDateTime] datetime2 NOT NULL,
    [EndDateTime] datetime2 NOT NULL,
    [ActualEndTime] datetime2 NOT NULL,
    CONSTRAINT [PK_Batch] PRIMARY KEY ([Id])
);
22:15:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Order] (
    [Id] int NOT NULL IDENTITY,
    [DeliveryPlace] nvarchar(255) NOT NULL,
    [DeliveryDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Order] PRIMARY KEY ([Id])
);
22:15:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Stock] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_Stock] PRIMARY KEY ([Id])
);
22:15:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGoodBatch] (
    [BakingGoodId] int NOT NULL,
    [BatchId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BakingGoodBatch] PRIMARY KEY ([BatchId], [BakingGoodId]),
    CONSTRAINT [FK_BakingGoodBatch_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BakingGoodBatch_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE
);
22:15:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OrderBakingGood] (
    [OrderId] int NOT NULL,
    [BakingGoodId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_OrderBakingGood] PRIMARY KEY ([OrderId], [BakingGoodId]),
    CONSTRAINT [FK_OrderBakingGood_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_OrderBakingGood_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
22:15:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Packet] (
    [Id] int NOT NULL IDENTITY,
    [TrackId] nvarchar(9) NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Packet] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Packet_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
22:15:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BatchStock] (
    [BatchId] int NOT NULL,
    [StockId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BatchStock] PRIMARY KEY ([BatchId], [StockId]),
    CONSTRAINT [FK_BatchStock_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BatchStock_Stock_StockId] FOREIGN KEY ([StockId]) REFERENCES [Stock] ([Id]) ON DELETE CASCADE
);
22:15:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BakingGoodBatch_BakingGoodId] ON [BakingGoodBatch] ([BakingGoodId]);
22:15:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BatchStock_StockId] ON [BatchStock] ([StockId]);
22:15:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OrderBakingGood_BakingGoodId] ON [OrderBakingGood] ([BakingGoodId]);
22:15:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Packet_OrderId] ON [Packet] ([OrderId]);
22:15:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240402201537_InitialCreate', N'8.0.2');
22:15:48 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
22:15:48 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
22:15:48 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
22:15:48 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
22:15:55 [WRN] [ATARASHIBEASTX #12 .NET TP Worker] Failed to determine the https port for redirect.
22:15:55 [ERR] [ATARASHIBEASTX #12 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
22:15:55 [ERR] [ATARASHIBEASTX #12 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 137
22:32:19 [INF] [ATARASHIBEASTX #17 ] Application is shutting down...
22:32:26 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
22:32:26 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
22:32:26 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
22:32:26 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
22:32:29 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
22:32:29 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
22:32:29 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 139
22:35:12 [INF] [ATARASHIBEASTX #16 ] Application is shutting down...
22:35:15 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
22:35:15 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
22:35:15 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
22:35:15 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
22:35:18 [WRN] [ATARASHIBEASTX #13 .NET TP Worker] Failed to determine the https port for redirect.
22:35:18 [ERR] [ATARASHIBEASTX #13 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
22:35:18 [ERR] [ATARASHIBEASTX #13 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 139
22:43:58 [INF] [ATARASHIBEASTX #23 ] Application is shutting down...
22:44:12 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
22:44:12 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
22:44:12 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
22:44:12 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
22:44:12 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
22:44:12 [INF] [ATARASHIBEASTX #1 ] Reverting migration '20240402201537_InitialCreate'.
22:44:12 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BakingGoodBatch];
22:44:12 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BatchStock];
22:44:12 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [OrderBakingGood];
22:44:12 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Packet];
22:44:12 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Batch];
22:44:12 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Stock];
22:44:12 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BakingGood];
22:44:12 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Order];
22:44:12 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [__EFMigrationsHistory]
WHERE [MigrationId] = N'20240402201537_InitialCreate';
22:44:39 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
22:44:39 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
22:44:39 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
22:44:39 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
22:44:39 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
22:44:39 [INF] [ATARASHIBEASTX #1 ] Applying migration '20240402204427_InitialCreate'.
22:44:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGood] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [DateProduced] datetime2 NOT NULL,
    CONSTRAINT [PK_BakingGood] PRIMARY KEY ([Id])
);
22:44:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Batch] (
    [Id] int NOT NULL IDENTITY,
    [StartDateTime] datetime2 NOT NULL,
    [EndDateTime] datetime2 NOT NULL,
    [ActualEndTime] datetime2 NOT NULL,
    CONSTRAINT [PK_Batch] PRIMARY KEY ([Id])
);
22:44:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Order] (
    [Id] int NOT NULL IDENTITY,
    [DeliveryPlace] nvarchar(255) NOT NULL,
    [DeliveryDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Order] PRIMARY KEY ([Id])
);
22:44:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Stock] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_Stock] PRIMARY KEY ([Id])
);
22:44:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGoodBatch] (
    [BakingGoodId] int NOT NULL,
    [BatchId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BakingGoodBatch] PRIMARY KEY ([BatchId], [BakingGoodId]),
    CONSTRAINT [FK_BakingGoodBatch_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BakingGoodBatch_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE
);
22:44:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OrderBakingGood] (
    [OrderId] int NOT NULL,
    [BakingGoodId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_OrderBakingGood] PRIMARY KEY ([OrderId], [BakingGoodId]),
    CONSTRAINT [FK_OrderBakingGood_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_OrderBakingGood_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
22:44:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Packet] (
    [Id] int NOT NULL IDENTITY,
    [TrackId] nvarchar(9) NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Packet] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Packet_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
22:44:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BatchStock] (
    [BatchId] int NOT NULL,
    [StockId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BatchStock] PRIMARY KEY ([BatchId], [StockId]),
    CONSTRAINT [FK_BatchStock_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BatchStock_Stock_StockId] FOREIGN KEY ([StockId]) REFERENCES [Stock] ([Id]) ON DELETE CASCADE
);
22:44:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BakingGoodBatch_BakingGoodId] ON [BakingGoodBatch] ([BakingGoodId]);
22:44:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BatchStock_StockId] ON [BatchStock] ([StockId]);
22:44:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OrderBakingGood_BakingGoodId] ON [OrderBakingGood] ([BakingGoodId]);
22:44:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Packet_OrderId] ON [Packet] ([OrderId]);
22:44:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240402204427_InitialCreate', N'8.0.2');
22:44:45 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
22:44:45 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
22:44:45 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
22:44:45 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
22:44:59 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
22:45:00 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
22:45:00 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 139
22:45:02 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
22:45:02 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 139
22:50:04 [INF] [ATARASHIBEASTX #21 ] Application is shutting down...
22:50:07 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
22:50:07 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
22:50:07 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
22:50:07 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
22:50:07 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
22:50:08 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
22:50:08 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 136
22:50:10 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
22:50:10 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 136
22:54:19 [INF] [ATARASHIBEASTX #16 ] Application is shutting down...
22:54:21 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
22:54:21 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
22:54:21 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
22:54:21 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
22:54:26 [INF] [ATARASHIBEASTX #13 ] Application is shutting down...
22:54:39 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
22:54:39 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
22:54:39 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
22:54:39 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
22:54:41 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
22:54:41 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An error occurred while seeding the database
System.NullReferenceException: Object reference not set to an instance of an object.
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 111
22:54:55 [INF] [ATARASHIBEASTX #13 ] Application is shutting down...
22:55:01 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
22:55:01 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
22:55:01 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
22:55:01 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
22:55:06 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
22:55:06 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An error occurred while seeding the database
System.NullReferenceException: Object reference not set to an instance of an object.
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 111
22:55:43 [INF] [ATARASHIBEASTX #15 ] Application is shutting down...
22:55:45 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
22:55:45 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
22:55:45 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
22:55:45 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
22:55:49 [WRN] [ATARASHIBEASTX #10 .NET TP Worker] Failed to determine the https port for redirect.
22:55:50 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] An error occurred while seeding the database
System.NullReferenceException: Object reference not set to an instance of an object.
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 111
22:56:10 [INF] [ATARASHIBEASTX #14 ] Application is shutting down...
22:56:14 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
22:56:14 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
22:56:14 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
22:56:14 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
22:56:14 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
22:56:15 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
22:56:15 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 138
22:59:12 [INF] [ATARASHIBEASTX #15 ] Application is shutting down...
22:59:15 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
22:59:15 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
22:59:15 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
22:59:15 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
22:59:17 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
22:59:18 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT BoardGames ON
22:59:18 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An error occurred while seeding the database
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot find the object "BoardGames" because it does not exist or you do not have permissions.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean isAsync, Int32 timeout, Boolean asyncWrite)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQuery(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRaw(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRaw(DatabaseFacade databaseFacade, String sql, Object[] parameters)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 137
ClientConnectionId:a95d9ff7-0d0a-4b0c-a192-ccf24e311cf1
Error Number:1088,State:11,Class:16
22:59:27 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT BoardGames ON
22:59:27 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] An error occurred while seeding the database
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot find the object "BoardGames" because it does not exist or you do not have permissions.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean isAsync, Int32 timeout, Boolean asyncWrite)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQuery(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRaw(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRaw(DatabaseFacade databaseFacade, String sql, Object[] parameters)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 137
ClientConnectionId:a95d9ff7-0d0a-4b0c-a192-ccf24e311cf1
Error Number:1088,State:11,Class:16
22:59:56 [INF] [ATARASHIBEASTX #14 ] Application is shutting down...
22:59:59 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
22:59:59 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
22:59:59 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
22:59:59 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
23:00:02 [WRN] [ATARASHIBEASTX #11 .NET TP Worker] Failed to determine the https port for redirect.
23:00:03 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT Order ON
23:00:03 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] An error occurred while seeding the database
Microsoft.Data.SqlClient.SqlException (0x80131904): Incorrect syntax near the keyword 'Order'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean isAsync, Int32 timeout, Boolean asyncWrite)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQuery(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRaw(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRaw(DatabaseFacade databaseFacade, String sql, Object[] parameters)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 137
ClientConnectionId:4ffe5232-b6f4-4483-af8b-0a1cb42fe6fd
Error Number:156,State:1,Class:15
23:00:43 [INF] [ATARASHIBEASTX #15 ] Application is shutting down...
23:00:45 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
23:00:45 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
23:00:45 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
23:00:45 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
23:00:50 [WRN] [ATARASHIBEASTX #10 .NET TP Worker] Failed to determine the https port for redirect.
23:00:50 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] ON
23:00:50 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
23:00:50 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 138
23:15:38 [INF] [ATARASHIBEASTX #21 ] Application is shutting down...
23:15:45 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
23:15:45 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
23:15:45 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
23:15:45 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
23:15:55 [WRN] [ATARASHIBEASTX #11 .NET TP Worker] Failed to determine the https port for redirect.
23:15:56 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
23:15:56 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] ON
23:15:56 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
23:15:56 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The value of 'OrderBakingGood.OrderId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 139
23:17:16 [INF] [ATARASHIBEASTX #13 ] Application is shutting down...
23:17:19 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
23:17:19 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
23:17:19 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
23:17:19 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
23:17:26 [WRN] [ATARASHIBEASTX #11 .NET TP Worker] Failed to determine the https port for redirect.
23:17:26 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
23:17:26 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] Order with ID 1 not found while seeding OrderBakingGood
23:17:26 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] Order with ID 1 not found while seeding OrderBakingGood
23:17:26 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] Order with ID 1 not found while seeding OrderBakingGood
23:17:26 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] Order with ID 2 not found while seeding OrderBakingGood
23:17:26 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] Order with ID 2 not found while seeding OrderBakingGood
23:17:26 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] Order with ID 2 not found while seeding OrderBakingGood
23:17:26 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] ON
23:17:26 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (26ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 255), @p12='?' (DbType = DateTime2), @p13='?' (Size = 255), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (Size = 50), @p17='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
23:17:26 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] OFF
23:17:26 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Order] AS [o]
23:17:26 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BakingGood] AS [b]
23:17:26 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Batch] AS [b]
23:17:26 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Stock] AS [s]
23:17:26 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Packet] AS [p]
23:17:26 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OrderBakingGood] AS [o]
23:17:26 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BakingGoodBatch] AS [b]
23:17:26 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BatchStock] AS [b]
23:18:03 [INF] [ATARASHIBEASTX #14 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
23:18:03 [INF] [ATARASHIBEASTX #14 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] ON
23:18:03 [ERR] [ATARASHIBEASTX #14 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
System.InvalidOperationException: The value of 'OrderBakingGood.BakingGoodId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The value of 'OrderBakingGood.BakingGoodId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
23:18:03 [ERR] [ATARASHIBEASTX #14 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The value of 'OrderBakingGood.BakingGoodId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 151
23:20:01 [INF] [ATARASHIBEASTX #17 ] Application is shutting down...
23:20:15 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
23:20:15 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
23:20:15 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
23:20:15 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
23:20:15 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
23:20:15 [INF] [ATARASHIBEASTX #1 ] Reverting migration '20240402204427_InitialCreate'.
23:20:15 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BakingGoodBatch];
23:20:15 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BatchStock];
23:20:15 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [OrderBakingGood];
23:20:15 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Packet];
23:20:15 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Batch];
23:20:15 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Stock];
23:20:15 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BakingGood];
23:20:15 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Order];
23:20:15 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [__EFMigrationsHistory]
WHERE [MigrationId] = N'20240402204427_InitialCreate';
23:20:25 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
23:20:25 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
23:20:25 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
23:20:25 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
23:20:25 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
23:20:25 [INF] [ATARASHIBEASTX #1 ] Applying migration '20240402204427_InitialCreate'.
23:20:25 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGood] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [DateProduced] datetime2 NOT NULL,
    CONSTRAINT [PK_BakingGood] PRIMARY KEY ([Id])
);
23:20:25 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Batch] (
    [Id] int NOT NULL IDENTITY,
    [StartDateTime] datetime2 NOT NULL,
    [EndDateTime] datetime2 NOT NULL,
    [ActualEndTime] datetime2 NOT NULL,
    CONSTRAINT [PK_Batch] PRIMARY KEY ([Id])
);
23:20:25 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Order] (
    [Id] int NOT NULL IDENTITY,
    [DeliveryPlace] nvarchar(255) NOT NULL,
    [DeliveryDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Order] PRIMARY KEY ([Id])
);
23:20:25 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Stock] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_Stock] PRIMARY KEY ([Id])
);
23:20:25 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGoodBatch] (
    [BakingGoodId] int NOT NULL,
    [BatchId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BakingGoodBatch] PRIMARY KEY ([BatchId], [BakingGoodId]),
    CONSTRAINT [FK_BakingGoodBatch_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BakingGoodBatch_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE
);
23:20:25 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OrderBakingGood] (
    [OrderId] int NOT NULL,
    [BakingGoodId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_OrderBakingGood] PRIMARY KEY ([OrderId], [BakingGoodId]),
    CONSTRAINT [FK_OrderBakingGood_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_OrderBakingGood_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
23:20:25 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Packet] (
    [Id] int NOT NULL IDENTITY,
    [TrackId] nvarchar(9) NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Packet] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Packet_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
23:20:25 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BatchStock] (
    [BatchId] int NOT NULL,
    [StockId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BatchStock] PRIMARY KEY ([BatchId], [StockId]),
    CONSTRAINT [FK_BatchStock_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BatchStock_Stock_StockId] FOREIGN KEY ([StockId]) REFERENCES [Stock] ([Id]) ON DELETE CASCADE
);
23:20:25 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BakingGoodBatch_BakingGoodId] ON [BakingGoodBatch] ([BakingGoodId]);
23:20:25 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BatchStock_StockId] ON [BatchStock] ([StockId]);
23:20:25 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OrderBakingGood_BakingGoodId] ON [OrderBakingGood] ([BakingGoodId]);
23:20:25 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Packet_OrderId] ON [Packet] ([OrderId]);
23:20:25 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240402204427_InitialCreate', N'8.0.2');
23:20:47 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
23:20:47 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
23:20:47 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
23:20:47 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
23:20:50 [WRN] [ATARASHIBEASTX #12 .NET TP Worker] Failed to determine the https port for redirect.
23:20:50 [ERR] [ATARASHIBEASTX #12 .NET TP Worker] Order with ID 1 not found while seeding OrderBakingGood
23:20:50 [ERR] [ATARASHIBEASTX #12 .NET TP Worker] Order with ID 1 not found while seeding OrderBakingGood
23:20:50 [ERR] [ATARASHIBEASTX #12 .NET TP Worker] Order with ID 1 not found while seeding OrderBakingGood
23:20:50 [ERR] [ATARASHIBEASTX #12 .NET TP Worker] Order with ID 2 not found while seeding OrderBakingGood
23:20:50 [ERR] [ATARASHIBEASTX #12 .NET TP Worker] Order with ID 2 not found while seeding OrderBakingGood
23:20:50 [ERR] [ATARASHIBEASTX #12 .NET TP Worker] Order with ID 2 not found while seeding OrderBakingGood
23:20:50 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] ON
23:20:50 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (21ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 255), @p12='?' (DbType = DateTime2), @p13='?' (Size = 255), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (Size = 50), @p17='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
23:20:50 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] OFF
23:20:50 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Order] AS [o]
23:20:50 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BakingGood] AS [b]
23:20:50 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Batch] AS [b]
23:20:50 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Stock] AS [s]
23:20:51 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Packet] AS [p]
23:20:51 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OrderBakingGood] AS [o]
23:20:51 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BakingGoodBatch] AS [b]
23:20:51 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BatchStock] AS [b]
23:25:52 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] Order with ID 1 not found while seeding OrderBakingGood
23:25:52 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] Order with ID 1 not found while seeding OrderBakingGood
23:25:52 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] Order with ID 1 not found while seeding OrderBakingGood
23:25:52 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] Order with ID 2 not found while seeding OrderBakingGood
23:25:52 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] Order with ID 2 not found while seeding OrderBakingGood
23:25:52 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] Order with ID 2 not found while seeding OrderBakingGood
23:25:52 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] ON
23:25:52 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 255), @p12='?' (DbType = DateTime2), @p13='?' (Size = 255), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (Size = 50), @p17='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
23:25:52 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] OFF
23:25:52 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Order] AS [o]
23:25:52 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BakingGood] AS [b]
23:25:52 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Batch] AS [b]
23:25:52 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Stock] AS [s]
23:25:52 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Packet] AS [p]
23:25:52 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OrderBakingGood] AS [o]
23:25:52 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BakingGoodBatch] AS [b]
23:25:52 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BatchStock] AS [b]
23:26:13 [INF] [ATARASHIBEASTX #18 ] Application is shutting down...
23:26:16 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
23:26:16 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
23:26:16 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
23:26:16 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
23:26:16 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
23:26:17 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
23:26:17 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] ON
23:26:17 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
System.InvalidOperationException: The value of 'OrderBakingGood.BakingGoodId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The value of 'OrderBakingGood.BakingGoodId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
23:26:17 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The value of 'OrderBakingGood.BakingGoodId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 151
23:35:21 [INF] [ATARASHIBEASTX #16 ] Application is shutting down...
23:35:26 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
23:35:26 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
23:35:26 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
23:35:26 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
23:35:37 [WRN] [ATARASHIBEASTX #10 .NET TP Worker] Failed to determine the https port for redirect.
23:35:37 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
23:35:37 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
23:35:37 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[ActualEndTime], [b].[EndDateTime], [b].[StartDateTime]
FROM [Batch] AS [b]
23:35:37 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name], [s].[Quantity]
FROM [Stock] AS [s]
23:35:37 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The instance of entity type 'OrderBakingGood' cannot be tracked because another instance with the same key value for {'OrderId', 'BakingGoodId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 126
23:36:14 [INF] [ATARASHIBEASTX #13 ] Application is shutting down...
23:36:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
23:36:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
23:36:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
23:36:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
23:36:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
23:36:20 [INF] [ATARASHIBEASTX #1 ] Reverting migration '20240402204427_InitialCreate'.
23:36:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BakingGoodBatch];
23:36:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BatchStock];
23:36:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [OrderBakingGood];
23:36:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Packet];
23:36:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Batch];
23:36:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Stock];
23:36:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BakingGood];
23:36:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Order];
23:36:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [__EFMigrationsHistory]
WHERE [MigrationId] = N'20240402204427_InitialCreate';
23:36:27 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
23:36:27 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
23:36:27 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
23:36:27 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
23:36:27 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
23:36:27 [INF] [ATARASHIBEASTX #1 ] Applying migration '20240402204427_InitialCreate'.
23:36:27 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGood] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [DateProduced] datetime2 NOT NULL,
    CONSTRAINT [PK_BakingGood] PRIMARY KEY ([Id])
);
23:36:27 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Batch] (
    [Id] int NOT NULL IDENTITY,
    [StartDateTime] datetime2 NOT NULL,
    [EndDateTime] datetime2 NOT NULL,
    [ActualEndTime] datetime2 NOT NULL,
    CONSTRAINT [PK_Batch] PRIMARY KEY ([Id])
);
23:36:27 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Order] (
    [Id] int NOT NULL IDENTITY,
    [DeliveryPlace] nvarchar(255) NOT NULL,
    [DeliveryDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Order] PRIMARY KEY ([Id])
);
23:36:27 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Stock] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_Stock] PRIMARY KEY ([Id])
);
23:36:27 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGoodBatch] (
    [BakingGoodId] int NOT NULL,
    [BatchId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BakingGoodBatch] PRIMARY KEY ([BatchId], [BakingGoodId]),
    CONSTRAINT [FK_BakingGoodBatch_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BakingGoodBatch_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE
);
23:36:27 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OrderBakingGood] (
    [OrderId] int NOT NULL,
    [BakingGoodId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_OrderBakingGood] PRIMARY KEY ([OrderId], [BakingGoodId]),
    CONSTRAINT [FK_OrderBakingGood_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_OrderBakingGood_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
23:36:27 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Packet] (
    [Id] int NOT NULL IDENTITY,
    [TrackId] nvarchar(9) NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Packet] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Packet_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
23:36:27 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BatchStock] (
    [BatchId] int NOT NULL,
    [StockId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BatchStock] PRIMARY KEY ([BatchId], [StockId]),
    CONSTRAINT [FK_BatchStock_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BatchStock_Stock_StockId] FOREIGN KEY ([StockId]) REFERENCES [Stock] ([Id]) ON DELETE CASCADE
);
23:36:27 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BakingGoodBatch_BakingGoodId] ON [BakingGoodBatch] ([BakingGoodId]);
23:36:27 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BatchStock_StockId] ON [BatchStock] ([StockId]);
23:36:27 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OrderBakingGood_BakingGoodId] ON [OrderBakingGood] ([BakingGoodId]);
23:36:27 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Packet_OrderId] ON [Packet] ([OrderId]);
23:36:27 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240402204427_InitialCreate', N'8.0.2');
23:36:31 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
23:36:31 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
23:36:31 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
23:36:31 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
23:36:33 [WRN] [ATARASHIBEASTX #10 .NET TP Worker] Failed to determine the https port for redirect.
23:36:34 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
23:36:34 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
23:36:34 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[ActualEndTime], [b].[EndDateTime], [b].[StartDateTime]
FROM [Batch] AS [b]
23:36:34 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name], [s].[Quantity]
FROM [Stock] AS [s]
23:36:34 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] Order with ID 1 not found while seeding OrderBakingGood
23:36:34 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] Order with ID 1 not found while seeding OrderBakingGood
23:36:34 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] Order with ID 1 not found while seeding OrderBakingGood
23:36:34 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] Order with ID 2 not found while seeding OrderBakingGood
23:36:34 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] Order with ID 2 not found while seeding OrderBakingGood
23:36:34 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] Order with ID 2 not found while seeding OrderBakingGood
23:36:34 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] ON
23:36:34 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (21ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 255), @p12='?' (DbType = DateTime2), @p13='?' (Size = 255), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (Size = 50), @p17='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
23:36:34 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] OFF
23:36:34 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Order] AS [o]
23:36:34 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BakingGood] AS [b]
23:36:34 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Batch] AS [b]
23:36:34 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Stock] AS [s]
23:36:34 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Packet] AS [p]
23:36:34 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OrderBakingGood] AS [o]
23:36:34 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BakingGoodBatch] AS [b]
23:36:34 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BatchStock] AS [b]
23:38:52 [INF] [ATARASHIBEASTX #22 ] Application is shutting down...
23:38:58 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
23:38:58 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
23:38:58 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
23:38:58 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
23:38:58 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
23:38:58 [INF] [ATARASHIBEASTX #1 ] Reverting migration '20240402204427_InitialCreate'.
23:38:58 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BakingGoodBatch];
23:38:58 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BatchStock];
23:38:58 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [OrderBakingGood];
23:38:58 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Packet];
23:38:58 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Batch];
23:38:58 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Stock];
23:38:58 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BakingGood];
23:38:58 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Order];
23:38:58 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [__EFMigrationsHistory]
WHERE [MigrationId] = N'20240402204427_InitialCreate';
23:39:05 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
23:39:05 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
23:39:05 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
23:39:05 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
23:39:05 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
23:39:05 [INF] [ATARASHIBEASTX #1 ] Applying migration '20240402204427_InitialCreate'.
23:39:05 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGood] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [DateProduced] datetime2 NOT NULL,
    CONSTRAINT [PK_BakingGood] PRIMARY KEY ([Id])
);
23:39:05 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Batch] (
    [Id] int NOT NULL IDENTITY,
    [StartDateTime] datetime2 NOT NULL,
    [EndDateTime] datetime2 NOT NULL,
    [ActualEndTime] datetime2 NOT NULL,
    CONSTRAINT [PK_Batch] PRIMARY KEY ([Id])
);
23:39:05 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Order] (
    [Id] int NOT NULL IDENTITY,
    [DeliveryPlace] nvarchar(255) NOT NULL,
    [DeliveryDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Order] PRIMARY KEY ([Id])
);
23:39:05 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Stock] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_Stock] PRIMARY KEY ([Id])
);
23:39:05 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGoodBatch] (
    [BakingGoodId] int NOT NULL,
    [BatchId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BakingGoodBatch] PRIMARY KEY ([BatchId], [BakingGoodId]),
    CONSTRAINT [FK_BakingGoodBatch_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BakingGoodBatch_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE
);
23:39:05 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OrderBakingGood] (
    [OrderId] int NOT NULL,
    [BakingGoodId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_OrderBakingGood] PRIMARY KEY ([OrderId], [BakingGoodId]),
    CONSTRAINT [FK_OrderBakingGood_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_OrderBakingGood_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
23:39:05 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Packet] (
    [Id] int NOT NULL IDENTITY,
    [TrackId] nvarchar(9) NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Packet] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Packet_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
23:39:05 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BatchStock] (
    [BatchId] int NOT NULL,
    [StockId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BatchStock] PRIMARY KEY ([BatchId], [StockId]),
    CONSTRAINT [FK_BatchStock_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BatchStock_Stock_StockId] FOREIGN KEY ([StockId]) REFERENCES [Stock] ([Id]) ON DELETE CASCADE
);
23:39:05 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BakingGoodBatch_BakingGoodId] ON [BakingGoodBatch] ([BakingGoodId]);
23:39:05 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BatchStock_StockId] ON [BatchStock] ([StockId]);
23:39:05 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OrderBakingGood_BakingGoodId] ON [OrderBakingGood] ([BakingGoodId]);
23:39:05 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Packet_OrderId] ON [Packet] ([OrderId]);
23:39:05 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240402204427_InitialCreate', N'8.0.2');
23:39:08 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
23:39:08 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
23:39:08 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
23:39:08 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
23:39:12 [WRN] [ATARASHIBEASTX #12 .NET TP Worker] Failed to determine the https port for redirect.
23:39:13 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
23:39:13 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
23:39:13 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[ActualEndTime], [b].[EndDateTime], [b].[StartDateTime]
FROM [Batch] AS [b]
23:39:13 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name], [s].[Quantity]
FROM [Stock] AS [s]
23:39:13 [ERR] [ATARASHIBEASTX #12 .NET TP Worker] Order with ID 1 not found while seeding OrderBakingGood
23:39:13 [ERR] [ATARASHIBEASTX #12 .NET TP Worker] Order with ID 1 not found while seeding OrderBakingGood
23:39:13 [ERR] [ATARASHIBEASTX #12 .NET TP Worker] Order with ID 1 not found while seeding OrderBakingGood
23:39:13 [ERR] [ATARASHIBEASTX #12 .NET TP Worker] Order with ID 2 not found while seeding OrderBakingGood
23:39:13 [ERR] [ATARASHIBEASTX #12 .NET TP Worker] Order with ID 2 not found while seeding OrderBakingGood
23:39:13 [ERR] [ATARASHIBEASTX #12 .NET TP Worker] Order with ID 2 not found while seeding OrderBakingGood
23:39:13 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] ON
23:39:13 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 255), @p12='?' (DbType = DateTime2), @p13='?' (Size = 255), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (Size = 50), @p17='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
23:39:13 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] OFF
23:39:13 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Order] AS [o]
23:39:13 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BakingGood] AS [b]
23:39:13 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Batch] AS [b]
23:39:13 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Stock] AS [s]
23:39:13 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Packet] AS [p]
23:39:13 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OrderBakingGood] AS [o]
23:39:13 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BakingGoodBatch] AS [b]
23:39:13 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BatchStock] AS [b]
23:45:01 [INF] [ATARASHIBEASTX #3 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
23:45:01 [INF] [ATARASHIBEASTX #3 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
23:45:01 [INF] [ATARASHIBEASTX #3 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[ActualEndTime], [b].[EndDateTime], [b].[StartDateTime]
FROM [Batch] AS [b]
23:45:01 [INF] [ATARASHIBEASTX #3 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name], [s].[Quantity]
FROM [Stock] AS [s]
23:45:01 [ERR] [ATARASHIBEASTX #3 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The instance of entity type 'OrderBakingGood' cannot be tracked because another instance with the same key value for {'OrderId', 'BakingGoodId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 126
23:45:13 [INF] [ATARASHIBEASTX #20 ] Application is shutting down...
23:45:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
23:45:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
23:45:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
23:45:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
23:45:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
23:45:20 [INF] [ATARASHIBEASTX #1 ] Reverting migration '20240402204427_InitialCreate'.
23:45:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BakingGoodBatch];
23:45:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BatchStock];
23:45:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [OrderBakingGood];
23:45:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Packet];
23:45:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Batch];
23:45:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Stock];
23:45:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BakingGood];
23:45:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Order];
23:45:20 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [__EFMigrationsHistory]
WHERE [MigrationId] = N'20240402204427_InitialCreate';
23:46:42 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
23:46:42 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
23:46:42 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
23:46:42 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
23:46:42 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
23:46:42 [INF] [ATARASHIBEASTX #1 ] No migrations were applied. The database is already up to date.
23:46:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
23:46:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
23:46:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
23:46:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
23:46:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
23:46:48 [INF] [ATARASHIBEASTX #1 ] Applying migration '20240402204427_InitialCreate'.
23:46:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGood] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [DateProduced] datetime2 NOT NULL,
    CONSTRAINT [PK_BakingGood] PRIMARY KEY ([Id])
);
23:46:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Batch] (
    [Id] int NOT NULL IDENTITY,
    [StartDateTime] datetime2 NOT NULL,
    [EndDateTime] datetime2 NOT NULL,
    [ActualEndTime] datetime2 NOT NULL,
    CONSTRAINT [PK_Batch] PRIMARY KEY ([Id])
);
23:46:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Order] (
    [Id] int NOT NULL IDENTITY,
    [DeliveryPlace] nvarchar(255) NOT NULL,
    [DeliveryDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Order] PRIMARY KEY ([Id])
);
23:46:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Stock] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_Stock] PRIMARY KEY ([Id])
);
23:46:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGoodBatch] (
    [BakingGoodId] int NOT NULL,
    [BatchId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BakingGoodBatch] PRIMARY KEY ([BatchId], [BakingGoodId]),
    CONSTRAINT [FK_BakingGoodBatch_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BakingGoodBatch_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE
);
23:46:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OrderBakingGood] (
    [OrderId] int NOT NULL,
    [BakingGoodId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_OrderBakingGood] PRIMARY KEY ([OrderId], [BakingGoodId]),
    CONSTRAINT [FK_OrderBakingGood_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_OrderBakingGood_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
23:46:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Packet] (
    [Id] int NOT NULL IDENTITY,
    [TrackId] nvarchar(9) NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Packet] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Packet_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
23:46:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BatchStock] (
    [BatchId] int NOT NULL,
    [StockId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BatchStock] PRIMARY KEY ([BatchId], [StockId]),
    CONSTRAINT [FK_BatchStock_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BatchStock_Stock_StockId] FOREIGN KEY ([StockId]) REFERENCES [Stock] ([Id]) ON DELETE CASCADE
);
23:46:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BakingGoodBatch_BakingGoodId] ON [BakingGoodBatch] ([BakingGoodId]);
23:46:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BatchStock_StockId] ON [BatchStock] ([StockId]);
23:46:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OrderBakingGood_BakingGoodId] ON [OrderBakingGood] ([BakingGoodId]);
23:46:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Packet_OrderId] ON [Packet] ([OrderId]);
23:46:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240402204427_InitialCreate', N'8.0.2');
23:46:52 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
23:46:52 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
23:46:52 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
23:46:52 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
23:46:56 [WRN] [ATARASHIBEASTX #10 .NET TP Worker] Failed to determine the https port for redirect.
23:46:57 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
23:46:57 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
23:46:57 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[ActualEndTime], [b].[EndDateTime], [b].[StartDateTime]
FROM [Batch] AS [b]
23:46:57 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name], [s].[Quantity]
FROM [Stock] AS [s]
23:46:57 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] Order with ID 1 not found while seeding OrderBakingGood
23:46:57 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] Order with ID 1 not found while seeding OrderBakingGood
23:46:57 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] Order with ID 1 not found while seeding OrderBakingGood
23:46:57 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] Order with ID 2 not found while seeding OrderBakingGood
23:46:57 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] Order with ID 2 not found while seeding OrderBakingGood
23:46:57 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] Order with ID 2 not found while seeding OrderBakingGood
23:46:57 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] ON
23:46:57 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 255), @p12='?' (DbType = DateTime2), @p13='?' (Size = 255), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (Size = 50), @p17='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
23:46:57 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] OFF
23:46:57 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Order] AS [o]
23:46:57 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BakingGood] AS [b]
23:46:57 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Batch] AS [b]
23:46:57 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Stock] AS [s]
23:46:57 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Packet] AS [p]
23:46:57 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OrderBakingGood] AS [o]
23:46:57 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BakingGoodBatch] AS [b]
23:46:57 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BatchStock] AS [b]
23:52:57 [INF] [ATARASHIBEASTX #20 ] Application is shutting down...
23:52:59 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
23:52:59 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
23:52:59 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
23:52:59 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
23:53:00 [WRN] [ATARASHIBEASTX #11 .NET TP Worker] Failed to determine the https port for redirect.
23:53:01 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
23:53:01 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
23:53:01 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[ActualEndTime], [b].[EndDateTime], [b].[StartDateTime]
FROM [Batch] AS [b]
23:53:01 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name], [s].[Quantity]
FROM [Stock] AS [s]
23:53:01 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The instance of entity type 'OrderBakingGood' cannot be tracked because another instance with the same key value for {'OrderId', 'BakingGoodId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 125
23:53:03 [INF] [ATARASHIBEASTX #13 ] Application is shutting down...
23:53:08 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
23:53:08 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
23:53:08 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
23:53:08 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
23:53:08 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
23:53:08 [INF] [ATARASHIBEASTX #1 ] Reverting migration '20240402204427_InitialCreate'.
23:53:08 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BakingGoodBatch];
23:53:08 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BatchStock];
23:53:08 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [OrderBakingGood];
23:53:08 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Packet];
23:53:08 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Batch];
23:53:08 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Stock];
23:53:08 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BakingGood];
23:53:08 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Order];
23:53:08 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [__EFMigrationsHistory]
WHERE [MigrationId] = N'20240402204427_InitialCreate';
23:53:13 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
23:53:13 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
23:53:13 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
23:53:13 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
23:53:13 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
23:53:13 [INF] [ATARASHIBEASTX #1 ] Applying migration '20240402204427_InitialCreate'.
23:53:13 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGood] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [DateProduced] datetime2 NOT NULL,
    CONSTRAINT [PK_BakingGood] PRIMARY KEY ([Id])
);
23:53:13 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Batch] (
    [Id] int NOT NULL IDENTITY,
    [StartDateTime] datetime2 NOT NULL,
    [EndDateTime] datetime2 NOT NULL,
    [ActualEndTime] datetime2 NOT NULL,
    CONSTRAINT [PK_Batch] PRIMARY KEY ([Id])
);
23:53:13 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Order] (
    [Id] int NOT NULL IDENTITY,
    [DeliveryPlace] nvarchar(255) NOT NULL,
    [DeliveryDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Order] PRIMARY KEY ([Id])
);
23:53:13 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Stock] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_Stock] PRIMARY KEY ([Id])
);
23:53:13 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGoodBatch] (
    [BakingGoodId] int NOT NULL,
    [BatchId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BakingGoodBatch] PRIMARY KEY ([BatchId], [BakingGoodId]),
    CONSTRAINT [FK_BakingGoodBatch_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BakingGoodBatch_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE
);
23:53:13 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OrderBakingGood] (
    [OrderId] int NOT NULL,
    [BakingGoodId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_OrderBakingGood] PRIMARY KEY ([OrderId], [BakingGoodId]),
    CONSTRAINT [FK_OrderBakingGood_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_OrderBakingGood_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
23:53:13 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Packet] (
    [Id] int NOT NULL IDENTITY,
    [TrackId] nvarchar(9) NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Packet] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Packet_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
23:53:13 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BatchStock] (
    [BatchId] int NOT NULL,
    [StockId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BatchStock] PRIMARY KEY ([BatchId], [StockId]),
    CONSTRAINT [FK_BatchStock_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BatchStock_Stock_StockId] FOREIGN KEY ([StockId]) REFERENCES [Stock] ([Id]) ON DELETE CASCADE
);
23:53:13 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BakingGoodBatch_BakingGoodId] ON [BakingGoodBatch] ([BakingGoodId]);
23:53:13 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BatchStock_StockId] ON [BatchStock] ([StockId]);
23:53:13 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OrderBakingGood_BakingGoodId] ON [OrderBakingGood] ([BakingGoodId]);
23:53:13 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Packet_OrderId] ON [Packet] ([OrderId]);
23:53:13 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240402204427_InitialCreate', N'8.0.2');
23:53:17 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
23:53:17 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
23:53:17 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
23:53:17 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
23:53:18 [WRN] [ATARASHIBEASTX #11 .NET TP Worker] Failed to determine the https port for redirect.
23:53:19 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
23:53:19 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
23:53:19 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[ActualEndTime], [b].[EndDateTime], [b].[StartDateTime]
FROM [Batch] AS [b]
23:53:19 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name], [s].[Quantity]
FROM [Stock] AS [s]
23:53:19 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] Order with ID 1 not found while seeding OrderBakingGood
23:53:19 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] Order with ID 1 not found while seeding OrderBakingGood
23:53:19 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] Order with ID 1 not found while seeding OrderBakingGood
23:53:19 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] Order with ID 2 not found while seeding OrderBakingGood
23:53:19 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] Order with ID 2 not found while seeding OrderBakingGood
23:53:19 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] Order with ID 2 not found while seeding OrderBakingGood
23:53:19 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] ON
23:53:19 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 255), @p12='?' (DbType = DateTime2), @p13='?' (Size = 255), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (Size = 50), @p17='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
23:53:19 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] OFF
23:53:19 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Order] AS [o]
23:53:19 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BakingGood] AS [b]
23:53:19 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Batch] AS [b]
23:53:19 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Stock] AS [s]
23:53:19 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Packet] AS [p]
23:53:19 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OrderBakingGood] AS [o]
23:53:19 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BakingGoodBatch] AS [b]
23:53:19 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BatchStock] AS [b]
23:54:16 [INF] [ATARASHIBEASTX #15 ] Application is shutting down...
23:54:35 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
23:54:35 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
23:54:35 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
23:54:35 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
23:54:35 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
23:54:35 [INF] [ATARASHIBEASTX #1 ] Reverting migration '20240402204427_InitialCreate'.
23:54:35 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BakingGoodBatch];
23:54:35 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BatchStock];
23:54:35 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [OrderBakingGood];
23:54:35 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Packet];
23:54:35 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Batch];
23:54:35 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Stock];
23:54:35 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BakingGood];
23:54:35 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Order];
23:54:35 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [__EFMigrationsHistory]
WHERE [MigrationId] = N'20240402204427_InitialCreate';
23:54:43 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
23:54:43 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
23:54:43 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
23:54:43 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
23:54:46 [INF] [ATARASHIBEASTX #12 ] Application is shutting down...
23:54:52 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
23:54:52 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
23:54:52 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
23:54:52 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
23:54:52 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
23:54:52 [INF] [ATARASHIBEASTX #1 ] Applying migration '20240402204427_InitialCreate'.
23:54:52 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGood] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [DateProduced] datetime2 NOT NULL,
    CONSTRAINT [PK_BakingGood] PRIMARY KEY ([Id])
);
23:54:52 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Batch] (
    [Id] int NOT NULL IDENTITY,
    [StartDateTime] datetime2 NOT NULL,
    [EndDateTime] datetime2 NOT NULL,
    [ActualEndTime] datetime2 NOT NULL,
    CONSTRAINT [PK_Batch] PRIMARY KEY ([Id])
);
23:54:52 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Order] (
    [Id] int NOT NULL IDENTITY,
    [DeliveryPlace] nvarchar(255) NOT NULL,
    [DeliveryDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Order] PRIMARY KEY ([Id])
);
23:54:53 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Stock] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_Stock] PRIMARY KEY ([Id])
);
23:54:53 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGoodBatch] (
    [BakingGoodId] int NOT NULL,
    [BatchId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BakingGoodBatch] PRIMARY KEY ([BatchId], [BakingGoodId]),
    CONSTRAINT [FK_BakingGoodBatch_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BakingGoodBatch_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE
);
23:54:53 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OrderBakingGood] (
    [OrderId] int NOT NULL,
    [BakingGoodId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_OrderBakingGood] PRIMARY KEY ([OrderId], [BakingGoodId]),
    CONSTRAINT [FK_OrderBakingGood_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_OrderBakingGood_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
23:54:53 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Packet] (
    [Id] int NOT NULL IDENTITY,
    [TrackId] nvarchar(9) NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Packet] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Packet_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
23:54:53 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BatchStock] (
    [BatchId] int NOT NULL,
    [StockId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BatchStock] PRIMARY KEY ([BatchId], [StockId]),
    CONSTRAINT [FK_BatchStock_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BatchStock_Stock_StockId] FOREIGN KEY ([StockId]) REFERENCES [Stock] ([Id]) ON DELETE CASCADE
);
23:54:53 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BakingGoodBatch_BakingGoodId] ON [BakingGoodBatch] ([BakingGoodId]);
23:54:53 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BatchStock_StockId] ON [BatchStock] ([StockId]);
23:54:53 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OrderBakingGood_BakingGoodId] ON [OrderBakingGood] ([BakingGoodId]);
23:54:53 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Packet_OrderId] ON [Packet] ([OrderId]);
23:54:53 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240402204427_InitialCreate', N'8.0.2');
23:54:56 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
23:54:56 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
23:54:56 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
23:54:56 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
23:55:01 [WRN] [ATARASHIBEASTX #10 .NET TP Worker] Failed to determine the https port for redirect.
23:55:01 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (21ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 255), @p12='?' (DbType = DateTime2), @p13='?' (Size = 255), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (Size = 50), @p17='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([DateProduced], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DateProduced], [Name])
VALUES (i.[DateProduced], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Batch] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Order] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Stock] USING (
VALUES (@p14, @p15, 0),
(@p16, @p17, 1)) AS i ([Name], [Quantity], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Quantity])
VALUES (i.[Name], i.[Quantity])
OUTPUT INSERTED.[Id], i._Position;
23:55:02 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[DeliveryDate], [o].[DeliveryPlace]
FROM [Order] AS [o]
23:55:02 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DateProduced], [b].[Name]
FROM [BakingGood] AS [b]
23:55:02 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[ActualEndTime], [b].[EndDateTime], [b].[StartDateTime]
FROM [Batch] AS [b]
23:55:02 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name], [s].[Quantity]
FROM [Stock] AS [s]
23:55:02 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] An error occurred while seeding the database
System.InvalidOperationException: The instance of entity type 'Order' cannot be tracked because another instance with the same key value for {'Id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 117
23:57:33 [INF] [ATARASHIBEASTX #18 ] Application is shutting down...
23:57:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
23:57:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
23:57:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
23:57:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
23:57:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
23:57:40 [INF] [ATARASHIBEASTX #1 ] Reverting migration '20240402204427_InitialCreate'.
23:57:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BakingGoodBatch];
23:57:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BatchStock];
23:57:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [OrderBakingGood];
23:57:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Packet];
23:57:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Batch];
23:57:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Stock];
23:57:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [BakingGood];
23:57:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Order];
23:57:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [__EFMigrationsHistory]
WHERE [MigrationId] = N'20240402204427_InitialCreate';
23:58:02 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
23:58:02 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
23:58:02 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
23:58:02 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
23:58:02 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
23:58:02 [INF] [ATARASHIBEASTX #1 ] Applying migration '20240402204427_InitialCreate'.
23:58:03 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGood] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [DateProduced] datetime2 NOT NULL,
    CONSTRAINT [PK_BakingGood] PRIMARY KEY ([Id])
);
23:58:03 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Batch] (
    [Id] int NOT NULL IDENTITY,
    [StartDateTime] datetime2 NOT NULL,
    [EndDateTime] datetime2 NOT NULL,
    [ActualEndTime] datetime2 NOT NULL,
    CONSTRAINT [PK_Batch] PRIMARY KEY ([Id])
);
23:58:03 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Order] (
    [Id] int NOT NULL IDENTITY,
    [DeliveryPlace] nvarchar(255) NOT NULL,
    [DeliveryDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Order] PRIMARY KEY ([Id])
);
23:58:03 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Stock] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_Stock] PRIMARY KEY ([Id])
);
23:58:03 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGoodBatch] (
    [BakingGoodId] int NOT NULL,
    [BatchId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BakingGoodBatch] PRIMARY KEY ([BatchId], [BakingGoodId]),
    CONSTRAINT [FK_BakingGoodBatch_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BakingGoodBatch_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE
);
23:58:03 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OrderBakingGood] (
    [OrderId] int NOT NULL,
    [BakingGoodId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_OrderBakingGood] PRIMARY KEY ([OrderId], [BakingGoodId]),
    CONSTRAINT [FK_OrderBakingGood_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_OrderBakingGood_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
23:58:03 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Packet] (
    [Id] int NOT NULL IDENTITY,
    [TrackId] nvarchar(9) NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Packet] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Packet_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([Id]) ON DELETE CASCADE
);
23:58:03 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BatchStock] (
    [BatchId] int NOT NULL,
    [StockId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BatchStock] PRIMARY KEY ([BatchId], [StockId]),
    CONSTRAINT [FK_BatchStock_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_BatchStock_Stock_StockId] FOREIGN KEY ([StockId]) REFERENCES [Stock] ([Id]) ON DELETE CASCADE
);
23:58:03 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BakingGoodBatch_BakingGoodId] ON [BakingGoodBatch] ([BakingGoodId]);
23:58:03 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BatchStock_StockId] ON [BatchStock] ([StockId]);
23:58:03 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OrderBakingGood_BakingGoodId] ON [OrderBakingGood] ([BakingGoodId]);
23:58:03 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Packet_OrderId] ON [Packet] ([OrderId]);
23:58:03 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240402204427_InitialCreate', N'8.0.2');
23:58:06 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
23:58:06 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
23:58:06 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
23:58:06 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
23:58:09 [WRN] [ATARASHIBEASTX #13 .NET TP Worker] Failed to determine the https port for redirect.
23:58:10 [ERR] [ATARASHIBEASTX #13 .NET TP Worker] An error occurred while seeding the database
System.ArgumentException: An item with the same key has already been added. Key: 0
   at System.Collections.Generic.Dictionary`2.TryInsert(TKey key, TValue value, InsertionBehavior behavior)
   at System.Collections.Generic.Dictionary`2.Add(TKey key, TValue value)
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 89
23:58:48 [INF] [ATARASHIBEASTX #15 ] Application is shutting down...
23:58:51 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
23:58:51 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
23:58:51 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
23:58:51 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7
23:58:52 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
23:58:53 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An error occurred while seeding the database
System.ArgumentException: An item with the same key has already been added. Key: 0
   at System.Collections.Generic.Dictionary`2.TryInsert(TKey key, TValue value, InsertionBehavior behavior)
   at System.Collections.Generic.Dictionary`2.Add(TKey key, TValue value)
   at System.Linq.Enumerable.ToDictionary[TSource,TKey](IEnumerable`1 source, Func`2 keySelector, IEqualityComparer`1 comparer)
   at System.Linq.Enumerable.ToDictionary[TSource,TKey](IEnumerable`1 source, Func`2 keySelector)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\TrojanDumplingWhiteFilling\BAD3\MyBGList_Chap7\Controllers\SeedController.cs:line 89
