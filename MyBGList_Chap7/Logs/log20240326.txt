09:10:33 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BakingGoodBatch.BakingGoodId1' was created in shadow state because a conflicting property with the simple name 'BakingGoodId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
09:10:33 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BatchStock.StockId1' was created in shadow state because a conflicting property with the simple name 'StockId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
09:10:33 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'OrderBakingGood.BakingGoodId1' was created in shadow state because a conflicting property with the simple name 'BakingGoodId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
09:10:33 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BakingGoodBatch.BakingGoodId1' was created in shadow state because a conflicting property with the simple name 'BakingGoodId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
09:10:33 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BatchStock.StockId1' was created in shadow state because a conflicting property with the simple name 'StockId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
09:10:34 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'OrderBakingGood.BakingGoodId1' was created in shadow state because a conflicting property with the simple name 'BakingGoodId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
09:12:41 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BakingGoodBatch.BakingGoodId1' was created in shadow state because a conflicting property with the simple name 'BakingGoodId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
09:12:41 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BatchStock.StockId1' was created in shadow state because a conflicting property with the simple name 'StockId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
09:12:41 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'OrderBakingGood.BakingGoodId1' was created in shadow state because a conflicting property with the simple name 'BakingGoodId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
09:12:41 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BakingGoodBatch.BakingGoodId1' was created in shadow state because a conflicting property with the simple name 'BakingGoodId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
09:12:41 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BatchStock.StockId1' was created in shadow state because a conflicting property with the simple name 'StockId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
09:12:41 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'OrderBakingGood.BakingGoodId1' was created in shadow state because a conflicting property with the simple name 'BakingGoodId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
09:12:42 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (169ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [MyBGList];
09:12:42 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [MyBGList] SET READ_COMMITTED_SNAPSHOT ON;
END;
09:12:42 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
09:12:42 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
09:12:42 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
09:12:42 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
09:12:42 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
09:12:42 [INF] [ATARASHIBEASTX #1 ] Applying migration '20240324202803_InitialCreate'.
09:12:42 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGood] (
    [BakingGoodId] int NOT NULL IDENTITY,
    [BgName] nvarchar(50) NOT NULL,
    [DateProduced] datetime2 NOT NULL,
    CONSTRAINT [PK_BakingGood] PRIMARY KEY ([BakingGoodId])
);
09:12:42 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Batch] (
    [BatchId] int NOT NULL IDENTITY,
    [StartDateTime] datetime2 NOT NULL,
    [EndDateTime] datetime2 NOT NULL,
    [ActualEndTime] datetime2 NOT NULL,
    CONSTRAINT [PK_Batch] PRIMARY KEY ([BatchId])
);
09:12:42 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Order] (
    [OrderId] int NOT NULL IDENTITY,
    [DeliveryPlace] nvarchar(255) NOT NULL,
    [DeliveryDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Order] PRIMARY KEY ([OrderId])
);
09:12:42 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Stock] (
    [StockId] int NOT NULL IDENTITY,
    [SkName] nvarchar(50) NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_Stock] PRIMARY KEY ([StockId])
);
09:12:42 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGoodBatch] (
    [BatchId] int NOT NULL,
    [BakingGoodId] int NOT NULL,
    [Quantity] int NOT NULL,
    [BakingGoodId1] int NULL,
    CONSTRAINT [PK_BakingGoodBatch] PRIMARY KEY ([BatchId], [BakingGoodId]),
    CONSTRAINT [FK_BakingGoodBatch_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([BakingGoodId]) ON DELETE CASCADE,
    CONSTRAINT [FK_BakingGoodBatch_BakingGood_BakingGoodId1] FOREIGN KEY ([BakingGoodId1]) REFERENCES [BakingGood] ([BakingGoodId]),
    CONSTRAINT [FK_BakingGoodBatch_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([BatchId]) ON DELETE CASCADE
);
09:12:42 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OrderBakingGood] (
    [OrderId] int NOT NULL,
    [BakingGoodId] int NOT NULL,
    [Quantity] int NOT NULL,
    [BakingGoodId1] int NULL,
    CONSTRAINT [PK_OrderBakingGood] PRIMARY KEY ([OrderId], [BakingGoodId]),
    CONSTRAINT [FK_OrderBakingGood_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([BakingGoodId]) ON DELETE CASCADE,
    CONSTRAINT [FK_OrderBakingGood_BakingGood_BakingGoodId1] FOREIGN KEY ([BakingGoodId1]) REFERENCES [BakingGood] ([BakingGoodId]),
    CONSTRAINT [FK_OrderBakingGood_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([OrderId]) ON DELETE CASCADE
);
09:12:42 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Packet] (
    [PacketId] int NOT NULL IDENTITY,
    [TrackId] nvarchar(9) NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Packet] PRIMARY KEY ([PacketId]),
    CONSTRAINT [FK_Packet_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([OrderId]) ON DELETE CASCADE
);
09:12:42 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BatchStock] (
    [BatchId] int NOT NULL,
    [StockId] int NOT NULL,
    [Quantity] int NOT NULL,
    [StockId1] int NULL,
    CONSTRAINT [PK_BatchStock] PRIMARY KEY ([BatchId], [StockId]),
    CONSTRAINT [FK_BatchStock_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([BatchId]) ON DELETE CASCADE,
    CONSTRAINT [FK_BatchStock_Stock_StockId] FOREIGN KEY ([StockId]) REFERENCES [Stock] ([StockId]) ON DELETE CASCADE,
    CONSTRAINT [FK_BatchStock_Stock_StockId1] FOREIGN KEY ([StockId1]) REFERENCES [Stock] ([StockId])
);
09:12:42 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BakingGoodBatch_BakingGoodId] ON [BakingGoodBatch] ([BakingGoodId]);
09:12:42 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BakingGoodBatch_BakingGoodId1] ON [BakingGoodBatch] ([BakingGoodId1]);
09:12:42 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BatchStock_StockId] ON [BatchStock] ([StockId]);
09:12:42 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BatchStock_StockId1] ON [BatchStock] ([StockId1]);
09:12:42 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OrderBakingGood_BakingGoodId] ON [OrderBakingGood] ([BakingGoodId]);
09:12:42 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OrderBakingGood_BakingGoodId1] ON [OrderBakingGood] ([BakingGoodId1]);
09:12:42 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Packet_OrderId] ON [Packet] ([OrderId]);
09:12:42 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240324202803_InitialCreate', N'8.0.2');
09:12:54 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
09:12:54 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
09:12:54 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
09:12:54 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7
10:17:06 [INF] [ATARASHIBEASTX #27 ] Application is shutting down...
10:20:14 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (247ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [MyBGList];
10:20:14 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [MyBGList] SET READ_COMMITTED_SNAPSHOT ON;
END;
10:20:14 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
10:20:14 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
10:20:14 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
10:20:14 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
10:20:14 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
10:20:14 [INF] [ATARASHIBEASTX #1 ] No migrations were applied. The database is already up to date.
10:22:31 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
10:22:31 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
10:22:31 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
10:22:31 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
10:22:31 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
10:22:31 [INF] [ATARASHIBEASTX #1 ] Applying migration '20240326092217_InitialCreate'.
10:22:31 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGood] (
    [BakingGoodId] int NOT NULL IDENTITY,
    [BgName] nvarchar(50) NOT NULL,
    [DateProduced] datetime2 NOT NULL,
    CONSTRAINT [PK_BakingGood] PRIMARY KEY ([BakingGoodId])
);
10:22:31 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Batch] (
    [BatchId] int NOT NULL IDENTITY,
    [StartDateTime] datetime2 NOT NULL,
    [EndDateTime] datetime2 NOT NULL,
    [ActualEndTime] datetime2 NOT NULL,
    CONSTRAINT [PK_Batch] PRIMARY KEY ([BatchId])
);
10:22:31 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Order] (
    [OrderId] int NOT NULL IDENTITY,
    [DeliveryPlace] nvarchar(255) NOT NULL,
    [DeliveryDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Order] PRIMARY KEY ([OrderId])
);
10:22:31 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Stock] (
    [StockId] int NOT NULL IDENTITY,
    [SkName] nvarchar(50) NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_Stock] PRIMARY KEY ([StockId])
);
10:22:31 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGoodBatch] (
    [BatchId] int NOT NULL,
    [BakingGoodId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BakingGoodBatch] PRIMARY KEY ([BatchId], [BakingGoodId]),
    CONSTRAINT [FK_BakingGoodBatch_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([BakingGoodId]) ON DELETE CASCADE,
    CONSTRAINT [FK_BakingGoodBatch_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([BatchId]) ON DELETE CASCADE
);
10:22:31 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OrderBakingGood] (
    [OrderId] int NOT NULL,
    [BakingGoodId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_OrderBakingGood] PRIMARY KEY ([OrderId], [BakingGoodId]),
    CONSTRAINT [FK_OrderBakingGood_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([BakingGoodId]) ON DELETE CASCADE,
    CONSTRAINT [FK_OrderBakingGood_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([OrderId]) ON DELETE CASCADE
);
10:22:31 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Packet] (
    [PacketId] int NOT NULL IDENTITY,
    [TrackId] nvarchar(9) NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Packet] PRIMARY KEY ([PacketId]),
    CONSTRAINT [FK_Packet_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([OrderId]) ON DELETE CASCADE
);
10:22:31 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BatchStock] (
    [BatchId] int NOT NULL,
    [StockId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BatchStock] PRIMARY KEY ([BatchId], [StockId]),
    CONSTRAINT [FK_BatchStock_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([BatchId]) ON DELETE CASCADE,
    CONSTRAINT [FK_BatchStock_Stock_StockId] FOREIGN KEY ([StockId]) REFERENCES [Stock] ([StockId]) ON DELETE CASCADE
);
10:22:31 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BakingGoodBatch_BakingGoodId] ON [BakingGoodBatch] ([BakingGoodId]);
10:22:31 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BatchStock_StockId] ON [BatchStock] ([StockId]);
10:22:31 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OrderBakingGood_BakingGoodId] ON [OrderBakingGood] ([BakingGoodId]);
10:22:31 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Packet_OrderId] ON [Packet] ([OrderId]);
10:22:31 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240326092217_InitialCreate', N'8.0.2');
16:26:15 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BakingGoodBatch.BakingGoodId1' was created in shadow state because a conflicting property with the simple name 'BakingGoodId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:26:15 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BakingGoodBatch.BatchId1' was created in shadow state because a conflicting property with the simple name 'BatchId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:26:15 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BatchStock.BatchId1' was created in shadow state because a conflicting property with the simple name 'BatchId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:26:15 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BatchStock.StockId1' was created in shadow state because a conflicting property with the simple name 'StockId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:26:15 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'OrderBakingGood.BakingGoodId1' was created in shadow state because a conflicting property with the simple name 'BakingGoodId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:26:15 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'OrderBakingGood.OrderId1' was created in shadow state because a conflicting property with the simple name 'OrderId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:26:15 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BakingGoodBatch.BakingGoodId1' was created in shadow state because a conflicting property with the simple name 'BakingGoodId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:26:15 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BakingGoodBatch.BatchId1' was created in shadow state because a conflicting property with the simple name 'BatchId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:26:15 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BatchStock.BatchId1' was created in shadow state because a conflicting property with the simple name 'BatchId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:26:15 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BatchStock.StockId1' was created in shadow state because a conflicting property with the simple name 'StockId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:26:15 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'OrderBakingGood.BakingGoodId1' was created in shadow state because a conflicting property with the simple name 'BakingGoodId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:26:15 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'OrderBakingGood.OrderId1' was created in shadow state because a conflicting property with the simple name 'OrderId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:27:13 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BakingGoodBatch.BakingGoodId1' was created in shadow state because a conflicting property with the simple name 'BakingGoodId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:27:13 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BakingGoodBatch.BatchId1' was created in shadow state because a conflicting property with the simple name 'BatchId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:27:13 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BatchStock.BatchId1' was created in shadow state because a conflicting property with the simple name 'BatchId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:27:13 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BatchStock.StockId1' was created in shadow state because a conflicting property with the simple name 'StockId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:27:13 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'OrderBakingGood.BakingGoodId1' was created in shadow state because a conflicting property with the simple name 'BakingGoodId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:27:13 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'OrderBakingGood.OrderId1' was created in shadow state because a conflicting property with the simple name 'OrderId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:27:13 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
16:27:13 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
16:27:13 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
16:27:13 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
16:27:14 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
16:27:14 [INF] [ATARASHIBEASTX #1 ] Applying migration '20240326152616_InitialCreate'.
16:27:14 [ERR] [ATARASHIBEASTX #1 ] Failed executing DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGood] (
    [BakingGoodId] int NOT NULL IDENTITY,
    [BgName] nvarchar(50) NOT NULL,
    [DateProduced] datetime2 NOT NULL,
    CONSTRAINT [PK_BakingGood] PRIMARY KEY ([BakingGoodId])
);
16:27:31 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BakingGoodBatch.BakingGoodId1' was created in shadow state because a conflicting property with the simple name 'BakingGoodId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:27:31 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BakingGoodBatch.BatchId1' was created in shadow state because a conflicting property with the simple name 'BatchId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:27:31 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BatchStock.BatchId1' was created in shadow state because a conflicting property with the simple name 'BatchId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:27:31 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BatchStock.StockId1' was created in shadow state because a conflicting property with the simple name 'StockId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:27:31 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'OrderBakingGood.BakingGoodId1' was created in shadow state because a conflicting property with the simple name 'BakingGoodId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:27:31 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'OrderBakingGood.OrderId1' was created in shadow state because a conflicting property with the simple name 'OrderId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:27:31 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
16:27:31 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
16:27:31 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
16:27:31 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
16:27:31 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
16:27:31 [INF] [ATARASHIBEASTX #1 ] No migrations were applied. The database is already up to date.
16:27:40 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BakingGoodBatch.BakingGoodId1' was created in shadow state because a conflicting property with the simple name 'BakingGoodId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:27:40 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BakingGoodBatch.BatchId1' was created in shadow state because a conflicting property with the simple name 'BatchId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:27:40 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BatchStock.BatchId1' was created in shadow state because a conflicting property with the simple name 'BatchId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:27:40 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BatchStock.StockId1' was created in shadow state because a conflicting property with the simple name 'StockId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:27:40 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'OrderBakingGood.BakingGoodId1' was created in shadow state because a conflicting property with the simple name 'BakingGoodId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:27:40 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'OrderBakingGood.OrderId1' was created in shadow state because a conflicting property with the simple name 'OrderId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:27:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
16:27:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
16:27:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
16:27:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
16:27:40 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
16:27:40 [INF] [ATARASHIBEASTX #1 ] Applying migration '20240326152616_InitialCreate'.
16:27:40 [ERR] [ATARASHIBEASTX #1 ] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGood] (
    [BakingGoodId] int NOT NULL IDENTITY,
    [BgName] nvarchar(50) NOT NULL,
    [DateProduced] datetime2 NOT NULL,
    CONSTRAINT [PK_BakingGood] PRIMARY KEY ([BakingGoodId])
);
16:28:43 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BakingGoodBatch.BakingGoodId1' was created in shadow state because a conflicting property with the simple name 'BakingGoodId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:28:43 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BakingGoodBatch.BatchId1' was created in shadow state because a conflicting property with the simple name 'BatchId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:28:43 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BatchStock.BatchId1' was created in shadow state because a conflicting property with the simple name 'BatchId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:28:43 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BatchStock.StockId1' was created in shadow state because a conflicting property with the simple name 'StockId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:28:43 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'OrderBakingGood.BakingGoodId1' was created in shadow state because a conflicting property with the simple name 'BakingGoodId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:28:43 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'OrderBakingGood.OrderId1' was created in shadow state because a conflicting property with the simple name 'OrderId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:28:43 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BakingGoodBatch.BakingGoodId1' was created in shadow state because a conflicting property with the simple name 'BakingGoodId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:28:43 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BakingGoodBatch.BatchId1' was created in shadow state because a conflicting property with the simple name 'BatchId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:28:43 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BatchStock.BatchId1' was created in shadow state because a conflicting property with the simple name 'BatchId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:28:43 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'BatchStock.StockId1' was created in shadow state because a conflicting property with the simple name 'StockId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:28:43 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'OrderBakingGood.BakingGoodId1' was created in shadow state because a conflicting property with the simple name 'BakingGoodId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:28:43 [WRN] [ATARASHIBEASTX #1 ] The foreign key property 'OrderBakingGood.OrderId1' was created in shadow state because a conflicting property with the simple name 'OrderId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
16:28:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (209ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [MyBGList];
16:28:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [MyBGList] SET READ_COMMITTED_SNAPSHOT ON;
END;
16:28:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
16:28:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
16:28:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
16:28:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
16:28:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
16:28:43 [INF] [ATARASHIBEASTX #1 ] Applying migration '20240326152616_InitialCreate'.
16:28:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGood] (
    [BakingGoodId] int NOT NULL IDENTITY,
    [BgName] nvarchar(50) NOT NULL,
    [DateProduced] datetime2 NOT NULL,
    CONSTRAINT [PK_BakingGood] PRIMARY KEY ([BakingGoodId])
);
16:28:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Batch] (
    [BatchId] int NOT NULL IDENTITY,
    [StartDateTime] datetime2 NOT NULL,
    [EndDateTime] datetime2 NOT NULL,
    [ActualEndTime] datetime2 NOT NULL,
    CONSTRAINT [PK_Batch] PRIMARY KEY ([BatchId])
);
16:28:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Order] (
    [OrderId] int NOT NULL IDENTITY,
    [DeliveryPlace] nvarchar(255) NOT NULL,
    [DeliveryDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Order] PRIMARY KEY ([OrderId])
);
16:28:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Stock] (
    [StockId] int NOT NULL IDENTITY,
    [SkName] nvarchar(50) NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_Stock] PRIMARY KEY ([StockId])
);
16:28:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGoodBatch] (
    [BakingGoodId] int NOT NULL,
    [BatchId] int NOT NULL,
    [Quantity] int NOT NULL,
    [BakingGoodId1] int NULL,
    [BatchId1] int NULL,
    CONSTRAINT [PK_BakingGoodBatch] PRIMARY KEY ([BatchId], [BakingGoodId]),
    CONSTRAINT [FK_BakingGoodBatch_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([BakingGoodId]) ON DELETE CASCADE,
    CONSTRAINT [FK_BakingGoodBatch_BakingGood_BakingGoodId1] FOREIGN KEY ([BakingGoodId1]) REFERENCES [BakingGood] ([BakingGoodId]),
    CONSTRAINT [FK_BakingGoodBatch_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([BatchId]) ON DELETE CASCADE,
    CONSTRAINT [FK_BakingGoodBatch_Batch_BatchId1] FOREIGN KEY ([BatchId1]) REFERENCES [Batch] ([BatchId])
);
16:28:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OrderBakingGood] (
    [OrderId] int NOT NULL,
    [BakingGoodId] int NOT NULL,
    [Quantity] int NOT NULL,
    [BakingGoodId1] int NULL,
    [OrderId1] int NULL,
    CONSTRAINT [PK_OrderBakingGood] PRIMARY KEY ([OrderId], [BakingGoodId]),
    CONSTRAINT [FK_OrderBakingGood_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([BakingGoodId]) ON DELETE CASCADE,
    CONSTRAINT [FK_OrderBakingGood_BakingGood_BakingGoodId1] FOREIGN KEY ([BakingGoodId1]) REFERENCES [BakingGood] ([BakingGoodId]),
    CONSTRAINT [FK_OrderBakingGood_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([OrderId]) ON DELETE CASCADE,
    CONSTRAINT [FK_OrderBakingGood_Order_OrderId1] FOREIGN KEY ([OrderId1]) REFERENCES [Order] ([OrderId])
);
16:28:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Packet] (
    [PacketId] int NOT NULL,
    [OrderId] int NOT NULL,
    [TrackId] nvarchar(9) NOT NULL,
    CONSTRAINT [PK_Packet] PRIMARY KEY ([OrderId], [PacketId]),
    CONSTRAINT [FK_Packet_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([OrderId]) ON DELETE CASCADE
);
16:28:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BatchStock] (
    [BatchId] int NOT NULL,
    [StockId] int NOT NULL,
    [Quantity] int NOT NULL,
    [BatchId1] int NULL,
    [StockId1] int NULL,
    CONSTRAINT [PK_BatchStock] PRIMARY KEY ([BatchId], [StockId]),
    CONSTRAINT [FK_BatchStock_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([BatchId]) ON DELETE CASCADE,
    CONSTRAINT [FK_BatchStock_Batch_BatchId1] FOREIGN KEY ([BatchId1]) REFERENCES [Batch] ([BatchId]),
    CONSTRAINT [FK_BatchStock_Stock_StockId] FOREIGN KEY ([StockId]) REFERENCES [Stock] ([StockId]) ON DELETE CASCADE,
    CONSTRAINT [FK_BatchStock_Stock_StockId1] FOREIGN KEY ([StockId1]) REFERENCES [Stock] ([StockId])
);
16:28:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BakingGoodBatch_BakingGoodId] ON [BakingGoodBatch] ([BakingGoodId]);
16:28:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BakingGoodBatch_BakingGoodId1] ON [BakingGoodBatch] ([BakingGoodId1]);
16:28:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BakingGoodBatch_BatchId1] ON [BakingGoodBatch] ([BatchId1]);
16:28:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BatchStock_BatchId1] ON [BatchStock] ([BatchId1]);
16:28:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BatchStock_StockId] ON [BatchStock] ([StockId]);
16:28:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BatchStock_StockId1] ON [BatchStock] ([StockId1]);
16:28:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OrderBakingGood_BakingGoodId] ON [OrderBakingGood] ([BakingGoodId]);
16:28:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OrderBakingGood_BakingGoodId1] ON [OrderBakingGood] ([BakingGoodId1]);
16:28:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OrderBakingGood_OrderId1] ON [OrderBakingGood] ([OrderId1]);
16:28:43 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240326152616_InitialCreate', N'8.0.2');
16:54:54 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
16:54:54 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
16:54:54 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
16:54:54 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
16:54:54 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
16:54:54 [INF] [ATARASHIBEASTX #1 ] Applying migration '20240326155448_InitialCreate'.
16:54:54 [ERR] [ATARASHIBEASTX #1 ] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGood] (
    [BakingGoodId] int NOT NULL IDENTITY,
    [BgName] nvarchar(50) NOT NULL,
    [DateProduced] datetime2 NOT NULL,
    CONSTRAINT [PK_BakingGood] PRIMARY KEY ([BakingGoodId])
);
16:55:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (214ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [MyBGList];
16:55:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [MyBGList] SET READ_COMMITTED_SNAPSHOT ON;
END;
16:55:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
16:55:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
16:55:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
16:55:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
16:55:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
16:55:48 [INF] [ATARASHIBEASTX #1 ] Applying migration '20240326155448_InitialCreate'.
16:55:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGood] (
    [BakingGoodId] int NOT NULL IDENTITY,
    [BgName] nvarchar(50) NOT NULL,
    [DateProduced] datetime2 NOT NULL,
    CONSTRAINT [PK_BakingGood] PRIMARY KEY ([BakingGoodId])
);
16:55:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Batch] (
    [BatchId] int NOT NULL IDENTITY,
    [StartDateTime] datetime2 NOT NULL,
    [EndDateTime] datetime2 NOT NULL,
    [ActualEndTime] datetime2 NOT NULL,
    CONSTRAINT [PK_Batch] PRIMARY KEY ([BatchId])
);
16:55:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Order] (
    [OrderId] int NOT NULL IDENTITY,
    [DeliveryPlace] nvarchar(255) NOT NULL,
    [DeliveryDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Order] PRIMARY KEY ([OrderId])
);
16:55:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Stock] (
    [StockId] int NOT NULL IDENTITY,
    [SkName] nvarchar(50) NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_Stock] PRIMARY KEY ([StockId])
);
16:55:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGoodBatch] (
    [BakingGoodId] int NOT NULL,
    [BatchId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BakingGoodBatch] PRIMARY KEY ([BatchId], [BakingGoodId]),
    CONSTRAINT [FK_BakingGoodBatch_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([BakingGoodId]) ON DELETE CASCADE,
    CONSTRAINT [FK_BakingGoodBatch_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([BatchId]) ON DELETE CASCADE
);
16:55:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OrderBakingGood] (
    [OrderId] int NOT NULL,
    [BakingGoodId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_OrderBakingGood] PRIMARY KEY ([OrderId], [BakingGoodId]),
    CONSTRAINT [FK_OrderBakingGood_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([BakingGoodId]) ON DELETE CASCADE,
    CONSTRAINT [FK_OrderBakingGood_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([OrderId]) ON DELETE CASCADE
);
16:55:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Packet] (
    [PacketId] int NOT NULL IDENTITY,
    [TrackId] nvarchar(9) NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Packet] PRIMARY KEY ([PacketId]),
    CONSTRAINT [FK_Packet_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([OrderId]) ON DELETE CASCADE
);
16:55:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BatchStock] (
    [BatchId] int NOT NULL,
    [StockId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BatchStock] PRIMARY KEY ([BatchId], [StockId]),
    CONSTRAINT [FK_BatchStock_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([BatchId]) ON DELETE CASCADE,
    CONSTRAINT [FK_BatchStock_Stock_StockId] FOREIGN KEY ([StockId]) REFERENCES [Stock] ([StockId]) ON DELETE CASCADE
);
16:55:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BakingGoodBatch_BakingGoodId] ON [BakingGoodBatch] ([BakingGoodId]);
16:55:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BatchStock_StockId] ON [BatchStock] ([StockId]);
16:55:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OrderBakingGood_BakingGoodId] ON [OrderBakingGood] ([BakingGoodId]);
16:55:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Packet_OrderId] ON [Packet] ([OrderId]);
16:55:48 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240326155448_InitialCreate', N'8.0.2');
17:03:11 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
17:03:11 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
17:03:11 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
17:03:11 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7
17:03:17 [WRN] [ATARASHIBEASTX #10 .NET TP Worker] Failed to determine the https port for redirect.
17:03:18 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] Failed executing DbCommand (42ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Order] ([OrderId], [DeliveryDate], [DeliveryPlace])
VALUES (@p0, @p1, @p2),
(@p3, @p4, @p5),
(@p6, @p7, @p8);
17:03:18 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Order' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:64c518be-c9fd-48d7-87eb-9f2d7e188cc1
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Order' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:64c518be-c9fd-48d7-87eb-9f2d7e188cc1
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
17:03:18 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] An error occurred while seeding the database
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Order' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:64c518be-c9fd-48d7-87eb-9f2d7e188cc1
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7\Controllers\SeedController.cs:line 54
21:03:55 [INF] [ATARASHIBEASTX #26 ] Application is shutting down...
21:04:04 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
21:04:04 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
21:04:04 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
21:04:04 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7
21:04:31 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
21:04:31 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An error occurred while seeding the database
CsvHelper.HeaderValidationException: Header with name 'Order_OrderId'[0] was not found.
Header with name 'Order_DeliveryPlace'[0] was not found.
Header with name 'Order_DeliveryDate'[0] was not found.
Header with name 'Packet_PacketId'[0] was not found.
Header with name 'Packet_TrackId'[0] was not found.
Header with name 'Packet_OrderId'[0] was not found.
Header with name 'BakingGood_BakingGoodId'[0] was not found.
Header with name 'BakingGood_BgName'[0] was not found.
Header with name 'BakingGood_DateProduced'[0] was not found.
Header with name 'Batch_BatchId'[0] was not found.
Header with name 'Batch_StartDateTime'[0] was not found.
Header with name 'Batch_EndDateTime'[0] was not found.
Header with name 'Batch_ActualEndTime'[0] was not found.
Header with name 'Stock_StockId'[0] was not found.
Header with name 'Stock_SkName'[0] was not found.
Header with name 'Stock_Quantity'[0] was not found.
Header with name 'OrderBakingGood_OrderId'[0] was not found.
Header with name 'OrderBakingGood_BakingGoodId'[0] was not found.
Header with name 'OrderBakingGood_Quantity'[0] was not found.
Header with name 'BakingGoodBatch_BakingGoodId'[0] was not found.
Header with name 'BakingGoodBatch_BatchId'[0] was not found.
Header with name 'BakingGoodBatch_Quantity'[0] was not found.
Header with name 'BatchStock_BatchId'[0] was not found.
Header with name 'BatchStock_StockId'[0] was not found.
Header with name 'BatchStock_Quantity'[0] was not found.
Headers: 'Order_OrderId;Order_DeliveryPlace;Order_DeliveryDate;Packet_PacketId;Packet_TrackId;Packet_OrderId;BakingGood_BakingGoodId;BakingGood_BgName;BakingGood_DateProduced;Batch_BatchId;Batch_StartDateTime;Batch_EndDateTime;Batch_ActualEndTime;Stock_StockId;Stock_SkName;Stock_Quantity;OrderBakingGood_OrderId;OrderBakingGood_BakingGoodId;OrderBakingGood_Quantity;BakingGoodBatch_BakingGoodId;BakingGoodBatch_BatchId;BakingGoodBatch_Quantity;BatchStock_BatchId;BatchStock_StockId;BatchStock_Quantity'
If you are expecting some headers to be missing and want to ignore this validation, set the configuration HeaderValidated to null. You can also change the functionality to do something else, like logging the issue.

IReader state:
   ColumnCount: 0
   CurrentIndex: -1
   HeaderRecord:
["Order_OrderId;Order_DeliveryPlace;Order_DeliveryDate;Packet_PacketId;Packet_TrackId;Packet_OrderId;BakingGood_BakingGoodId;BakingGood_BgName;BakingGood_DateProduced;Batch_BatchId;Batch_StartDateTime;Batch_EndDateTime;Batch_ActualEndTime;Stock_StockId;Stock_SkName;Stock_Quantity;OrderBakingGood_OrderId;OrderBakingGood_BakingGoodId;OrderBakingGood_Quantity;BakingGoodBatch_BakingGoodId;BakingGoodBatch_BatchId;BakingGoodBatch_Quantity;BatchStock_BatchId;BatchStock_StockId;BatchStock_Quantity"]
IParser state:
   ByteCount: 0
   CharCount: 494
   Row: 1
   RawRow: 1
   Count: 1
   RawRecord:
Order_OrderId;Order_DeliveryPlace;Order_DeliveryDate;Packet_PacketId;Packet_TrackId;Packet_OrderId;BakingGood_BakingGoodId;BakingGood_BgName;BakingGood_DateProduced;Batch_BatchId;Batch_StartDateTime;Batch_EndDateTime;Batch_ActualEndTime;Stock_StockId;Stock_SkName;Stock_Quantity;OrderBakingGood_OrderId;OrderBakingGood_BakingGoodId;OrderBakingGood_Quantity;BakingGoodBatch_BakingGoodId;BakingGoodBatch_BatchId;BakingGoodBatch_Quantity;BatchStock_BatchId;BatchStock_StockId;BatchStock_Quantity


   at CsvHelper.Configuration.ConfigurationFunctions.HeaderValidated(HeaderValidatedArgs args)
   at CsvHelper.CsvReader.ValidateHeader(Type type)
   at CsvHelper.CsvReader.ValidateHeader[T]()
   at CsvHelper.CsvReader.GetRecords[T]()+MoveNext()
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7\Controllers\SeedController.cs:line 57
21:08:19 [INF] [ATARASHIBEASTX #19 ] Application is shutting down...
21:08:22 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
21:08:22 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
21:08:22 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
21:08:22 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7
21:08:32 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
21:08:32 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An error occurred while seeding the database
CsvHelper.HeaderValidationException: Header with name 'Order_OrderId'[0] was not found.
Header with name 'Order_DeliveryPlace'[0] was not found.
Header with name 'Order_DeliveryDate'[0] was not found.
Header with name 'Packet_PacketId'[0] was not found.
Header with name 'Packet_TrackId'[0] was not found.
Header with name 'Packet_OrderId'[0] was not found.
Header with name 'BakingGood_BakingGoodId'[0] was not found.
Header with name 'BakingGood_BgName'[0] was not found.
Header with name 'BakingGood_DateProduced'[0] was not found.
Header with name 'Batch_BatchId'[0] was not found.
Header with name 'Batch_StartDateTime'[0] was not found.
Header with name 'Batch_EndDateTime'[0] was not found.
Header with name 'Batch_ActualEndTime'[0] was not found.
Header with name 'Stock_StockId'[0] was not found.
Header with name 'Stock_SkName'[0] was not found.
Header with name 'Stock_Quantity'[0] was not found.
Header with name 'OrderBakingGood_OrderId'[0] was not found.
Header with name 'OrderBakingGood_BakingGoodId'[0] was not found.
Header with name 'OrderBakingGood_Quantity'[0] was not found.
Header with name 'BakingGoodBatch_BakingGoodId'[0] was not found.
Header with name 'BakingGoodBatch_BatchId'[0] was not found.
Header with name 'BakingGoodBatch_Quantity'[0] was not found.
Header with name 'BatchStock_BatchId'[0] was not found.
Header with name 'BatchStock_StockId'[0] was not found.
Header with name 'BatchStock_Quantity'[0] was not found.
Headers: 'Order_OrderId;Order_DeliveryPlace;Order_DeliveryDate;Packet_PacketId;Packet_TrackId;Packet_OrderId;BakingGood_BakingGoodId;BakingGood_BgName;BakingGood_DateProduced;Batch_BatchId;Batch_StartDateTime;Batch_EndDateTime;Batch_ActualEndTime;Stock_StockId;Stock_SkName;Stock_Quantity;OrderBakingGood_OrderId;OrderBakingGood_BakingGoodId;OrderBakingGood_Quantity;BakingGoodBatch_BakingGoodId;BakingGoodBatch_BatchId;BakingGoodBatch_Quantity;BatchStock_BatchId;BatchStock_StockId;BatchStock_Quantity'
If you are expecting some headers to be missing and want to ignore this validation, set the configuration HeaderValidated to null. You can also change the functionality to do something else, like logging the issue.

IReader state:
   ColumnCount: 0
   CurrentIndex: -1
   HeaderRecord:
["Order_OrderId;Order_DeliveryPlace;Order_DeliveryDate;Packet_PacketId;Packet_TrackId;Packet_OrderId;BakingGood_BakingGoodId;BakingGood_BgName;BakingGood_DateProduced;Batch_BatchId;Batch_StartDateTime;Batch_EndDateTime;Batch_ActualEndTime;Stock_StockId;Stock_SkName;Stock_Quantity;OrderBakingGood_OrderId;OrderBakingGood_BakingGoodId;OrderBakingGood_Quantity;BakingGoodBatch_BakingGoodId;BakingGoodBatch_BatchId;BakingGoodBatch_Quantity;BatchStock_BatchId;BatchStock_StockId;BatchStock_Quantity"]
IParser state:
   ByteCount: 0
   CharCount: 494
   Row: 1
   RawRow: 1
   Count: 1
   RawRecord:
Order_OrderId;Order_DeliveryPlace;Order_DeliveryDate;Packet_PacketId;Packet_TrackId;Packet_OrderId;BakingGood_BakingGoodId;BakingGood_BgName;BakingGood_DateProduced;Batch_BatchId;Batch_StartDateTime;Batch_EndDateTime;Batch_ActualEndTime;Stock_StockId;Stock_SkName;Stock_Quantity;OrderBakingGood_OrderId;OrderBakingGood_BakingGoodId;OrderBakingGood_Quantity;BakingGoodBatch_BakingGoodId;BakingGoodBatch_BatchId;BakingGoodBatch_Quantity;BatchStock_BatchId;BatchStock_StockId;BatchStock_Quantity


   at CsvHelper.Configuration.ConfigurationFunctions.HeaderValidated(HeaderValidatedArgs args)
   at CsvHelper.CsvReader.ValidateHeader(Type type)
   at CsvHelper.CsvReader.ValidateHeader[T]()
   at CsvHelper.CsvReader.GetRecords[T]()+MoveNext()
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7\Controllers\SeedController.cs:line 57
21:11:17 [INF] [ATARASHIBEASTX #16 ] Application is shutting down...
21:11:20 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
21:11:20 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
21:11:20 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
21:11:20 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7
21:11:33 [WRN] [ATARASHIBEASTX #11 .NET TP Worker] Failed to determine the https port for redirect.
21:11:33 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] Failed executing DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT BoardGames ON
21:11:33 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] An error occurred while seeding the database
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot find the object "BoardGames" because it does not exist or you do not have permissions.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean isAsync, Int32 timeout, Boolean asyncWrite)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQuery(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRaw(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRaw(DatabaseFacade databaseFacade, String sql, Object[] parameters)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7\Controllers\SeedController.cs:line 110
ClientConnectionId:901af3c1-9a5c-480f-8b27-3cc16c9b5cab
Error Number:1088,State:11,Class:16
21:13:20 [INF] [ATARASHIBEASTX #15 ] Application is shutting down...
21:13:24 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
21:13:24 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
21:13:24 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
21:13:24 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7
21:13:28 [WRN] [ATARASHIBEASTX #11 .NET TP Worker] Failed to determine the https port for redirect.
21:13:29 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT Order ON
21:13:29 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] An error occurred while seeding the database
Microsoft.Data.SqlClient.SqlException (0x80131904): Incorrect syntax near the keyword 'Order'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean isAsync, Int32 timeout, Boolean asyncWrite)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQuery(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRaw(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRaw(DatabaseFacade databaseFacade, String sql, Object[] parameters)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7\Controllers\SeedController.cs:line 110
ClientConnectionId:175c2833-c3d7-4189-bfe6-bb7ac5c264d6
Error Number:156,State:1,Class:15
21:14:49 [INF] [ATARASHIBEASTX #14 ] Application is shutting down...
21:14:52 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
21:14:52 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
21:14:52 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
21:14:52 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7
21:14:56 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
21:14:56 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] ON
21:14:56 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT Packet ON
21:14:56 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An error occurred while seeding the database
Microsoft.Data.SqlClient.SqlException (0x80131904): IDENTITY_INSERT is already ON for table 'MyBGList.dbo.Order'. Cannot perform SET operation for table 'Packet'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean isAsync, Int32 timeout, Boolean asyncWrite)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQuery(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRaw(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRaw(DatabaseFacade databaseFacade, String sql, Object[] parameters)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7\Controllers\SeedController.cs:line 111
ClientConnectionId:4899ce77-7871-4983-9901-6f872a8c6602
Error Number:8107,State:1,Class:16
21:17:26 [INF] [ATARASHIBEASTX #16 ] Application is shutting down...
21:17:29 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
21:17:29 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
21:17:29 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
21:17:29 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7
21:17:33 [WRN] [ATARASHIBEASTX #12 .NET TP Worker] Failed to determine the https port for redirect.
21:17:34 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] OFF
21:17:34 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT Packet OFF
21:17:34 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT BakingGood OFF
21:17:34 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT Batch OFF
21:17:34 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT Stock OFF
21:17:34 [ERR] [ATARASHIBEASTX #12 .NET TP Worker] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT OrderBakingGood OFF
21:17:34 [ERR] [ATARASHIBEASTX #12 .NET TP Worker] An error occurred while seeding the database
Microsoft.Data.SqlClient.SqlException (0x80131904): Table 'OrderBakingGood' does not have the identity property. Cannot perform SET operation.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean isAsync, Int32 timeout, Boolean asyncWrite)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQuery(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRaw(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRaw(DatabaseFacade databaseFacade, String sql, Object[] parameters)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7\Controllers\SeedController.cs:line 116
ClientConnectionId:cb88d97b-04ab-4272-a851-01728885d03a
Error Number:8106,State:1,Class:16
21:18:29 [INF] [ATARASHIBEASTX #14 ] Application is shutting down...
21:18:32 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
21:18:32 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
21:18:32 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
21:18:32 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7
21:18:37 [WRN] [ATARASHIBEASTX #11 .NET TP Worker] Failed to determine the https port for redirect.
21:18:38 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] OFF
21:18:38 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT Packet OFF
21:18:38 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT BakingGood OFF
21:18:38 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT Batch OFF
21:18:38 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT Stock OFF
21:18:38 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] ON
21:18:38 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT Packet ON
21:18:38 [ERR] [ATARASHIBEASTX #11 .NET TP Worker] An error occurred while seeding the database
Microsoft.Data.SqlClient.SqlException (0x80131904): IDENTITY_INSERT is already ON for table 'MyBGList.dbo.Order'. Cannot perform SET operation for table 'Packet'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean isAsync, Int32 timeout, Boolean asyncWrite)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQuery(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRaw(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRaw(DatabaseFacade databaseFacade, String sql, Object[] parameters)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7\Controllers\SeedController.cs:line 119
ClientConnectionId:eb04c524-8459-4bf8-92f9-6e6ba00cd437
Error Number:8107,State:1,Class:16
21:20:01 [INF] [ATARASHIBEASTX #14 ] Application is shutting down...
21:20:04 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
21:20:04 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
21:20:04 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
21:20:04 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7
21:20:07 [WRN] [ATARASHIBEASTX #11 .NET TP Worker] Failed to determine the https port for redirect.
21:20:07 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] OFF
21:20:07 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT Packet OFF
21:20:07 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT BakingGood OFF
21:20:07 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT Batch OFF
21:20:07 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT Stock OFF
21:20:07 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Order] AS [o]
21:20:07 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Packet] AS [p]
21:20:07 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BakingGood] AS [b]
21:20:07 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Batch] AS [b]
21:20:07 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Stock] AS [s]
21:20:07 [INF] [ATARASHIBEASTX #11 .NET TP Worker] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [OrderBakingGood] AS [o]
21:20:15 [INF] [ATARASHIBEASTX #15 ] Application is shutting down...
21:21:27 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
21:21:27 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
21:21:27 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
21:21:27 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7
21:21:34 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
21:21:35 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] ON
21:21:35 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT Packet ON
21:21:35 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An error occurred while seeding the database
Microsoft.Data.SqlClient.SqlException (0x80131904): IDENTITY_INSERT is already ON for table 'MyBGList.dbo.Order'. Cannot perform SET operation for table 'Packet'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean isAsync, Int32 timeout, Boolean asyncWrite)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQuery(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRaw(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRaw(DatabaseFacade databaseFacade, String sql, Object[] parameters)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7\Controllers\SeedController.cs:line 113
ClientConnectionId:7cb850b9-88f7-4f1e-ad64-0f202b573b15
Error Number:8107,State:1,Class:16
21:22:26 [INF] [ATARASHIBEASTX #14 ] Application is shutting down...
21:22:28 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
21:22:28 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
21:22:28 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
21:22:28 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7
21:22:34 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
21:22:34 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
21:22:34 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] Failed executing DbCommand (30ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (Size = 50), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32), @p14='?' (DbType = DateTime2), @p15='?' (DbType = DateTime2), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = DateTime2), @p20='?' (DbType = DateTime2), @p21='?' (DbType = Int32), @p22='?' (DbType = DateTime2), @p23='?' (Size = 255), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (Size = 255), @p27='?' (DbType = Int32), @p28='?' (DbType = DateTime2), @p29='?' (Size = 255), @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?' (Size = 50), @p33='?' (DbType = Int32), @p34='?' (DbType = Int32), @p35='?' (Size = 50), @p36='?' (DbType = Int32), @p37='?' (DbType = Int32), @p38='?' (Size = 50), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = Int32), @p44='?' (DbType = Int32), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (DbType = Int32), @p50='?' (Size = 9), @p51='?' (DbType = Int32), @p52='?' (DbType = Int32), @p53='?' (Size = 9), @p54='?' (DbType = Int32), @p55='?' (DbType = Int32), @p56='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BakingGood] ([BakingGoodId], [BgName], [DateProduced])
VALUES (@p0, @p1, @p2),
(@p3, @p4, @p5),
(@p6, @p7, @p8);
INSERT INTO [Batch] ([BatchId], [ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (@p9, @p10, @p11, @p12),
(@p13, @p14, @p15, @p16),
(@p17, @p18, @p19, @p20);
INSERT INTO [Order] ([OrderId], [DeliveryDate], [DeliveryPlace])
VALUES (@p21, @p22, @p23),
(@p24, @p25, @p26),
(@p27, @p28, @p29);
INSERT INTO [Stock] ([StockId], [Quantity], [SkName])
VALUES (@p30, @p31, @p32),
(@p33, @p34, @p35),
(@p36, @p37, @p38);
INSERT INTO [OrderBakingGood] ([BakingGoodId], [OrderId], [Quantity])
VALUES (@p39, @p40, @p41),
(@p42, @p43, @p44),
(@p45, @p46, @p47);
INSERT INTO [Packet] ([PacketId], [OrderId], [TrackId])
VALUES (@p48, @p49, @p50),
(@p51, @p52, @p53),
(@p54, @p55, @p56);
21:22:34 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'BakingGood' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Batch' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Order' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Stock' when IDENTITY_INSERT is set to OFF.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_OrderBakingGood_BakingGood_BakingGoodId". The conflict occurred in database "MyBGList", table "dbo.BakingGood", column 'BakingGoodId'.
Cannot insert explicit value for identity column in table 'Packet' when IDENTITY_INSERT is set to OFF.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b211e4f4-a3c0-4b4b-b979-9b42811defd8
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'BakingGood' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Batch' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Order' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Stock' when IDENTITY_INSERT is set to OFF.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_OrderBakingGood_BakingGood_BakingGoodId". The conflict occurred in database "MyBGList", table "dbo.BakingGood", column 'BakingGoodId'.
Cannot insert explicit value for identity column in table 'Packet' when IDENTITY_INSERT is set to OFF.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b211e4f4-a3c0-4b4b-b979-9b42811defd8
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
21:22:34 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An error occurred while seeding the database
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'BakingGood' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Batch' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Order' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Stock' when IDENTITY_INSERT is set to OFF.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_OrderBakingGood_BakingGood_BakingGoodId". The conflict occurred in database "MyBGList", table "dbo.BakingGood", column 'BakingGoodId'.
Cannot insert explicit value for identity column in table 'Packet' when IDENTITY_INSERT is set to OFF.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b211e4f4-a3c0-4b4b-b979-9b42811defd8
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7\Controllers\SeedController.cs:line 118
21:30:12 [INF] [ATARASHIBEASTX #21 ] Application is shutting down...
21:30:16 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
21:30:16 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
21:30:16 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
21:30:16 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7
21:30:21 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
21:30:21 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] ON
21:30:21 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT Packet ON
21:30:21 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An error occurred while seeding the database
Microsoft.Data.SqlClient.SqlException (0x80131904): IDENTITY_INSERT is already ON for table 'MyBGList.dbo.Order'. Cannot perform SET operation for table 'Packet'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean isAsync, Int32 timeout, Boolean asyncWrite)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQuery(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRaw(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRaw(DatabaseFacade databaseFacade, String sql, Object[] parameters)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7\Controllers\SeedController.cs:line 131
ClientConnectionId:7f1746d2-d572-4903-8b55-549b7f41008b
Error Number:8107,State:1,Class:16
21:31:11 [INF] [ATARASHIBEASTX #14 ] Application is shutting down...
21:31:13 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
21:31:13 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
21:31:13 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
21:31:13 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7
21:31:18 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
21:31:19 [INF] [ATARASHIBEASTX #8 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] ON
21:31:19 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
21:31:19 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] Failed executing DbCommand (28ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (Size = 50), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32), @p14='?' (DbType = DateTime2), @p15='?' (DbType = DateTime2), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = DateTime2), @p20='?' (DbType = DateTime2), @p21='?' (DbType = Int32), @p22='?' (DbType = DateTime2), @p23='?' (Size = 255), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (Size = 255), @p27='?' (DbType = Int32), @p28='?' (DbType = DateTime2), @p29='?' (Size = 255), @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?' (Size = 50), @p33='?' (DbType = Int32), @p34='?' (DbType = Int32), @p35='?' (Size = 50), @p36='?' (DbType = Int32), @p37='?' (DbType = Int32), @p38='?' (Size = 50), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = Int32), @p44='?' (DbType = Int32), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (DbType = Int32), @p50='?' (DbType = Int32), @p51='?' (DbType = Int32), @p52='?' (DbType = Int32), @p53='?' (DbType = Int32), @p54='?' (DbType = Int32), @p55='?' (DbType = Int32), @p56='?' (DbType = Int32), @p57='?' (DbType = Int32), @p58='?' (DbType = Int32), @p59='?' (DbType = Int32), @p60='?' (DbType = Int32), @p61='?' (DbType = Int32), @p62='?' (DbType = Int32), @p63='?' (DbType = Int32), @p64='?' (DbType = Int32), @p65='?' (DbType = Int32), @p66='?' (DbType = Int32), @p67='?' (DbType = Int32), @p68='?' (Size = 9), @p69='?' (DbType = Int32), @p70='?' (DbType = Int32), @p71='?' (Size = 9), @p72='?' (DbType = Int32), @p73='?' (DbType = Int32), @p74='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BakingGood] ([BakingGoodId], [BgName], [DateProduced])
VALUES (@p0, @p1, @p2),
(@p3, @p4, @p5),
(@p6, @p7, @p8);
INSERT INTO [Batch] ([BatchId], [ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (@p9, @p10, @p11, @p12),
(@p13, @p14, @p15, @p16),
(@p17, @p18, @p19, @p20);
INSERT INTO [Order] ([OrderId], [DeliveryDate], [DeliveryPlace])
VALUES (@p21, @p22, @p23),
(@p24, @p25, @p26),
(@p27, @p28, @p29);
INSERT INTO [Stock] ([StockId], [Quantity], [SkName])
VALUES (@p30, @p31, @p32),
(@p33, @p34, @p35),
(@p36, @p37, @p38);
INSERT INTO [BakingGoodBatch] ([BakingGoodId], [BatchId], [Quantity])
VALUES (@p39, @p40, @p41),
(@p42, @p43, @p44),
(@p45, @p46, @p47);
INSERT INTO [BatchStock] ([BatchId], [StockId], [Quantity])
VALUES (@p48, @p49, @p50),
(@p51, @p52, @p53),
(@p54, @p55, @p56);
INSERT INTO [OrderBakingGood] ([BakingGoodId], [OrderId], [Quantity])
VALUES (@p57, @p58, @p59),
(@p60, @p61, @p62),
(@p63, @p64, @p65);
INSERT INTO [Packet] ([PacketId], [OrderId], [TrackId])
VALUES (@p66, @p67, @p68),
(@p69, @p70, @p71),
(@p72, @p73, @p74);
21:31:19 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'BakingGood' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Batch' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Stock' when IDENTITY_INSERT is set to OFF.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_BakingGoodBatch_BakingGood_BakingGoodId". The conflict occurred in database "MyBGList", table "dbo.BakingGood", column 'BakingGoodId'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_BatchStock_Batch_BatchId". The conflict occurred in database "MyBGList", table "dbo.Batch", column 'BatchId'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_OrderBakingGood_BakingGood_BakingGoodId". The conflict occurred in database "MyBGList", table "dbo.BakingGood", column 'BakingGoodId'.
Cannot insert explicit value for identity column in table 'Packet' when IDENTITY_INSERT is set to OFF.
The statement has been terminated.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:34096fae-3acc-4c9f-bece-48439fdcdd49
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'BakingGood' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Batch' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Stock' when IDENTITY_INSERT is set to OFF.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_BakingGoodBatch_BakingGood_BakingGoodId". The conflict occurred in database "MyBGList", table "dbo.BakingGood", column 'BakingGoodId'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_BatchStock_Batch_BatchId". The conflict occurred in database "MyBGList", table "dbo.Batch", column 'BatchId'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_OrderBakingGood_BakingGood_BakingGoodId". The conflict occurred in database "MyBGList", table "dbo.BakingGood", column 'BakingGoodId'.
Cannot insert explicit value for identity column in table 'Packet' when IDENTITY_INSERT is set to OFF.
The statement has been terminated.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:34096fae-3acc-4c9f-bece-48439fdcdd49
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
21:31:19 [ERR] [ATARASHIBEASTX #8 .NET TP Worker] An error occurred while seeding the database
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'BakingGood' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Batch' when IDENTITY_INSERT is set to OFF.
Cannot insert explicit value for identity column in table 'Stock' when IDENTITY_INSERT is set to OFF.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_BakingGoodBatch_BakingGood_BakingGoodId". The conflict occurred in database "MyBGList", table "dbo.BakingGood", column 'BakingGoodId'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_BatchStock_Batch_BatchId". The conflict occurred in database "MyBGList", table "dbo.Batch", column 'BatchId'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_OrderBakingGood_BakingGood_BakingGoodId". The conflict occurred in database "MyBGList", table "dbo.BakingGood", column 'BakingGoodId'.
Cannot insert explicit value for identity column in table 'Packet' when IDENTITY_INSERT is set to OFF.
The statement has been terminated.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:34096fae-3acc-4c9f-bece-48439fdcdd49
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7\Controllers\SeedController.cs:line 136
21:36:07 [INF] [ATARASHIBEASTX #18 ] Application is shutting down...
21:36:10 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
21:36:10 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
21:36:10 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
21:36:10 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7
21:36:18 [WRN] [ATARASHIBEASTX #12 .NET TP Worker] Failed to determine the https port for redirect.
21:36:19 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT [Order] ON
21:36:19 [ERR] [ATARASHIBEASTX #12 .NET TP Worker] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SET IDENTITY_INSERT Packet ON
21:36:19 [ERR] [ATARASHIBEASTX #12 .NET TP Worker] An error occurred while seeding the database
Microsoft.Data.SqlClient.SqlException (0x80131904): IDENTITY_INSERT is already ON for table 'MyBGList.dbo.Order'. Cannot perform SET operation for table 'Packet'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean isAsync, Int32 timeout, Boolean asyncWrite)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQuery(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRaw(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRaw(DatabaseFacade databaseFacade, String sql, Object[] parameters)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7\Controllers\SeedController.cs:line 131
ClientConnectionId:a40c3d78-30fb-4530-a050-527f383f0efd
Error Number:8107,State:1,Class:16
22:00:58 [INF] [ATARASHIBEASTX #22 ] Application is shutting down...
22:01:04 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
22:01:04 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
22:01:04 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
22:01:04 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7
22:01:08 [WRN] [ATARASHIBEASTX #12 .NET TP Worker] Failed to determine the https port for redirect.
22:01:08 [WRN] [ATARASHIBEASTX #12 .NET TP Worker] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
22:01:08 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (39ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime2), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = DateTime2), @p20='?' (DbType = DateTime2), @p21='?' (DbType = DateTime2), @p22='?' (DbType = DateTime2), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = DateTime2), @p34='?' (Size = 255), @p35='?' (DbType = DateTime2), @p36='?' (Size = 255), @p37='?' (DbType = DateTime2), @p38='?' (Size = 255), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = Int32), @p44='?' (DbType = Int32), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (Size = 9), @p50='?' (DbType = Int32), @p51='?' (Size = 9), @p52='?' (DbType = Int32), @p53='?' (Size = 9), @p54='?' (DbType = Int32), @p55='?' (Size = 50), @p56='?' (DbType = Int32), @p57='?' (Size = 50), @p58='?' (DbType = Int32), @p59='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2)) AS i ([BgName], [DateProduced], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([BgName], [DateProduced])
VALUES (i.[BgName], i.[DateProduced])
OUTPUT INSERTED.[BakingGoodId], i._Position;
INSERT INTO [BakingGoodBatch] ([BakingGoodId], [BatchId], [Quantity])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11),
(@p12, @p13, @p14);
MERGE [Batch] USING (
VALUES (@p15, @p16, @p17, 0),
(@p18, @p19, @p20, 1),
(@p21, @p22, @p23, 2)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[BatchId], i._Position;
INSERT INTO [BatchStock] ([BatchId], [StockId], [Quantity])
VALUES (@p24, @p25, @p26),
(@p27, @p28, @p29),
(@p30, @p31, @p32);
MERGE [Order] USING (
VALUES (@p33, @p34, 0),
(@p35, @p36, 1),
(@p37, @p38, 2)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[OrderId], i._Position;
INSERT INTO [OrderBakingGood] ([BakingGoodId], [OrderId], [Quantity])
VALUES (@p39, @p40, @p41),
(@p42, @p43, @p44),
(@p45, @p46, @p47);
MERGE [Packet] USING (
VALUES (@p48, @p49, 0),
(@p50, @p51, 1),
(@p52, @p53, 2)) AS i ([OrderId], [TrackId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([OrderId], [TrackId])
VALUES (i.[OrderId], i.[TrackId])
OUTPUT INSERTED.[PacketId], i._Position;
MERGE [Stock] USING (
VALUES (@p54, @p55, 0),
(@p56, @p57, 1),
(@p58, @p59, 2)) AS i ([Quantity], [SkName], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Quantity], [SkName])
VALUES (i.[Quantity], i.[SkName])
OUTPUT INSERTED.[StockId], i._Position;
22:01:08 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_BakingGoodBatch_Batch_BatchId". The conflict occurred in database "MyBGList", table "dbo.Batch", column 'BatchId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d8012d4d-71cc-4580-b36e-f6730be001c5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_BakingGoodBatch_Batch_BatchId". The conflict occurred in database "MyBGList", table "dbo.Batch", column 'BatchId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d8012d4d-71cc-4580-b36e-f6730be001c5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
22:01:08 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] An error occurred while seeding the database
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_BakingGoodBatch_Batch_BatchId". The conflict occurred in database "MyBGList", table "dbo.Batch", column 'BatchId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d8012d4d-71cc-4580-b36e-f6730be001c5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7\Controllers\SeedController.cs:line 125
22:11:34 [INF] [ATARASHIBEASTX #22 ] Application is shutting down...
22:19:27 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
22:19:27 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
22:19:27 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
22:19:27 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7
22:19:33 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
22:19:34 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
22:19:34 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (17ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime2), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = DateTime2), @p20='?' (DbType = DateTime2), @p21='?' (DbType = DateTime2), @p22='?' (DbType = DateTime2), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = DateTime2), @p34='?' (Size = 255), @p35='?' (DbType = DateTime2), @p36='?' (Size = 255), @p37='?' (DbType = DateTime2), @p38='?' (Size = 255), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = Int32), @p44='?' (DbType = Int32), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (Size = 9), @p50='?' (DbType = Int32), @p51='?' (Size = 9), @p52='?' (DbType = Int32), @p53='?' (Size = 9), @p54='?' (DbType = Int32), @p55='?' (Size = 50), @p56='?' (DbType = Int32), @p57='?' (Size = 50), @p58='?' (DbType = Int32), @p59='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2)) AS i ([BgName], [DateProduced], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([BgName], [DateProduced])
VALUES (i.[BgName], i.[DateProduced])
OUTPUT INSERTED.[BakingGoodId], i._Position;
INSERT INTO [BakingGoodBatch] ([BakingGoodId], [BatchId], [Quantity])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11),
(@p12, @p13, @p14);
MERGE [Batch] USING (
VALUES (@p15, @p16, @p17, 0),
(@p18, @p19, @p20, 1),
(@p21, @p22, @p23, 2)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[BatchId], i._Position;
INSERT INTO [BatchStock] ([BatchId], [StockId], [Quantity])
VALUES (@p24, @p25, @p26),
(@p27, @p28, @p29),
(@p30, @p31, @p32);
MERGE [Order] USING (
VALUES (@p33, @p34, 0),
(@p35, @p36, 1),
(@p37, @p38, 2)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[OrderId], i._Position;
INSERT INTO [OrderBakingGood] ([BakingGoodId], [OrderId], [Quantity])
VALUES (@p39, @p40, @p41),
(@p42, @p43, @p44),
(@p45, @p46, @p47);
MERGE [Packet] USING (
VALUES (@p48, @p49, 0),
(@p50, @p51, 1),
(@p52, @p53, 2)) AS i ([OrderId], [TrackId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([OrderId], [TrackId])
VALUES (i.[OrderId], i.[TrackId])
OUTPUT INSERTED.[PacketId], i._Position;
MERGE [Stock] USING (
VALUES (@p54, @p55, 0),
(@p56, @p57, 1),
(@p58, @p59, 2)) AS i ([Quantity], [SkName], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Quantity], [SkName])
VALUES (i.[Quantity], i.[SkName])
OUTPUT INSERTED.[StockId], i._Position;
22:19:34 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_BakingGoodBatch_BakingGood_BakingGoodId". The conflict occurred in database "MyBGList", table "dbo.BakingGood", column 'BakingGoodId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c48f23e3-4e46-4c70-98ba-07dc57b022b2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_BakingGoodBatch_BakingGood_BakingGoodId". The conflict occurred in database "MyBGList", table "dbo.BakingGood", column 'BakingGoodId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c48f23e3-4e46-4c70-98ba-07dc57b022b2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
22:19:34 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] An error occurred while seeding the database
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_BakingGoodBatch_BakingGood_BakingGoodId". The conflict occurred in database "MyBGList", table "dbo.BakingGood", column 'BakingGoodId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c48f23e3-4e46-4c70-98ba-07dc57b022b2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7\Controllers\SeedController.cs:line 125
22:26:47 [INF] [ATARASHIBEASTX #20 ] Application is shutting down...
22:26:50 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
22:26:50 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
22:26:50 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
22:26:50 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7
22:27:02 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
22:27:03 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
22:27:03 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (18ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 255), @p7='?' (DbType = Int32), @p8='?' (Size = 9), @p9='?' (DbType = Int32), @p10='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BakingGood] ([BgName], [DateProduced])
OUTPUT INSERTED.[BakingGoodId]
VALUES (@p0, @p1);
INSERT INTO [Batch] ([ActualEndTime], [EndDateTime], [StartDateTime])
OUTPUT INSERTED.[BatchId]
VALUES (@p2, @p3, @p4);
INSERT INTO [Order] ([DeliveryDate], [DeliveryPlace])
OUTPUT INSERTED.[OrderId]
VALUES (@p5, @p6);
INSERT INTO [Packet] ([OrderId], [TrackId])
OUTPUT INSERTED.[PacketId]
VALUES (@p7, @p8);
INSERT INTO [Stock] ([Quantity], [SkName])
OUTPUT INSERTED.[StockId]
VALUES (@p9, @p10);
22:27:03 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Packet_Order_OrderId". The conflict occurred in database "MyBGList", table "dbo.Order", column 'OrderId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7eb0cddf-119e-4ead-b3f3-270098b7b5aa
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Packet_Order_OrderId". The conflict occurred in database "MyBGList", table "dbo.Order", column 'OrderId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7eb0cddf-119e-4ead-b3f3-270098b7b5aa
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
22:27:03 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] An error occurred while seeding the database
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Packet_Order_OrderId". The conflict occurred in database "MyBGList", table "dbo.Order", column 'OrderId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7eb0cddf-119e-4ead-b3f3-270098b7b5aa
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7\Controllers\SeedController.cs:line 117
22:30:37 [INF] [ATARASHIBEASTX #20 ] Application is shutting down...
22:30:40 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
22:30:40 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
22:30:40 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
22:30:40 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7
22:30:44 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Failed to determine the https port for redirect.
22:30:44 [WRN] [ATARASHIBEASTX #8 .NET TP Worker] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
22:30:44 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (16ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime2), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = DateTime2), @p20='?' (DbType = DateTime2), @p21='?' (DbType = DateTime2), @p22='?' (DbType = DateTime2), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = DateTime2), @p34='?' (Size = 255), @p35='?' (DbType = DateTime2), @p36='?' (Size = 255), @p37='?' (DbType = DateTime2), @p38='?' (Size = 255), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = Int32), @p44='?' (DbType = Int32), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (Size = 9), @p50='?' (DbType = Int32), @p51='?' (Size = 9), @p52='?' (DbType = Int32), @p53='?' (Size = 9), @p54='?' (DbType = Int32), @p55='?' (Size = 50), @p56='?' (DbType = Int32), @p57='?' (Size = 50), @p58='?' (DbType = Int32), @p59='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2)) AS i ([BgName], [DateProduced], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([BgName], [DateProduced])
VALUES (i.[BgName], i.[DateProduced])
OUTPUT INSERTED.[BakingGoodId], i._Position;
INSERT INTO [BakingGoodBatch] ([BakingGoodId], [BatchId], [Quantity])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11),
(@p12, @p13, @p14);
MERGE [Batch] USING (
VALUES (@p15, @p16, @p17, 0),
(@p18, @p19, @p20, 1),
(@p21, @p22, @p23, 2)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[BatchId], i._Position;
INSERT INTO [BatchStock] ([BatchId], [StockId], [Quantity])
VALUES (@p24, @p25, @p26),
(@p27, @p28, @p29),
(@p30, @p31, @p32);
MERGE [Order] USING (
VALUES (@p33, @p34, 0),
(@p35, @p36, 1),
(@p37, @p38, 2)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[OrderId], i._Position;
INSERT INTO [OrderBakingGood] ([BakingGoodId], [OrderId], [Quantity])
VALUES (@p39, @p40, @p41),
(@p42, @p43, @p44),
(@p45, @p46, @p47);
MERGE [Packet] USING (
VALUES (@p48, @p49, 0),
(@p50, @p51, 1),
(@p52, @p53, 2)) AS i ([OrderId], [TrackId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([OrderId], [TrackId])
VALUES (i.[OrderId], i.[TrackId])
OUTPUT INSERTED.[PacketId], i._Position;
MERGE [Stock] USING (
VALUES (@p54, @p55, 0),
(@p56, @p57, 1),
(@p58, @p59, 2)) AS i ([Quantity], [SkName], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Quantity], [SkName])
VALUES (i.[Quantity], i.[SkName])
OUTPUT INSERTED.[StockId], i._Position;
22:30:44 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_BakingGoodBatch_BakingGood_BakingGoodId". The conflict occurred in database "MyBGList", table "dbo.BakingGood", column 'BakingGoodId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:79389b22-d1be-43a0-88af-e5f748392783
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_BakingGoodBatch_BakingGood_BakingGoodId". The conflict occurred in database "MyBGList", table "dbo.BakingGood", column 'BakingGoodId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:79389b22-d1be-43a0-88af-e5f748392783
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
22:30:45 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] An error occurred while seeding the database
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_BakingGoodBatch_BakingGood_BakingGoodId". The conflict occurred in database "MyBGList", table "dbo.BakingGood", column 'BakingGoodId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:79389b22-d1be-43a0-88af-e5f748392783
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7\Controllers\SeedController.cs:line 124
22:44:52 [INF] [ATARASHIBEASTX #21 ] Application is shutting down...
22:45:22 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
22:45:22 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
22:45:22 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
22:45:22 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
22:45:22 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
22:45:22 [INF] [ATARASHIBEASTX #1 ] Applying migration '20240326214514_InitialCreate'.
22:45:22 [ERR] [ATARASHIBEASTX #1 ] Failed executing DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGood] (
    [BakingGoodId] int NOT NULL IDENTITY,
    [BgName] nvarchar(50) NOT NULL,
    [DateProduced] datetime2 NOT NULL,
    CONSTRAINT [PK_BakingGood] PRIMARY KEY ([BakingGoodId])
);
22:45:47 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (241ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [MyBGList];
22:45:47 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [MyBGList] SET READ_COMMITTED_SNAPSHOT ON;
END;
22:45:47 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
22:45:47 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
22:45:47 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
22:45:47 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
22:45:47 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
22:45:47 [INF] [ATARASHIBEASTX #1 ] Applying migration '20240326214514_InitialCreate'.
22:45:47 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGood] (
    [BakingGoodId] int NOT NULL IDENTITY,
    [BgName] nvarchar(50) NOT NULL,
    [DateProduced] datetime2 NOT NULL,
    CONSTRAINT [PK_BakingGood] PRIMARY KEY ([BakingGoodId])
);
22:45:47 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Batch] (
    [BatchId] int NOT NULL IDENTITY,
    [StartDateTime] datetime2 NOT NULL,
    [EndDateTime] datetime2 NOT NULL,
    [ActualEndTime] datetime2 NOT NULL,
    CONSTRAINT [PK_Batch] PRIMARY KEY ([BatchId])
);
22:45:47 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Order] (
    [OrderId] int NOT NULL IDENTITY,
    [DeliveryPlace] nvarchar(255) NOT NULL,
    [DeliveryDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Order] PRIMARY KEY ([OrderId])
);
22:45:47 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Stock] (
    [StockId] int NOT NULL IDENTITY,
    [SkName] nvarchar(50) NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_Stock] PRIMARY KEY ([StockId])
);
22:45:47 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BakingGoodBatch] (
    [BakingGoodId] int NOT NULL,
    [BatchId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BakingGoodBatch] PRIMARY KEY ([BatchId], [BakingGoodId]),
    CONSTRAINT [FK_BakingGoodBatch_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([BakingGoodId]) ON DELETE CASCADE,
    CONSTRAINT [FK_BakingGoodBatch_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([BatchId]) ON DELETE CASCADE
);
22:45:47 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OrderBakingGood] (
    [OrderId] int NOT NULL,
    [BakingGoodId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_OrderBakingGood] PRIMARY KEY ([OrderId], [BakingGoodId]),
    CONSTRAINT [FK_OrderBakingGood_BakingGood_BakingGoodId] FOREIGN KEY ([BakingGoodId]) REFERENCES [BakingGood] ([BakingGoodId]) ON DELETE CASCADE,
    CONSTRAINT [FK_OrderBakingGood_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([OrderId]) ON DELETE CASCADE
);
22:45:47 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Packet] (
    [PacketId] int NOT NULL IDENTITY,
    [TrackId] nvarchar(9) NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Packet] PRIMARY KEY ([PacketId]),
    CONSTRAINT [FK_Packet_Order_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Order] ([OrderId]) ON DELETE CASCADE
);
22:45:47 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BatchStock] (
    [BatchId] int NOT NULL,
    [StockId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_BatchStock] PRIMARY KEY ([BatchId], [StockId]),
    CONSTRAINT [FK_BatchStock_Batch_BatchId] FOREIGN KEY ([BatchId]) REFERENCES [Batch] ([BatchId]) ON DELETE CASCADE,
    CONSTRAINT [FK_BatchStock_Stock_StockId] FOREIGN KEY ([StockId]) REFERENCES [Stock] ([StockId]) ON DELETE CASCADE
);
22:45:47 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BakingGoodBatch_BakingGoodId] ON [BakingGoodBatch] ([BakingGoodId]);
22:45:47 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BatchStock_StockId] ON [BatchStock] ([StockId]);
22:45:47 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OrderBakingGood_BakingGoodId] ON [OrderBakingGood] ([BakingGoodId]);
22:45:47 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Packet_OrderId] ON [Packet] ([OrderId]);
22:45:47 [INF] [ATARASHIBEASTX #1 ] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240326214514_InitialCreate', N'8.0.2');
22:46:07 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
22:46:07 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
22:46:07 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
22:46:07 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7
22:46:26 [WRN] [ATARASHIBEASTX #10 .NET TP Worker] Failed to determine the https port for redirect.
22:46:27 [WRN] [ATARASHIBEASTX #10 .NET TP Worker] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
22:46:27 [INF] [ATARASHIBEASTX #10 .NET TP Worker] Executed DbCommand (29ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime2), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = DateTime2), @p20='?' (DbType = DateTime2), @p21='?' (DbType = DateTime2), @p22='?' (DbType = DateTime2), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = DateTime2), @p34='?' (Size = 255), @p35='?' (DbType = DateTime2), @p36='?' (Size = 255), @p37='?' (DbType = DateTime2), @p38='?' (Size = 255), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = Int32), @p44='?' (DbType = Int32), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (Size = 9), @p50='?' (DbType = Int32), @p51='?' (Size = 9), @p52='?' (DbType = Int32), @p53='?' (Size = 9), @p54='?' (DbType = Int32), @p55='?' (Size = 50), @p56='?' (DbType = Int32), @p57='?' (Size = 50), @p58='?' (DbType = Int32), @p59='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2)) AS i ([BgName], [DateProduced], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([BgName], [DateProduced])
VALUES (i.[BgName], i.[DateProduced])
OUTPUT INSERTED.[BakingGoodId], i._Position;
INSERT INTO [BakingGoodBatch] ([BakingGoodId], [BatchId], [Quantity])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11),
(@p12, @p13, @p14);
MERGE [Batch] USING (
VALUES (@p15, @p16, @p17, 0),
(@p18, @p19, @p20, 1),
(@p21, @p22, @p23, 2)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[BatchId], i._Position;
INSERT INTO [BatchStock] ([BatchId], [StockId], [Quantity])
VALUES (@p24, @p25, @p26),
(@p27, @p28, @p29),
(@p30, @p31, @p32);
MERGE [Order] USING (
VALUES (@p33, @p34, 0),
(@p35, @p36, 1),
(@p37, @p38, 2)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[OrderId], i._Position;
INSERT INTO [OrderBakingGood] ([BakingGoodId], [OrderId], [Quantity])
VALUES (@p39, @p40, @p41),
(@p42, @p43, @p44),
(@p45, @p46, @p47);
MERGE [Packet] USING (
VALUES (@p48, @p49, 0),
(@p50, @p51, 1),
(@p52, @p53, 2)) AS i ([OrderId], [TrackId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([OrderId], [TrackId])
VALUES (i.[OrderId], i.[TrackId])
OUTPUT INSERTED.[PacketId], i._Position;
MERGE [Stock] USING (
VALUES (@p54, @p55, 0),
(@p56, @p57, 1),
(@p58, @p59, 2)) AS i ([Quantity], [SkName], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Quantity], [SkName])
VALUES (i.[Quantity], i.[SkName])
OUTPUT INSERTED.[StockId], i._Position;
22:46:27 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_BakingGoodBatch_Batch_BatchId". The conflict occurred in database "MyBGList", table "dbo.Batch", column 'BatchId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0bab0d9f-1420-4e21-8618-3c1070fd9ae8
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_BakingGoodBatch_Batch_BatchId". The conflict occurred in database "MyBGList", table "dbo.Batch", column 'BatchId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0bab0d9f-1420-4e21-8618-3c1070fd9ae8
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
22:46:27 [ERR] [ATARASHIBEASTX #10 .NET TP Worker] An error occurred while seeding the database
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_BakingGoodBatch_Batch_BatchId". The conflict occurred in database "MyBGList", table "dbo.Batch", column 'BatchId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0bab0d9f-1420-4e21-8618-3c1070fd9ae8
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7\Controllers\SeedController.cs:line 124
22:52:19 [INF] [ATARASHIBEASTX #19 ] Application is shutting down...
22:52:22 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
22:52:22 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
22:52:22 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
22:52:22 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7
22:52:39 [WRN] [ATARASHIBEASTX #11 .NET TP Worker] Failed to determine the https port for redirect.
22:52:40 [WRN] [ATARASHIBEASTX #11 .NET TP Worker] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
22:52:40 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (15ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime2), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = DateTime2), @p20='?' (DbType = DateTime2), @p21='?' (DbType = DateTime2), @p22='?' (DbType = DateTime2), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = DateTime2), @p34='?' (Size = 255), @p35='?' (DbType = DateTime2), @p36='?' (Size = 255), @p37='?' (DbType = DateTime2), @p38='?' (Size = 255), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = Int32), @p44='?' (DbType = Int32), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (Size = 9), @p50='?' (DbType = Int32), @p51='?' (Size = 9), @p52='?' (DbType = Int32), @p53='?' (Size = 9), @p54='?' (DbType = Int32), @p55='?' (Size = 50), @p56='?' (DbType = Int32), @p57='?' (Size = 50), @p58='?' (DbType = Int32), @p59='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2)) AS i ([BgName], [DateProduced], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([BgName], [DateProduced])
VALUES (i.[BgName], i.[DateProduced])
OUTPUT INSERTED.[BakingGoodId], i._Position;
INSERT INTO [BakingGoodBatch] ([BakingGoodId], [BatchId], [Quantity])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11),
(@p12, @p13, @p14);
MERGE [Batch] USING (
VALUES (@p15, @p16, @p17, 0),
(@p18, @p19, @p20, 1),
(@p21, @p22, @p23, 2)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[BatchId], i._Position;
INSERT INTO [BatchStock] ([BatchId], [StockId], [Quantity])
VALUES (@p24, @p25, @p26),
(@p27, @p28, @p29),
(@p30, @p31, @p32);
MERGE [Order] USING (
VALUES (@p33, @p34, 0),
(@p35, @p36, 1),
(@p37, @p38, 2)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[OrderId], i._Position;
INSERT INTO [OrderBakingGood] ([BakingGoodId], [OrderId], [Quantity])
VALUES (@p39, @p40, @p41),
(@p42, @p43, @p44),
(@p45, @p46, @p47);
MERGE [Packet] USING (
VALUES (@p48, @p49, 0),
(@p50, @p51, 1),
(@p52, @p53, 2)) AS i ([OrderId], [TrackId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([OrderId], [TrackId])
VALUES (i.[OrderId], i.[TrackId])
OUTPUT INSERTED.[PacketId], i._Position;
MERGE [Stock] USING (
VALUES (@p54, @p55, 0),
(@p56, @p57, 1),
(@p58, @p59, 2)) AS i ([Quantity], [SkName], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Quantity], [SkName])
VALUES (i.[Quantity], i.[SkName])
OUTPUT INSERTED.[StockId], i._Position;
22:52:40 [ERR] [ATARASHIBEASTX #12 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_BakingGoodBatch_BakingGood_BakingGoodId". The conflict occurred in database "MyBGList", table "dbo.BakingGood", column 'BakingGoodId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2d3aaf49-55af-4b0c-be97-55c5b359b1d1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_BakingGoodBatch_BakingGood_BakingGoodId". The conflict occurred in database "MyBGList", table "dbo.BakingGood", column 'BakingGoodId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2d3aaf49-55af-4b0c-be97-55c5b359b1d1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
22:52:40 [ERR] [ATARASHIBEASTX #12 .NET TP Worker] An error occurred while seeding the database
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_BakingGoodBatch_BakingGood_BakingGoodId". The conflict occurred in database "MyBGList", table "dbo.BakingGood", column 'BakingGoodId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2d3aaf49-55af-4b0c-be97-55c5b359b1d1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7\Controllers\SeedController.cs:line 117
22:55:05 [INF] [ATARASHIBEASTX #17 ] Application is shutting down...
22:55:09 [INF] [ATARASHIBEASTX #1 ] Now listening on: http://localhost:5113
22:55:09 [INF] [ATARASHIBEASTX #1 ] Application started. Press Ctrl+C to shut down.
22:55:09 [INF] [ATARASHIBEASTX #1 ] Hosting environment: Development
22:55:09 [INF] [ATARASHIBEASTX #1 ] Content root path: D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7
22:55:13 [WRN] [ATARASHIBEASTX #11 .NET TP Worker] Failed to determine the https port for redirect.
22:55:13 [WRN] [ATARASHIBEASTX #11 .NET TP Worker] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
22:55:14 [INF] [ATARASHIBEASTX #12 .NET TP Worker] Executed DbCommand (16ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime2), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = DateTime2), @p20='?' (DbType = DateTime2), @p21='?' (DbType = DateTime2), @p22='?' (DbType = DateTime2), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = DateTime2), @p34='?' (Size = 255), @p35='?' (DbType = DateTime2), @p36='?' (Size = 255), @p37='?' (DbType = DateTime2), @p38='?' (Size = 255), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = Int32), @p44='?' (DbType = Int32), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (Size = 9), @p50='?' (DbType = Int32), @p51='?' (Size = 9), @p52='?' (DbType = Int32), @p53='?' (Size = 9), @p54='?' (DbType = Int32), @p55='?' (Size = 50), @p56='?' (DbType = Int32), @p57='?' (Size = 50), @p58='?' (DbType = Int32), @p59='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BakingGood] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2)) AS i ([BgName], [DateProduced], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([BgName], [DateProduced])
VALUES (i.[BgName], i.[DateProduced])
OUTPUT INSERTED.[BakingGoodId], i._Position;
INSERT INTO [BakingGoodBatch] ([BakingGoodId], [BatchId], [Quantity])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11),
(@p12, @p13, @p14);
MERGE [Batch] USING (
VALUES (@p15, @p16, @p17, 0),
(@p18, @p19, @p20, 1),
(@p21, @p22, @p23, 2)) AS i ([ActualEndTime], [EndDateTime], [StartDateTime], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ActualEndTime], [EndDateTime], [StartDateTime])
VALUES (i.[ActualEndTime], i.[EndDateTime], i.[StartDateTime])
OUTPUT INSERTED.[BatchId], i._Position;
INSERT INTO [BatchStock] ([BatchId], [StockId], [Quantity])
VALUES (@p24, @p25, @p26),
(@p27, @p28, @p29),
(@p30, @p31, @p32);
MERGE [Order] USING (
VALUES (@p33, @p34, 0),
(@p35, @p36, 1),
(@p37, @p38, 2)) AS i ([DeliveryDate], [DeliveryPlace], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeliveryDate], [DeliveryPlace])
VALUES (i.[DeliveryDate], i.[DeliveryPlace])
OUTPUT INSERTED.[OrderId], i._Position;
INSERT INTO [OrderBakingGood] ([BakingGoodId], [OrderId], [Quantity])
VALUES (@p39, @p40, @p41),
(@p42, @p43, @p44),
(@p45, @p46, @p47);
MERGE [Packet] USING (
VALUES (@p48, @p49, 0),
(@p50, @p51, 1),
(@p52, @p53, 2)) AS i ([OrderId], [TrackId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([OrderId], [TrackId])
VALUES (i.[OrderId], i.[TrackId])
OUTPUT INSERTED.[PacketId], i._Position;
MERGE [Stock] USING (
VALUES (@p54, @p55, 0),
(@p56, @p57, 1),
(@p58, @p59, 2)) AS i ([Quantity], [SkName], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Quantity], [SkName])
VALUES (i.[Quantity], i.[SkName])
OUTPUT INSERTED.[StockId], i._Position;
22:55:14 [ERR] [ATARASHIBEASTX #12 .NET TP Worker] An exception occurred in the database while saving changes for context type 'MyBGList_Chap6.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_BakingGoodBatch_BakingGood_BakingGoodId". The conflict occurred in database "MyBGList", table "dbo.BakingGood", column 'BakingGoodId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:cac4ab8e-7b6a-4167-8543-661cd6b41434
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_BakingGoodBatch_BakingGood_BakingGoodId". The conflict occurred in database "MyBGList", table "dbo.BakingGood", column 'BakingGoodId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:cac4ab8e-7b6a-4167-8543-661cd6b41434
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
22:55:14 [ERR] [ATARASHIBEASTX #12 .NET TP Worker] An error occurred while seeding the database
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_BakingGoodBatch_BakingGood_BakingGoodId". The conflict occurred in database "MyBGList", table "dbo.BakingGood", column 'BakingGoodId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:cac4ab8e-7b6a-4167-8543-661cd6b41434
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MyBGList.Controllers.SeedController.Post() in D:\4_semester_git\4th-semester-turn-ins\BAD\ass3\MyBGList_Chap7_dotnet8\MyBGList_Chap7\Controllers\SeedController.cs:line 114
